webpackJsonp([63],{"./backend/Embed.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("./node_modules/debug/src/browser.js");var i=s(r);var o=n("../node_modules/querystring-es3/index.js");var a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=(0,i.default)("core:edition:embed");var h=function(){function t(e){u(this,t);this.apiKey=e}t.prototype.fetch=function(t){function e(e){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(t){var e={url:t,ssl:1,key:this.apiKey};c("fetch infos for "+t);return fetch("https://iframe.ly/api/iframely?"+a.default.stringify(e)).then(function(t){if(200!==t.status)throw new Error(t.statusText);return t.json()}).then(function(e){var n=f(e,"player")||f(e,"app")||f(e,"reader")||f(e,"image")||f(e,"file");return{url:t,type:l(n),title:e.meta.title.trim(),description:e.meta.description,icon:f(e,"icon"),thumbnail:f(e,"thumbnail"),embed:n}})});return t}();function f(t,e){var n=t.links[e]||[];var r=n[0];if(!r)return;var i=r.media;var o="file"==e&&0==r.type.indexOf("image/");return{type:o?"image":e,url:r.href,html:r.html,width:i?i.width:void 0,height:i?i.height:void 0,maxWidth:i?i["max-width"]:void 0,maxHeight:i?i["max-height"]:void 0,aspectRatio:i?i["aspect-ratio"]||i.height/i.width:0}}function l(t){if(!t)return"link";switch(t.type){case"player":return"video";case"image":return"image";default:return"rich"}}e.default=h},"./backend/GenericBackend.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o);var s=a.value}catch(t){n(t);return}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){i(this,t)}t.prototype.destroy=function(){var t=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();return t}();e.default=o},"./backend/analytics/GenericAnalytics.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n("./core/index.js");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){o(this,t)}t.prototype.identify=function t(e){};t.prototype.alias=function t(e){};t.prototype.group=function t(e){};t.prototype.page=function t(){};t.prototype.track=function t(e){};t.prototype.trackOrgEvent=function t(e,n){};t.prototype.trackSignIn=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password";return this.track({type:"Sign-in",Provider:e})};t.prototype.trackSignUp=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password";return this.track({type:"Sign-up",Provider:e})};t.prototype.trackVerifyPhone=function t(e){return this.track({type:"Verify Phone",Country:e})};t.prototype.trackVerifyEmail=function t(){return this.track({type:"Verify Email"})};t.prototype.trackCreateOrg=function t(e,n){var i=r({type:"Create Organization"},u(e),s(n));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackDeleteOrg=function t(e){var n=r({type:"Delete Organization"},u(e));this.track(n);this.trackOrgEvent(e,n)};t.prototype.trackSetupCustomDomain=function t(e,n){var i=r({type:"Setup Custom Domain"},u(e));n&&(i=r({},i,s(n)));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackStartMigration=function t(e){var n=r({type:"Start Migration"},u(e));this.track(n);this.trackOrgEvent(e,n)};t.prototype.trackConfirmMigration=function t(e){var n=r({type:"Confirm Migration"},u(e));this.track(n);this.trackOrgEvent(e,n)};t.prototype.trackRollbackMigration=function t(e){var n=r({type:"Rollback Migration"},u(e));this.track(n);this.trackOrgEvent(e,n)};t.prototype.trackCreateSpace=function t(e,n){var i=r({type:"Create Space"},u(e),s(n));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackJoinOrg=function t(e){var n=e.org,i=e.role,o=e.isTeam;var a=r({type:"Join Organization",Role:i,"Is Team":o},u(n));this.track(a);this.trackOrgEvent(n,a)};t.prototype.trackCreateTeam=function t(e){var n=r({type:"Create Team"},u(e));this.track(n);this.trackOrgEvent(e,n)};t.prototype.trackStartEditing=function t(e,n){var i=r({type:"Start Editing"},u(e),s(n));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackSaveDraft=function t(e){var n=e.org,i=e.space,o=e.draft,a=e.working;var c=r({type:"Save Draft","Is First Save":o.isInitial},u(n),s(i),h(a.base,a.revision));this.track(c);this.trackOrgEvent(n,c)};t.prototype.trackResumeEditing=function t(e){var n=e.org,i=e.space,o=e.working;var a=r({type:"Resume Editing"},u(n),s(i),h(o.base,o.revision));this.track(a);this.trackOrgEvent(n,a)};t.prototype.trackCancelEdits=function t(e){var n=e.org,i=e.space,o=e.working;var a=r({type:"Cancel Edits"},u(n),s(i),h(o.base,o.revision));this.track(a);this.trackOrgEvent(n,a)};t.prototype.trackPublishDraft=function t(e){var n=e.org,i=e.space,o=e.base,a=e.head;var c=r({type:"Publish Draft"},u(n),s(i),h(o,a));this.track(c);this.trackOrgEvent(n,c)};t.prototype.trackConflictStart=function t(e){var n=e.org,i=e.space,o=e.conflictsState;var a=r({type:"Conflict Start"},u(n),s(i),c(o));this.track(a);this.trackOrgEvent(n,a)};t.prototype.trackConflictResolution=function t(e){var n=e.org,i=e.space,o=e.conflictsState;var a=r({type:"Conflict Resolution"},u(n),s(i),c(o),{"Time Spent":o.getResolutionDuration()/1e3});this.track(a);this.trackOrgEvent(n,a)};t.prototype.trackConflictAbortion=function t(e){var n=e.org,i=e.space,o=e.conflictsState;var a=r({type:"Conflict Abortion"},u(n),s(i),c(o),{"Time Spent":o.getResolutionDuration()/1e3});this.track(a);this.trackOrgEvent(n,a)};t.prototype.trackRatePage=function t(e,n,i){var o=r({type:"Rate Page",Rating:i},u(e),s(n));this.track(o);this.trackOrgEvent(e,o)};t.prototype.trackCloseDraft=function t(e,n){var i=r({type:"Close Draft"},u(e),s(n));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackReopenDraft=function t(e,n){var i=r({type:"Reopen Draft"},u(e),s(n));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackRollback=function t(e,n,i){var o=r({type:"Rollback Revision","Is Draft":i},u(e),s(n));this.track(o);this.trackOrgEvent(e,o)};t.prototype.trackUpgrade=function t(e,n,i){var o=r({type:"Upgrade",Plan:i,"Previous Plan":n},u(e));this.track(o);this.trackOrgEvent(e,o)};t.prototype.trackDowngrade=function t(e,n,i){var o=r({type:"Downgrade",Plan:i,"Previous Plan":n},u(e));this.track(o);this.trackOrgEvent(e,o)};t.prototype.trackExportUser=function t(e){var n={type:"Export User",userID:e};this.track(n)};t.prototype.trackExportOrg=function t(e){var n=r({type:"Export Org"},u(e));this.track(n);this.trackOrgEvent(e,n)};t.prototype.trackExportSpace=function t(e,n){var i=r({type:"Export Space"},u(e),s(n));this.track(i);this.trackOrgEvent(e,i)};t.prototype.trackUncaughtException=function t(e){return this.track({type:"Uncaught Exception",Error:e})};return t}();function s(t){return{"Space Visibility":t.visibility,"Space Is Indexable":t.isIndexable,"Space Has GitHub":t.hasGitHubSync,"Space Has Custom Domain":Boolean(t.customDomain)}}function u(t){return{"Org Type":t.type||"business","Org Has Custom Domain":Boolean(t.customDomain),"Org Has SSO":Boolean(t.ssoSignInLabel)}}function c(t){return{"Pages Conflicting":t.getConflictingPagesCount(),"During Publish":t.isPublish}}function h(t,e){var n=i.Revisioning.compare(t,e);return{Changes:n.addedPages+n.modifiedPages+n.removedPages,"Versions Created":n.addedVersions,"Versions Deleted":n.removedVersions,"Versions Modified":n.modifiedVersions,"Pages Created":n.addedPages,"Pages Deleted":n.removedPages,"Pages Modified":n.modifiedPages}}e.default=a},"./backend/analytics/WebAnalytics.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n("./node_modules/urljoin.js/dist/index.js");var o=w(i);var a=n("./node_modules/@segment/analytics.js-core/lib/index.js");var s=w(a);var u=n("./node_modules/analytics.js-integration-hotjar/lib/index.js");var c=w(u);var h=n("./node_modules/@segment/analytics.js-integration-mixpanel/lib/index.js");var f=w(h);var l=n("./node_modules/@segment/analytics.js-integration-sentry/lib/index.js");var p=w(l);var d=n("./node_modules/debug/src/browser.js");var v=w(d);var m=n("./backend/analytics/GenericAnalytics.js");var g=w(m);var y=n("./backend/analytics/createConfig.js");var b=w(y);function w(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S=(0,v.default)("core:analytics");s.default.use(c.default);s.default.use(f.default);s.default.use(p.default);var E=function(t){x(e,t);function e(r){_(this,e);var i=k(this,t.call(this));i.websiteUrl=r.urls.website;s.default.initialize((0,b.default)(r));if(window.RavenConfig){window.RavenConfig.config.autoBreadcrumbs={xhr:true,console:false,dom:true,location:true};window.RavenConfig.config.ignoreErrors=["Failed to fetch","Network Error"];window.RavenConfig.config.whitelistUrls=[n.p]}window.mixpanel&&r.mixpanel.orgs_token&&window.mixpanel.init(r.mixpanel.orgs_token,{},"orgs");s.default.ready(function(){if(!window.Raven)return;window.Raven.setDataCallback(function(t){t.exception&&i.trackUncaughtException(t.exception.values[0].value);return t});window.addEventListener("unhandledrejection",function(t){window.Raven.captureException(t.reason)})});return i}e.prototype.identify=function t(e){if(!e.isLoggedIn){this.resetToAnonymous();return}var n={name:e.displayName,email:e.email,phone:e.phoneNumber,avatar:e.photoURL,createdAt:e.createdAt.toISOString(),"Has Phone Verified":e.hasPhoneVerified,"Risk Score":e.riskScore,"Sign-in Providers":e.providers.keySeq().toArray()};S("identify user "+e.uid+":",n);s.default.identify(e.uid,n)};e.prototype.resetToAnonymous=function t(){var e=s.default.user().anonymousId();s.default.reset();s.default.user().anonymousId(e)};e.prototype.alias=function t(e){S("alias current session to "+e.uid);s.default.alias(e.uid)};e.prototype.group=function t(e){var n={name:e.name,avatar:e.logoURL,createdAt:e.createdAt.toISOString(),website:(0,o.default)(this.websiteUrl,"@"+e.baseDomain),"Base Domain":e.baseDomain};S("group current user with "+e.uid,n);s.default.group(e.uid,n);if(window.mixpanel&&window.mixpanel.orgs){window.mixpanel.orgs.identify(e.uid);window.mixpanel.orgs.people.set({$name:e.name,$created:e.createdAt,Type:e.type||"business","Base Domain":e.baseDomain,"Custom Domain":e.customDomain,"SSO Label":e.ssoSignInLabel})}};e.prototype.page=function t(){S("track page view",window.location.pathname);s.default.page({})};e.prototype.track=function t(e){var n=r({},e);delete n.type;S("track event "+e.type+" with",n);s.default.track(e.type,n)};e.prototype.trackOrgEvent=function t(e,n){var i=r({distinct_id:e.uid},n);delete i.type;S("track event "+n.type+" for org "+e.uid+" with",i);if(!window.mixpanel||!window.mixpanel.orgs)return;window.mixpanel.orgs.track(n.type,i)};return e}(g.default);e.default=E},"./backend/analytics/createConfig.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});function r(t){var e={};t.mixpanel.token&&(e.Mixpanel={consolidatedPageCalls:false,pageview:false,trackAllPages:false,trackNamedPages:false,trackCategorizedPages:false,people:true,token:t.mixpanel.token});t.sentry.url&&(e.Sentry={config:t.sentry.url,release:t.version,environment:t.domains.spaces?"production":"development"});t.hotjar.site_id&&(e.Hotjar={hjid:t.hotjar.site_id,hjsv:6,recordVisitors:false});return e}e.default=r},"./backend/auth/Auth.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i,o,a,s,u,c,h,f;var l=n("./node_modules/debug/src/browser.js");var p=R(l);var d=n("./node_modules/uuid/index.js");var v=R(d);var m=n("./node_modules/libphonenumber-js/index.es6.js");var g=n("./node_modules/local-storage/local-storage.js");var y=R(g);var b=n("./node_modules/jwt-decode/lib/index.js");var w=R(b);var _=n("./node_modules/warning/browser.js");var k=R(_);var x=n("./node_modules/graphql-request/dist/src/index.js");var S=n("./core/index.js");var E=n("./debug/index.js");var I=n("./backend/firebase.js");var T=R(I);var P=n("./backend/storages/index.js");var A=n("./backend/utils/index.js");var O=n("./backend/auth/GenericAuth.js");var j=R(O);function R(t){return t&&t.__esModule?t:{default:t}}function N(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o);var s=a.value}catch(t){n(t);return}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function L(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function U(t,e,n,r,i){var o={};Object["keys"](r).forEach(function(t){o[t]=r[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;("value"in o||o.initializer)&&(o.writable=true);o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o);if(i&&void 0!==o.initializer){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=void 0}if(void 0===o.initializer){Object["defineProperty"](t,e,o);o=null}return o}var M=(0,p.default)("core:auth");var V="visitor_uid";var F="\n    mutation LegacySignIn($email: String!, $password: String!) {\n      legacySignIn(email: $email, password: $password) {\n        auth {\n            uid,\n            token\n        }\n      }\n    }\n";var B="\n    mutation LegacyCheck($password: String) {\n      legacyCheckUser(password: $password) {\n          auth {\n            uid,\n            token\n        }\n      }\n    }\n";var W=(i=(0,E.captureTrace)("auth.listen"),o=(0,E.captureTrace)("auth.signUp"),a=(0,E.captureTrace)("auth.signIn"),s=(0,E.captureTrace)("auth.signInAsLegacy"),u=(0,E.captureTrace)("auth.signInWithAuthToken"),f=function(t){L(e,t);e.createVisitor=function t(){var e=y.default.get(V)||v.default.v4();y.default.set(V,e);return S.AuthUser.createVisitor({uid:e})};function e(n,r,i,o,a){C(this,e);var s=D(this,t.call(this,o,a));s.auth=n;s.storage=r;s.database=i;s.apiEndpoint=a.apiEndpoint;s.auth.setPersistence(T.default.auth.Auth.Persistence.NONE);return s}e.prototype.unlisten=function t(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null}this.stopObserveProfile();this.stopObserveIdToken()};e.prototype.assertUser=function t(){var e=this.auth.currentUser;if(!e||e.uid===S.AuthUser.VISITOR_UID)throw new Error("User is not logged in");return e};e.prototype.dispatchVisitor=function t(){this.stopObserveProfile();this.stopObserveIdToken();this.dispatchUser(function(){return e.createVisitor()})};e.prototype.dispatchFirebaseUser=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o,a;return regeneratorRuntime.wrap(function t(s){while(1)switch(s.prev=s.next){case 0:if(!(e.uid===S.AuthUser.VISITOR_UID)){s.next=3;break}this.dispatchVisitor();return s.abrupt("return");case 3:o=!this.user.live||this.user.uid!=e.uid;a=S.AuthUser.createFromFirebase(r({},e,{customClaims:i}));s.next=7;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:n.dispatchUser(function(){return a});r.next=3;return o?n.observeProfile(e):null;case 3:r.t0=r.sent;r.next=6;return o?n.observeIdToken(e):n.onIdTokenChanged(e);case 6:r.t1=r.sent;return r.abrupt("return",[r.t0,r.t1]);case 8:case"end":return r.stop()}},t,n)})));case 7:case"end":return s.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.onIdTokenChanged=function(){var t=N(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return(0,A.toESPromise)(function(){return e.getIdToken()});case 3:n=r.sent;r.next=6;return this.dispatchUser(function(t){return t.setIdToken(n)});case 6:r.next=15;break;case 8:r.prev=8;r.t0=r["catch"](0);if(!("auth/app-deleted"===r.t0.code||"auth/user-disabled"===r.t0.code||"auth/user-token-expired"===r.t0.code)){r.next=14;break}r.next=13;return this.signOut();case 13:return r.abrupt("return");case 14:throw r.t0;case 15:case"end":return r.stop()}},t,this,[[0,8]])}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.observeProfile=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;var r,i,o;return regeneratorRuntime.wrap(function t(a){while(1)switch(a.prev=a.next){case 0:this.stopObserveProfile();r=this.database.observeDocument(S.User.queryByID(e.uid),function(t){var e=t;if(e){var r=e;n.dispatchUser(function(t){return t.mergeWithUser(r)})}}),i=r.observerID,o=r.pending;this.userObserver=i;a.next=5;return o;case 5:case"end":return a.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.stopObserveProfile=function t(){if(this.userObserver){this.database.stopObserving(this.userObserver);this.userObserver=null}};e.prototype.observeIdToken=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:this.stopObserveIdToken();this.unsubscribeToken=this.auth.onIdTokenChanged(function(){n.onIdTokenChanged(e)});r.next=4;return this.onIdTokenChanged(e);case 4:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.stopObserveIdToken=function t(){if(this.unsubscribeToken){this.unsubscribeToken();this.unsubscribeToken=null}};e.prototype.listen=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:(0,k.default)(!this.unsubscribe,"Authentication backend already has a listener");if(!this.unsubscribe){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return new Promise(function(t,e){n.unsubscribe=n.auth.onAuthStateChanged(function(){var r=N(regeneratorRuntime.mark(function r(i){return regeneratorRuntime.wrap(function r(o){while(1)switch(o.prev=o.next){case 0:M("auth state changed to "+(i?"logged in":"visitor"));if(i){o.next=5;break}n.dispatchVisitor();t();return o.abrupt("return");case 5:o.prev=5;o.next=8;return n.dispatchFirebaseUser(i);case 8:o.next=14;break;case 10:o.prev=10;o.t0=o["catch"](5);e(o.t0);return o.abrupt("return");case 14:t();case 15:case"end":return o.stop()}},r,n,[[5,10]])}));return function(t){return r.apply(this,arguments)}}())});case 5:case"end":return e.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.signUp=function(){var t=N(regeneratorRuntime.mark(function t(e,n,r,i){var o=this;return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:M("sign up new user");e.next=3;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function t(u){while(1)switch(u.prev=u.next){case 0:u.next=2;return(0,A.toESPromise)(function(){return o.auth.createUserWithEmailAndPassword(r,i)});case 2:e=u.sent;a=e.user;u.next=6;return(0,A.toESPromise)(function(){return a.updateProfile({displayName:n})});case 6:u.prev=6;u.next=9;return o.checkWithLegacy(a,i);case 9:if(!u.sent){u.next=11;break}return u.abrupt("return");case 11:u.next=20;break;case 13:u.prev=13;u.t0=u["catch"](6);u.next=17;return o.signOut();case 17:u.next=19;return(0,A.toESPromise)(function(){return a.delete()});case 19:throw u.t0;case 20:u.next=22;return o.dispatchFirebaseUser(a);case 22:s=o.user.updateDisplayName(n);u.next=25;return o.updateProfile(s);case 25:o.analytics.identify(s);o.analytics.trackSignUp();case 27:case"end":return u.stop()}},t,o,[[6,13]])})));case 3:case"end":return e.stop()}},t,this)}));function e(e,n,r,i){return t.apply(this,arguments)}return e}();e.prototype.signIn=function(){var t=N(regeneratorRuntime.mark(function t(e,n,r){var i=this;return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:M("sign in user");e.next=3;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){var e,o;return regeneratorRuntime.wrap(function t(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return(0,A.toESPromise)(function(){return i.auth.signInWithEmailAndPassword(n,r)});case 3:e=a.sent;o=e.user;a.next=7;return i.dispatchFirebaseUser(o);case 7:a.next=18;break;case 9:a.prev=9;a.t0=a["catch"](0);a.t1="auth/user-not-found"!==a.t0.code;if(a.t1){a.next=16;break}a.next=15;return i.signInAsLegacy(n,r);case 15:a.t1=!a.sent;case 16:if(!a.t1){a.next=18;break}throw a.t0;case 18:i.analytics.identify(i.user);i.analytics.trackSignIn();case 20:case"end":return a.stop()}},t,i,[[0,9]])})));case 3:case"end":return e.stop()}},t,this)}));function e(e,n,r){return t.apply(this,arguments)}return e}();e.prototype.signInAsLegacy=function(){var t=N(regeneratorRuntime.mark(function t(e,n,r){var i,o,a,s;return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:i=new x.GraphQLClient(this.apiEndpoint);e.prev=1;e.next=4;return i.request(F,{email:n,password:r});case 4:o=e.sent;a=o.legacySignIn.auth;if(a){e.next=8;break}return e.abrupt("return",false);case 8:e.next=10;return this.signInWithAuthToken(a);case 10:return e.abrupt("return",true);case 13:e.prev=13;e.t0=e["catch"](1);s=e.t0.response&&e.t0.response.errors?e.t0.response.errors[0]:e.t0;throw s;case 17:case"end":return e.stop()}},t,this,[[1,13]])}));function e(e,n,r){return t.apply(this,arguments)}return e}();e.prototype.signInWithAuthToken=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r=this;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forceSync:false};var o,a,s;return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:o=n.token;a=i.forceSync;s=function(){var t=N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return r.signOut();case 2:r.database.setOnline(true);case 3:case"end":return e.stop()}},t,r)}));return function e(){return t.apply(this,arguments)}}();if(o){e.next=8;break}M("sign out user");e.next=7;return s();case 7:return e.abrupt("return");case 8:M("sign in user using a custom token");e.next=11;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){var e,n,i,u;return regeneratorRuntime.wrap(function t(c){while(1)switch(c.prev=c.next){case 0:c.prev=0;c.next=3;return(0,A.toESPromise)(function(){return r.auth.signInWithCustomToken(o)});case 3:e=c.sent;n=e.user;r.database.setOnline(true);i=o?(0,w.default)(o):{};u=i.claims;c.next=10;return r.dispatchFirebaseUser(n,u);case 10:c.next=19;break;case 12:c.prev=12;c.t0=c["catch"](0);M("error login with token: ",c.t0);if(a){c.next=17;break}throw c.t0;case 17:c.next=19;return s();case 19:case"end":return c.stop()}},t,r,[[0,12]])})));case 11:case"end":return e.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.reauthenticate=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:r=this.auth.currentUser;i=T.default.auth.EmailAuthProvider.credential(e,n);return o.abrupt("return",(0,A.toESPromise)(function(){return r.reauthenticateWithCredential(i)}));case 3:case"end":return o.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.reauthenticateWithGoogle=function(){var t=N(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:e=new T.default.auth.GoogleAuthProvider;return n.abrupt("return",this.reauthenticateWithProvider(e));case 2:case"end":return n.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.reauthenticateWithGithub=function(){var t=N(regeneratorRuntime.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scopes,r=void 0===n?[]:n;var i;return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:i=new T.default.auth.GithubAuthProvider;r.forEach(function(t){return i.addScope(t)});return e.abrupt("return",this.reauthenticateWithProvider(i));case 3:case"end":return e.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.reauthenticateWithProvider=function(){var t=N(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:n=this.assertUser();r=null!=n.providerData.find(function(t){return t.providerId==e.providerId});if(!r){i.next=4;break}return i.abrupt("return",(0,A.toESPromise)(function(){return n.reauthenticateWithPopup(e)}));case 4:return i.abrupt("return",(0,A.toESPromise)(function(){return n.linkWithPopup(e)}));case 5:case"end":return i.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.verifyEmail=function(){var t=N(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:n=this.assertUser();r.next=3;return(0,A.toESPromise)(function(){return n.sendEmailVerification({url:e})});case 3:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.uploadPhoto=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:r=P.StoragePaths.userUpload({userID:e.uid,filename:n.name});o.next=3;return this.storage.uploadFile(r,n,{metadata:{contentType:n.type},user:e});case 3:i=o.sent;o.next=6;return this.updateProfile(e.merge({photoURL:i.downloadURL}));case 6:case"end":return o.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.updateProfile=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;var r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:r=this.assertUser();i.next=3;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return n.flushProfile(e);case 3:i.next=5;return(0,A.toESPromise)(function(){return r.updateProfile({displayName:e.displayName,photoURL:e.photoURL})});case 5:i.next=12;break;case 7:i.prev=7;i.t0=i["catch"](0);i.next=11;return n.flushProfile(S.AuthUser.createFromFirebase(r));case 11:throw i.t0;case 12:case"end":return i.stop()}},t,n,[[0,7]])})));case 3:case"end":return i.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.updateEmail=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;var r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:r=this.assertUser();i.next=3;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return(0,A.toESPromise)(function(){return r.updateEmail(e)});case 2:i.next=4;return n.dispatchFirebaseUser(n.auth.currentUser);case 4:case"end":return i.stop()}},t,n)})));case 3:case"end":return i.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.updatePassword=function(){var t=N(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:n=this.assertUser();r.next=3;return(0,A.toESPromise)(function(){return n.updatePassword(e)});case 3:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.signOut=function(){var t=N(regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return(0,A.toESPromise)(function(){return n.auth.signOut()});case 2:n.dispatchUser(function(){return e.createVisitor()});case 3:case"end":return r.stop()}},t,n)})));case 2:case"end":return r.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}();e.prototype.checkWithLegacy=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function t(u){while(1)switch(u.prev=u.next){case 0:if(!S.AuthUser.isLegacyID(e.uid)){u.next=2;break}return u.abrupt("return",false);case 2:u.next=4;return(0,A.toESPromise)(function(){return e.getIdToken(true)});case 4:r=u.sent;i=new x.GraphQLClient(this.apiEndpoint,{headers:{Authorization:S.AuthUser.getAuthorizationHeader(e.uid,r)}});o=void 0;u.prev=7;u.next=10;return i.request(B,{password:n});case 10:a=u.sent;o=a.legacyCheckUser.auth;u.next=18;break;case 14:u.prev=14;u.t0=u["catch"](7);s=u.t0.response&&u.t0.response.errors?u.t0.response.errors[0]:u.t0;throw s;case 18:if(o){u.next=20;break}return u.abrupt("return",false);case 20:u.next=22;return this.signInWithAuthToken(o);case 22:return u.abrupt("return",true);case 23:case"end":return u.stop()}},t,this,[[7,14]])}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.signInWithProvider=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){var r,i,o;return regeneratorRuntime.wrap(function t(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return(0,A.toESPromise)(function(){return n.auth.signInWithPopup(e)});case 2:r=a.sent;i=r.user;a.prev=4;a.next=7;return n.checkWithLegacy(i);case 7:if(!a.sent){a.next=9;break}return a.abrupt("return");case 9:a.next=20;break;case 11:a.prev=11;a.t0=a["catch"](4);o=n.auth.currentUser;a.next=16;return n.signOut();case 16:if(!(o.metadata.creationTime===o.metadata.lastSignInTime)){a.next=19;break}a.next=19;return(0,A.toESPromise)(function(){return o.delete()});case 19:throw a.t0;case 20:a.next=22;return n.dispatchFirebaseUser(i);case 22:n.analytics.identify(n.user);n.analytics.trackSignIn(e.providerId);a.next=26;return n.flushProfile(n.user);case 26:case"end":return a.stop()}},t,n,[[4,11]])})));case 2:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.signInWithGoogle=function(){var t=N(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:e=new T.default.auth.GoogleAuthProvider;n.next=3;return this.signInWithProvider(e);case 3:case"end":return n.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.signInWithGitHub=function(){var t=N(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:e=new T.default.auth.GithubAuthProvider;n.next=3;return this.signInWithProvider(e);case 3:case"end":return n.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.flushProfile=function(){var t=N(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:n=e.toUser();r.next=3;return this.database.setDocument(n.query(),n);case 3:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.resetPassword=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return(0,A.toESPromise)(function(){return n.auth.sendPasswordResetEmail(e)});case 2:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.verifyPasswordResetCode=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return(0,A.toESPromise)(function(){return n.auth.verifyPasswordResetCode(e)});case 2:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.confirmPasswordReset=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r=this;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return(0,A.toESPromise)(function(){return r.auth.confirmPasswordReset(e,n)});case 2:case"end":return i.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.checkActionCode=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return(0,A.toESPromise)(function(){return n.auth.checkActionCode(e)});case 2:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.applyActionCode=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r=this;var i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return(0,A.toESPromise)(function(){return r.auth.applyActionCode(n)});case 2:i=this.assertUser();o.next=5;return(0,A.toESPromise)(function(){return i.reload()});case 5:o.next=7;return(0,A.toESPromise)(function(){return i.getIdToken(true)});case 7:o.next=9;return this.dispatchFirebaseUser(i);case 9:"verifyEmail"==e&&this.analytics.trackVerifyEmail();case 10:case"end":return o.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.linkWithGoogle=function(){var t=N(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:e=new T.default.auth.GoogleAuthProvider;n.next=3;return this.linkWithProvider(e);case 3:case"end":return n.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.linkWithGithub=function(){var t=N(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:e=new T.default.auth.GithubAuthProvider;n.next=3;return this.linkWithProvider(e);case 3:case"end":return n.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.linkWithProvider=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;var r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:r=this.assertUser();i.next=3;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return(0,A.toESPromise)(function(){return r.linkWithPopup(e)});case 2:i.next=4;return n.dispatchFirebaseUser(r);case 4:case"end":return i.stop()}},t,n)})));case 3:case"end":return i.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.unlinkProvider=function(){var t=N(regeneratorRuntime.mark(function t(e){var n=this;var r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:r=this.assertUser();i.next=3;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return(0,A.toESPromise)(function(){return r.unlink(e)});case 2:i.next=4;return n.dispatchFirebaseUser(r);case 4:case"end":return i.stop()}},t,n)})));case 3:case"end":return i.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.unlinkGoogle=function(){var t=N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return this.unlinkProvider("google.com");case 2:case"end":return e.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.unlinkGithub=function(){var t=N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return this.unlinkProvider("github.com");case 2:case"end":return e.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.verifyPhoneNumber=function(){var t=N(regeneratorRuntime.mark(function t(e,n){var r=this;var i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:i=new T.default.auth.PhoneAuthProvider;return o.abrupt("return",this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,A.toESPromise)(function(){return i.verifyPhoneNumber(e,n)}));case 1:case"end":return r.stop()}},t,r)}))));case 2:case"end":return o.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.reauthenticateWithPhone=function(){var t=N(regeneratorRuntime.mark(function t(e,n,r){var i=this;var o,a,s,u;return regeneratorRuntime.wrap(function t(c){while(1)switch(c.prev=c.next){case 0:o=this.assertUser();a=T.default.auth.PhoneAuthProvider.credential(r,n);s=(0,m.parseNumber)(e),u=s.country;c.next=5;return this.waitBeforeDispatch(N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return(0,A.toESPromise)(function(){return o.linkAndRetrieveDataWithCredential(a)});case 2:i.analytics.trackVerifyPhone(u);e.next=5;return i.dispatchFirebaseUser(o);case 5:case"end":return e.stop()}},t,i)})));case 5:case"end":return c.stop()}},t,this)}));function e(e,n,r){return t.apply(this,arguments)}return e}();e.prototype.unlinkPhone=function(){var t=N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return this.unlinkProvider("phone");case 2:case"end":return e.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();e.prototype.deleteAccount=function(){var t=N(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:e=this.assertUser();n.next=3;return e.delete();case 3:case"end":return n.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}();return e}(j.default),U(f.prototype,"listen",[i],Object.getOwnPropertyDescriptor(f.prototype,"listen"),f.prototype),U(f.prototype,"signUp",[o],Object.getOwnPropertyDescriptor(f.prototype,"signUp"),f.prototype),U(f.prototype,"signIn",[a],Object.getOwnPropertyDescriptor(f.prototype,"signIn"),f.prototype),U(f.prototype,"signInAsLegacy",[s],Object.getOwnPropertyDescriptor(f.prototype,"signInAsLegacy"),f.prototype),U(f.prototype,"signInWithAuthToken",[u],Object.getOwnPropertyDescriptor(f.prototype,"signInWithAuthToken"),f.prototype),f);e.default=W},"./backend/database/Database.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r,i,o,a,s,u,c,h,f,l,p,d;var v=function(){var t=j(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(t){return setTimeout(t,e)}));case 1:case"end":return n.stop()}},t,this)}));return function e(n){return t.apply(this,arguments)}}();var m=n("./node_modules/immutable/dist/immutable.js");var g=n("./node_modules/debug/src/browser.js");var y=I(g);var b=n("./core/models/index.js");var w=n("./debug/index.js");var _=n("./backend/utils/index.js");var k=n("./backend/database/DatabaseState.js");var x=I(k);var S=n("./backend/database/GenericDatabase.js");var E=I(S);function I(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function A(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function O(t,e,n,r,i){var o={};Object["keys"](r).forEach(function(t){o[t]=r[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;("value"in o||o.initializer)&&(o.writable=true);o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o);if(i&&void 0!==o.initializer){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=void 0}if(void 0===o.initializer){Object["defineProperty"](t,e,o);o=null}return o}function j(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o);var s=a.value}catch(t){n(t);return}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}var R=(0,y.default)("core:database");var N=(r=(0,w.captureTrace)("database.getDocument"),i=(0,w.captureTrace)("database.getCollection"),o=(0,w.captureTrace)("database.setDocument"),a=(0,w.captureTrace)("database.updateDocument"),s=(0,w.captureTrace)("database.updateProperty"),u=(0,w.captureTrace)("database.deleteDocument"),c=(0,w.captureTrace)("database.commit"),h=(0,w.captureTrace)("database.transaction"),f=(0,w.captureTrace)("database.transactionProperty"),d=function(t){A(e,t);function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new x.default;T(this,e);var o=P(this,t.call(this,r,i));o.db=n;return o}e.prototype.setOnline=function t(e){R("set database as "+(e?"online":"offline"));e?this.db.goOnline():this.db.goOffline()};e.prototype.onDocumentUpdated=function t(e,n){var r=n.exists()?(0,b.deserialize)(e.kind,n.val()):null;this.updateState(function(t){var n=t.markAsFetched(e);return null!=r?n.setDocument(e,r):n.deleteDocument(e)},true);return r};e.prototype.onDocumentError=function t(e,n){var r=e.options.ignoreErrors;r||Promise.reject(n);this.updateState(function(t){return t.markAsFetched(e).deleteDocument(e).setError(e,n)},true)};e.prototype.onCollectionUpdated=function t(e,n){var r=(0,m.OrderedMap)();n.forEach(function(t){var n=(0,b.deserialize)(e.kind,t.val());r=r.set(t.key,n)});this.updateState(function(t){return t.markAsFetched(e).setCollection(e,r)},true);return this.state.getCollection(e)};e.prototype.onCollectionError=function t(e,n){Promise.reject(n);this.updateState(function(t){return t.markAsFetched(e).setCollection(e,(0,m.OrderedMap)()).setError(e,n)},true)};e.prototype.getCollectionRef=function t(e){var n=this.db.ref(e.path);var r=e.filters.entrySeq().first();r&&n.orderByChild(r[0]).equalTo(r[1]);return n};e.prototype.getDocumentRef=function t(e){return this.db.ref(e.path)};e.prototype.observeDocument=function t(e,n){var r=this;var i=x.default.genObserverID();var o=this.state.hasObserver(e);this.updateState(function(t){return t.addObserver(e,i,n)});if(o)return{observerID:i,pending:null};var a=new w.Trace("database.observeDocument");a.label("Path",e.path);R('observe changes in document "'+e.path+'"');var s=new Promise(function(t,n){var i=false;var o=function e(){if(i)return;i=true;a.end();t()};var s=r.getDocumentRef(e);var u=s.on("value",function(t){r.onDocumentUpdated(e,t);o()},function(t){R("error: ",t);r.onDocumentError(e,t);o()});var c=function t(){s.off("value",u)};r.updateState(function(t){return t.setUnlistener(e,c)})});return{observerID:i,pending:s}};e.prototype.observeCollection=function t(e){var n=this;var r=this.getCollectionRef(e);var i=x.default.genObserverID();var o=this.state.hasObserver(e);this.updateState(function(t){return t.addObserver(e,i)});if(o)return{observerID:i,pending:null};var a=new w.Trace("database.observeCollection");a.label("Path",e.path);R("observe changes in collection "+e.path);var s=new Promise(function(t,i){var o=false;var s=function e(){if(o)return;o=true;a.end();t()};var u=r.on("value",function(t){n.onCollectionUpdated(e,t);s()},function(t){R("error: ",t);n.onCollectionError(e,t);s()});var c=function t(){r.off("value",u)};n.updateState(function(t){return t.setUnlistener(e,c)})});return{observerID:i,pending:s}};e.prototype.getDocument=function(){var t=j(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:e.label("Path",n.path);r=this.getDocumentRef(n);o.next=4;return(0,_.toESPromise)(function(){return r.once("value")});case 4:i=o.sent;return o.abrupt("return",this.onDocumentUpdated(n,i));case 6:case"end":return o.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.getCollection=function(){var t=j(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:e.label("Path",n.path);r=this.getCollectionRef(n);o.next=4;return(0,_.toESPromise)(function(){return r.once("value")});case 4:i=o.sent;return o.abrupt("return",this.onCollectionUpdated(n,i));case 6:case"end":return o.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.setDocument=function(){var t=j(regeneratorRuntime.mark(function t(e,n,r){var i,o;return regeneratorRuntime.wrap(function t(a){while(1)switch(a.prev=a.next){case 0:e.label("Path",n.path);i=r.serialize();o=this.getDocumentRef(n);R("set document",n.path,i);a.prev=4;a.next=7;return(0,_.toESPromise)(function(){return o.set(i)});case 7:a.next=13;break;case 9:a.prev=9;a.t0=a["catch"](4);e.label("Value",i);throw a.t0;case 13:case"end":return a.stop()}},t,this,[[4,9]])}));function e(e,n,r){return t.apply(this,arguments)}return e}();e.prototype.updateDocument=function(){var t=j(regeneratorRuntime.mark(function t(e,n,r){var i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:e.label("Path",n.path);i=this.getDocumentRef(n);R("update document",n.path,r);o.prev=3;o.next=6;return(0,_.toESPromise)(function(){return i.update(r)});case 6:o.next=12;break;case 8:o.prev=8;o.t0=o["catch"](3);e.label("Properties",r);throw o.t0;case 12:case"end":return o.stop()}},t,this,[[3,8]])}));function e(e,n,r){return t.apply(this,arguments)}return e}();e.prototype.updateProperty=function(){var t=j(regeneratorRuntime.mark(function t(e,n,r,i){var o=this;var a;return regeneratorRuntime.wrap(function t(s){while(1)switch(s.prev=s.next){case 0:e.label("Path",n.path);e.label("Property",r);a=n.path+"/"+r;R("update document property",a,i);s.prev=4;s.next=7;return(0,_.toESPromise)(function(){return o.db.ref(a).update(i)});case 7:s.next=13;break;case 9:s.prev=9;s.t0=s["catch"](4);e.label("Value",i);throw s.t0;case 13:case"end":return s.stop()}},t,this,[[4,9]])}));function e(e,n,r,i){return t.apply(this,arguments)}return e}();e.prototype.deleteDocument=function(){var t=j(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:e.label("Path",n.path);r=this.getDocumentRef(n);R("delete document",n.path);i.next=5;return(0,_.toESPromise)(function(){return r.remove()});case 5:case"end":return i.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.commit=function(){var t=j(regeneratorRuntime.mark(function t(e,n){var r=this;var i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:i=n.toPathMap();R("commit update",i);o.prev=2;o.next=5;return(0,_.toESPromise)(function(){return r.db.ref().update(i)});case 5:o.next=11;break;case 7:o.prev=7;o.t0=o["catch"](2);e.label("Update",i);throw o.t0;case 11:case"end":return o.stop()}},t,this,[[2,7]])}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.retryTransaction=function(){var t=j(regeneratorRuntime.mark(function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return(0,_.toESPromise)(function(){return e.transaction(function(t){return n(t)})});case 3:i.next=15;break;case 5:i.prev=5;i.t0=i["catch"](0);if(!("maxretry"!==i.t0.message)){i.next=9;break}throw i.t0;case 9:if(!(r>4)){i.next=11;break}throw new Error("Transaction failed after 4 retries");case 11:i.next=13;return v(500+Math.ceil(1e3*Math.random()));case 13:i.next=15;return this.retryTransaction(e,n,r+1);case 15:case"end":return i.stop()}},t,this,[[0,5]])}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.transaction=function(){var t=j(regeneratorRuntime.mark(function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:e.label("Path",n.path);i.next=3;return this.retryTransaction(this.getDocumentRef(n),function(t){var e=t?(0,b.deserialize)(n.kind,t):null;var i=r(e);if("undefined"==typeof i)return;return i?i.serialize():null});case 3:case"end":return i.stop()}},t,this)}));function e(e,n,r){return t.apply(this,arguments)}return e}();e.prototype.transactionProperty=function(){var t=j(regeneratorRuntime.mark(function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;var a;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:e.label("Path",n.path);e.label("Property",r);a=this.getDocumentRef(n).child(r);o.next=5;return this.retryTransaction(a,i);case 5:case"end":return o.stop()}},t,this)}));function e(e,n,r,i){return t.apply(this,arguments)}return e}();return e}(E.default),O(d.prototype,"getDocument",[r],Object.getOwnPropertyDescriptor(d.prototype,"getDocument"),d.prototype),O(d.prototype,"getCollection",[i],Object.getOwnPropertyDescriptor(d.prototype,"getCollection"),d.prototype),O(d.prototype,"setDocument",[o],Object.getOwnPropertyDescriptor(d.prototype,"setDocument"),d.prototype),O(d.prototype,"updateDocument",[a],Object.getOwnPropertyDescriptor(d.prototype,"updateDocument"),d.prototype),O(d.prototype,"updateProperty",[s],Object.getOwnPropertyDescriptor(d.prototype,"updateProperty"),d.prototype),O(d.prototype,"deleteDocument",[u],Object.getOwnPropertyDescriptor(d.prototype,"deleteDocument"),d.prototype),O(d.prototype,"commit",[c],Object.getOwnPropertyDescriptor(d.prototype,"commit"),d.prototype),O(d.prototype,"transaction",[h],Object.getOwnPropertyDescriptor(d.prototype,"transaction"),d.prototype),O(d.prototype,"transactionProperty",[f],Object.getOwnPropertyDescriptor(d.prototype,"transactionProperty"),d.prototype),d);e.default=N},"./backend/pubsub/WebPubSub.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("./backend/pubsub/GenericPubSub.js");var i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){u(e,t);function e(){a(this,e);return s(this,t.apply(this,arguments))}return e}(i.default);e.default=c},"./backend/storages/WebBlobStorage.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n("./node_modules/debug/src/browser.js");var o=h(i);var a=n("./core/index.js");var s=n("./backend/utils/index.js");var u=n("./backend/storages/GenericBlobStorage.js");var c=h(u);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o);var s=a.value}catch(t){n(t);return}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=(0,o.default)("core:storage");var m=function(t){d(e,t);function e(n,r){l(this,e);var i=p(this,t.call(this,r));i.storage=n;return i}e.prototype.getRef=function t(e){return this.storage.ref().child(e)};e.prototype.getMetadata=function(){var t=f(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:n=this.getRef(e);o.next=3;return(0,s.toESPromise)(function(){return n.getMetadata()});case 3:r=o.sent;o.next=6;return(0,s.toESPromise)(function(){return n.getDownloadURL()});case 6:i=o.sent;return o.abrupt("return",a.BlobMetadata.createFromFirebase(r,i));case 8:case"end":return o.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.uploadToBlobMetadata=function(){var t=f(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return(0,s.toESPromise)(function(){return e.ref.getDownloadURL()});case 2:n=r.sent;return r.abrupt("return",a.BlobMetadata.createFromFirebase(e.metadata,n));case 4:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.uploadBuffer=function(){var t=f(regeneratorRuntime.mark(function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i,o,a,u,c;return regeneratorRuntime.wrap(function t(h){while(1)switch(h.prev=h.next){case 0:i=this.getRef(e);o=new Blob([n]);a=r.metadata,u=void 0===a?{}:a;v('upload file "'+e+'" with metadata',u);h.next=6;return(0,s.toESPromise)(function(){return i.put(o,u)});case 6:c=h.sent;return h.abrupt("return",this.uploadToBlobMetadata(c));case 8:case"end":return h.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.uploadJSON=function(){var t=f(regeneratorRuntime.mark(function t(e,n){var r,i,o;return regeneratorRuntime.wrap(function t(u){while(1)switch(u.prev=u.next){case 0:r=this.getRef(e);i={contentType:a.BlobMetadata.MIME_TYPE_JSON};v('upload JSON "'+e+'"',r.toString());u.next=5;return(0,s.toESPromise)(function(){return r.putString(JSON.stringify(n),"raw",i)});case 5:o=u.sent;return u.abrupt("return",this.uploadToBlobMetadata(o));case 7:case"end":return u.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.uploadFile=function(){var t=f(regeneratorRuntime.mark(function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o,a,u,c,h,f;return regeneratorRuntime.wrap(function t(l){while(1)switch(l.prev=l.next){case 0:o=this.getRef(e);a=new Blob([n]);u=i.metadata,c=void 0===u?{}:u,h=i.user;h&&(c.customMetadata=c.customMetadata?r({},c.customMetadata,{userID:h.uid}):{userID:h.uid});n.type&&(c.contentType=n.type);v('upload file "'+e+'" with metadata',c);l.next=8;return(0,s.toESPromise)(function(){return o.put(a,c)});case 8:f=l.sent;return l.abrupt("return",this.uploadToBlobMetadata(f));case 10:case"end":return l.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}();e.prototype.download=function(){var t=f(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function t(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch(this.transformURL(e)));case 1:case"end":return n.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.downloadAsBuffer=function(){var t=f(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this.download(e);case 2:n=r.sent;return r.abrupt("return",n.arrayBuffer());case 4:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.downloadAsString=function(){var t=f(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return this.download(e);case 2:n=r.sent;return r.abrupt("return",n.text());case 4:case"end":return r.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();e.prototype.downloadByPath=function(){var t=f(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function t(i){while(1)switch(i.prev=i.next){case 0:n=this.getRef(e);i.next=3;return n.getDownloadURL();case 3:r=i.sent;return i.abrupt("return",this.downloadAsBuffer(r));case 5:case"end":return i.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}();return e}(c.default);e.default=m},"./backend/storages/index.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.AssetStore=e.DocumentStore=e.GenericBlobStorage=e.StoragePaths=e.CDN=void 0;var r=n("./backend/storages/GenericBlobStorage.js");var i=d(r);var o=n("./backend/storages/AssetStore.js");var a=d(o);var s=n("./backend/storages/DocumentStore.js");var u=d(s);var c=n("./backend/storages/cdn.js");var h=p(c);var f=n("./backend/storages/StoragePaths.js");var l=d(f);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t;return e}function d(t){return t&&t.__esModule?t:{default:t}}e.CDN=h;e.StoragePaths=l.default;e.GenericBlobStorage=i.default;e.DocumentStore=u.default;e.AssetStore=a.default},"./node_modules/@firebase/auth/dist/auth.esm.js":function(t,e,n){"use strict";(function(t){var e=n("./node_modules/@firebase/app/dist/index.cjs.js");var r=n.n(e);(function(){var t,e=e||{},n=this;function i(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}function a(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function u(t){return null===t}function c(t){return"array"==s(t)}function h(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==s(t)}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(n,r);return t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:m;return g.apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();e.push.apply(e,arguments);return t.apply(this,e)}}var b=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype;t.nb=e.prototype;t.prototype=new n;t.prototype.constructor=t;t.ed=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _(t){t.prototype.then=t.prototype.then;t.prototype.$goog_Thenable=!0}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}w(x,Error);x.prototype.name="CustomError";function S(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}w(S,x);S.prototype.name="AssertionError";function E(t,e){throw new S("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function I(t,e){this.c=t;this.f=e;this.b=0;this.a=null}I.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next;t.next=null}else t=this.c();return t};function T(t,e){t.f(e);100>t.b&&(t.b++,e.next=t.a,t.a=e)}function P(){this.b=this.a=null}var A=new I(function(){return new j},function(t){t.reset()});P.prototype.add=function(t,e){var n=A.get();n.set(t,e);this.b?this.b.next=n:this.a=n;this.b=n};function O(){var t=gt,e=null;t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null);return e}function j(){this.next=this.b=this.a=null}j.prototype.set=function(t,e){this.a=t;this.b=e;this.next=null};j.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(i(t))return i(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,a=0;a<r;a++)a in o&&e.call(n,o[a],a,t)};function C(t,e){var n=t.length,r=i(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}var D=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),o=i(t)?t.split(""):t,a=0;a<n;a++)a in o&&(r[a]=e.call(void 0,o[a],a,t));return r},L=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t))return!0;return!1};function U(t){t:{var e=oa;for(var n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]}function M(t,e){return 0<=R(t,e)}function V(t,e){e=R(t,e);var n;(n=0<=e)&&Array.prototype.splice.call(t,e,1);return n}function F(t,e){var n=0;C(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function B(t){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function q(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function G(t){if(!Z.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace($,"&amp;"));-1!=t.indexOf("<")&&(t=t.replace(K,"&lt;"));-1!=t.indexOf(">")&&(t=t.replace(z,"&gt;"));-1!=t.indexOf('"')&&(t=t.replace(X,"&quot;"));-1!=t.indexOf("'")&&(t=t.replace(J,"&#39;"));-1!=t.indexOf("\0")&&(t=t.replace(Y,"&#0;"));return t}var $=/&/g,K=/</g,z=/>/g,X=/"/g,J=/'/g,Y=/\x00/g,Z=/[\x00&<>"']/;function Q(t,e){return-1!=t.indexOf(e)}function tt(t,e){return t<e?-1:t>e?1:0}var et;t:{var nt=n.navigator;if(nt){var rt=nt.userAgent;if(rt){et=rt;break t}}et=""}function it(t){return Q(et,t)}function ot(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function at(t){for(var e in t)return!1;return!0}function st(t){var e={},n;for(n in t)e[n]=t[n];return e}var ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ht(t){n.setTimeout(function(){throw t},0)}var ft;function lt(){var t=n.MessageChannel;"undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!it("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none";t.src="";document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document;t.open();t.write("");t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1);this.port1={};this.port2={postMessage:function(){e.postMessage(n,r)}}});if("undefined"!==typeof t&&!it("Trident")&&!it("MSIE")){var e=new t,r={},i=r;e.port1.onmessage=function(){if(void 0!==r.next){r=r.next;var t=r.vb;r.vb=null;t()}};return function(t){i.next={vb:t};i=i.next;e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null;e.parentNode.removeChild(e);e=null;t();t=null};document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}function pt(t,e){dt||vt();mt||(dt(),mt=!0);gt.add(t,e)}var dt;function vt(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);dt=function(){t.then(yt)}}else dt=function(){var t=yt;!f(n.setImmediate)||n.Window&&n.Window.prototype&&!it("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ft||(ft=lt()),ft(t)):n.setImmediate(t)}}var mt=!1,gt=new P;function yt(){for(var t;t=O();){try{t.a.call(t.b)}catch(t){ht(t)}T(A,t)}mt=!1}function bt(t,e){this.a=wt;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(t!=a)try{var n=this;t.call(e,function(t){Ct(n,_t,t)},function(t){if(!(t instanceof qt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ct(n,kt,t)})}catch(t){Ct(this,kt,t)}}var wt=0,_t=2,kt=3;function xt(){this.next=this.f=this.b=this.g=this.a=null;this.c=!1}xt.prototype.reset=function(){this.f=this.b=this.g=this.a=null;this.c=!1};var St=new I(function(){return new xt},function(t){t.reset()});function Et(t,e,n){var r=St.get();r.g=t;r.b=e;r.f=n;return r}function It(t){if(t instanceof bt)return t;var e=new bt(a);Ct(e,_t,t);return e}function Tt(t){return new bt(function(e,n){n(t)})}function Pt(t,e,n){Dt(t,e,n,null)||pt(y(e,t))}function At(t){return new bt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--;i[t]=n;0==r&&e(i)},a=function(t){n(t)},s=0,u;s<t.length;s++)u=t[s],Pt(u,y(o,s),a);else e(i)})}function Ot(t){return new bt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--;r[t]=i?{ac:!0,value:o}:{ac:!1,reason:o};0==n&&e(r)},o=0,a;o<t.length;o++)a=t[o],Pt(a,y(i,o,!0),y(i,o,!1));else e(r)})}bt.prototype.then=function(t,e,n){return Nt(this,f(t)?t:null,f(e)?e:null,n)};_(bt);t=bt.prototype;t.ia=function(t,e){t=Et(t,t,e);t.c=!0;Rt(this,t);return this};t.s=function(t,e){return Nt(this,null,t,e)};t.cancel=function(t){this.a==wt&&pt(function(){var e=new qt(t);jt(this,e)},this)};function jt(t,e){if(t.a==wt)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?jt(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Mt(n),Vt(n,i,kt,e)))}t.c=null}else Ct(t,kt,e)}function Rt(t,e){t.b||t.a!=_t&&t.a!=kt||Ut(t);t.f?t.f.next=e:t.b=e;t.f=e}function Nt(t,e,n,r){var i=Et(null,null,null);i.a=new bt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t;i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qt?o(e):t(i)}catch(t){o(t)}}:o});i.a.c=t;Rt(t,i);return i.a}t.Nc=function(t){this.a=wt;Ct(this,_t,t)};t.Oc=function(t){this.a=wt;Ct(this,kt,t)};function Ct(t,e,n){t.a==wt&&(t===n&&(e=kt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Dt(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,Ut(t),e!=kt||n instanceof qt||Bt(t,n)))}function Dt(t,e,n,r){if(t instanceof bt)return Rt(t,Et(e||a,n||null,r)),!0;if(k(t))return t.then(e,n,r),!0;if(l(t))try{var i=t.then;if(f(i))return Lt(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Lt(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}function Ut(t){t.h||(t.h=!0,pt(t.Wb,t))}function Mt(t){var e=null;t.b&&(e=t.b,t.b=e.next,e.next=null);t.b||(t.f=null);return e}t.Wb=function(){for(var t;t=Mt(this);)Vt(this,t,this.a,this.i);this.h=!1};function Vt(t,e,n,r){if(n==kt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ft(e,n,r);else try{e.c?e.g.call(e.f):Ft(e,n,r)}catch(t){Wt.call(null,t)}T(St,e)}function Ft(t,e,n){e==_t?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function Bt(t,e){t.g=!0;pt(function(){t.g&&Wt.call(null,e)})}var Wt=ht;function qt(t){x.call(this,t)}w(qt,x);qt.prototype.name="cancel";function Ht(){0!=Gt&&($t[this[p]||(this[p]=++d)]=this);this.pa=this.pa;this.ja=this.ja}var Gt=0,$t={};Ht.prototype.pa=!1;function Kt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Gt)){var e=t[p]||(t[p]=++d);if(0!=Gt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $t[e]}}Ht.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()};function zt(t){zt[" "](t);return t}zt[" "]=a;function Xt(t,e){var n=se;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Jt=it("Opera"),Yt=it("Trident")||it("MSIE"),Zt=it("Edge"),Qt=Zt||Yt,te=it("Gecko")&&!(Q(et.toLowerCase(),"webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),ee=Q(et.toLowerCase(),"webkit")&&!it("Edge");function ne(){var t=n.document;return t?t.documentMode:void 0}var re;t:{var ie="",oe=function(){var t=et;if(te)return/rv:([^\);]+)(\)|;)/.exec(t);if(Zt)return/Edge\/([\d\.]+)/.exec(t);if(Yt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ee)return/WebKit\/(\S+)/.exec(t);if(Jt)return/(?:Version)[ \/]?(\S+)/.exec(t)}();oe&&(ie=oe?oe[1]:"");if(Yt){var ae=ne();if(null!=ae&&ae>parseFloat(ie)){re=String(ae);break t}}re=ie}var se={};function ue(t){return Xt(t,function(){for(var e=0,n=H(String(re)).split("."),r=H(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""];s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""];if(0==a[0].length&&0==s[0].length)break;e=tt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||tt(0==a[2].length,0==s[2].length)||tt(a[2],s[2]);a=a[3];s=s[3]}while(0==e)}return 0<=e})}var ce;var he=n.document;ce=he&&Yt?ne()||("CSS1Compat"==he.compatMode?parseInt(re,10):5):void 0;var fe=Object.freeze||function(t){return t};var le=!Yt||9<=Number(ce),pe=Yt&&!ue("9"),de=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});n.addEventListener("test",a,e);n.removeEventListener("test",a,e);return t}();function ve(t,e){this.type=t;this.b=this.target=e;this.Ib=!0}ve.prototype.preventDefault=function(){this.Ib=!1};function me(t,e){ve.call(this,t?t.type:"");this.relatedTarget=this.b=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.a=null;if(t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;this.target=t.target||t.srcElement;this.b=e;if(e=t.relatedTarget){if(te){t:{try{zt(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e;null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0);this.button=t.button;this.key=t.key||"";this.ctrlKey=t.ctrlKey;this.altKey=t.altKey;this.shiftKey=t.shiftKey;this.metaKey=t.metaKey;this.pointerId=t.pointerId||0;this.pointerType=i(t.pointerType)?t.pointerType:ge[t.pointerType]||"";this.a=t;t.defaultPrevented&&this.preventDefault()}}w(me,ve);var ge=fe({2:"touch",3:"pen",4:"mouse"});me.prototype.preventDefault=function(){me.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,pe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};me.prototype.f=function(){return this.a};var ye="closure_listenable_"+(1e6*Math.random()|0),be=0;function we(t,e,n,r,i){this.listener=t;this.proxy=null;this.src=e;this.type=n;this.capture=!!r;this.La=i;this.key=++be;this.na=this.Ia=!1}function _e(t){t.na=!0;t.listener=null;t.proxy=null;t.src=null;t.La=null}function ke(t){this.src=t;this.a={};this.b=0}ke.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o];t||(t=this.a[o]=[],this.b++);var a=Se(t,e,r,i);-1<a?(e=t[a],n||(e.Ia=!1)):(e=new we(e,this.src,o,!!r,i),e.Ia=n,t.push(e));return e};function xe(t,e){var n=e.type;n in t.a&&V(t.a[n],e)&&(_e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Se(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Ie={},Te=0;function Pe(t,e,n,r,i){if(r&&r.once)je(t,e,n,r,i);else if(c(e))for(var o=0;o<e.length;o++)Pe(t,e[o],n,r,i);else n=Fe(n),t&&t[ye]?We(t,e,n,l(r)?!!r.capture:!!r,i):Ae(t,e,n,!1,r,i)}function Ae(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i,s=Me(t);s||(t[Ee]=s=new ke(t));n=s.add(e,n,r,a,o);if(!n.proxy){r=Oe();n.proxy=r;r.src=t;r.listener=n;if(t.addEventListener)de||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ce(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}Te++}}function Oe(){var t=Ue,e=le?function(n){return t.call(e.src,e.listener,n)}:function(n){n=t.call(e.src,e.listener,n);if(!n)return n};return e}function je(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)je(t,e[o],n,r,i);else n=Fe(n),t&&t[ye]?qe(t,e,n,l(r)?!!r.capture:!!r,i):Ae(t,e,n,!0,r,i)}function Re(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)Re(t,e[o],n,r,i);else r=l(r)?!!r.capture:!!r,n=Fe(n),t&&t[ye]?(t=t.m,e=String(e).toString(),e in t.a&&(o=t.a[e],n=Se(o,n,r,i),-1<n&&(_e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Me(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Se(e,n,r,i)),(n=-1<t?e[t]:null)&&Ne(n))}function Ne(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[ye])xe(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ce(n),r):e.addListener&&e.removeListener&&e.removeListener(r);Te--;(n=Me(e))?(xe(n,t),0==n.b&&(n.src=null,e[Ee]=null)):_e(t)}}}function Ce(t){return t in Ie?Ie[t]:Ie[t]="on"+t}function De(t,e,n,r){var i=!0;if((t=Me(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Le(o,r),i=i&&!1!==o)}return i}function Le(t,e){var n=t.listener,r=t.La||t.src;t.Ia&&Ne(t);return n.call(r,e)}function Ue(t,e){if(t.na)return!0;if(!le){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(r=r[e[i]],null==r){e=null;break t}e=r}i=e;e=new me(i,this);r=!0;if(!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}i=[];for(o=e.b;o;o=o.parentNode)i.push(o);t=t.type;for(o=i.length-1;0<=o;o--){e.b=i[o];var a=De(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=De(i[o],t,!1,e),r=r&&a}return r}return Le(t,new me(e,this))}function Me(t){t=t[Ee];return t instanceof ke?t:null}var Ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(t){if(f(t))return t;t[Ve]||(t[Ve]=function(e){return t.handleEvent(e)});return t[Ve]}function Be(){Ht.call(this);this.m=new ke(this);this.Pb=this;this.Ua=null}w(Be,Ht);Be.prototype[ye]=!0;Be.prototype.addEventListener=function(t,e,n,r){Pe(this,t,e,n,r)};Be.prototype.removeEventListener=function(t,e,n,r){Re(this,t,e,n,r)};Be.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Pb;var r=t.type||t;if(i(t))t=new ve(t,n);else if(t instanceof ve)t.target=t.target||n;else{var o=t;t=new ve(r,n);ct(t,o)}o=!0;if(e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=He(s,r,!0,t)&&o}s=t.b=n;o=He(s,r,!0,t)&&o;o=He(s,r,!1,t)&&o;if(e)for(a=0;a<e.length;a++)s=t.b=e[a],o=He(s,r,!1,t)&&o;return o};Be.prototype.ua=function(){Be.nb.ua.call(this);if(this.m){var t=this.m,e=0,n;for(n in t.a){for(var r=t.a[n],i=0;i<r.length;i++)++e,_e(r[i]);delete t.a[n];t.b--}}this.Ua=null};function We(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function qe(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function He(t,e,n,r){e=t.m.a[String(e)];if(!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&xe(t.m,a);i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ib}function Ge(t,e,r){if(f(t))r&&(t=g(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function $e(t){var e=null;return new bt(function(n,r){e=Ge(function(){n(void 0)},t);-1==e&&r(Error("Failed to schedule timer."))}).s(function(t){n.clearTimeout(e);throw t})}function Ke(t){if(t.S&&"function"==typeof t.S)return t.S();if(i(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[];n=0;for(r in t)e[n++]=t[r];return e}function ze(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[];n=0;for(var r in t)e[n++]=r;return e}}function Xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||i(t))N(t,e,void 0);else for(var n=ze(t),r=Ke(t),o=r.length,a=0;a<o;a++)e.call(void 0,r[a],n&&n[a],t)}function Je(t,e){this.b={};this.a=[];this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Je)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}t=Je.prototype;t.S=function(){Ye(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};t.U=function(){Ye(this);return this.a.concat()};t.clear=function(){this.b={};this.c=this.a.length=0};function Ye(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ze(t.b,r)&&(t.a[n++]=r);e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Ze(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}t.get=function(t,e){return Ze(this.b,t)?this.b[t]:e};t.set=function(t,e){Ze(this.b,t)||(this.c++,this.a.push(t));this.b[t]=e};t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function Ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Qe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function en(t,e){this.b=this.m=this.c="";this.i=null;this.h=this.g="";this.f=!1;if(t instanceof en){this.f=void 0!==e?e:t.f;nn(this,t.c);this.m=t.m;this.b=t.b;rn(this,t.i);this.g=t.g;e=t.a;var n=new yn;n.c=e.c;e.a&&(n.a=new Je(e.a),n.b=e.b);on(this,n);this.h=t.h}else t&&(n=String(t).match(Qe))?(this.f=!!e,nn(this,n[1]||"",!0),this.m=hn(n[2]||""),this.b=hn(n[3]||"",!0),rn(this,n[4]),this.g=hn(n[5]||"",!0),on(this,n[6]||"",!0),this.h=hn(n[7]||"")):(this.f=!!e,this.a=new yn(null,this.f))}en.prototype.toString=function(){var t=[],e=this.c;e&&t.push(fn(e,pn,!0),":");var n=this.b;(n||"file"==e)&&(t.push("//"),(e=this.m)&&t.push(fn(e,pn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&t.push(":",String(n)));(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(fn(n,"/"==n.charAt(0)?vn:dn,!0)));(n=this.a.toString())&&t.push("?",n);(n=this.h)&&t.push("#",fn(n,gn));return t.join("")};function nn(t,e,n){t.c=n?hn(e,!0):e;t.c&&(t.c=t.c.replace(/:$/,""))}function rn(t,e){if(e){e=Number(e);if(isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function on(t,e,n){e instanceof yn?(t.a=e,En(t.a,t.f)):(n||(e=fn(e,mn)),t.a=new yn(e,t.f))}function an(t,e,n){t.a.set(e,n)}function sn(t,e){return t.a.get(e)}function un(t){return t instanceof en?new en(t):new en(t,void 0)}function cn(t,e){var n=new en(null,void 0);nn(n,"https");t&&(n.b=t);e&&(n.g=e);return n}function hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fn(t,e,n){return i(t)?(t=encodeURI(t).replace(e,ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ln(t){t=t.charCodeAt(0);return"%"+(t>>4&15).toString(16)+(15&t).toString(16)}var pn=/[#\/\?@]/g,dn=/[#\?:]/g,vn=/[#\?]/g,mn=/[#\?@]/g,gn=/#/g;function yn(t,e){this.b=this.a=null;this.c=t||null;this.f=!!e}function bn(t){t.a||(t.a=new Je,t.b=0,t.c&&tn(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wn(t){var e=ze(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new yn(null,void 0);t=Ke(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];c(o)?xn(n,i,o):n.add(i,o)}return n}t=yn.prototype;t.add=function(t,e){bn(this);this.c=null;t=Sn(this,t);var n=this.a.get(t);n||this.a.set(t,n=[]);n.push(e);this.b+=1;return this};function _n(t,e){bn(t);e=Sn(t,e);Ze(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ze(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ye(t)))}t.clear=function(){this.a=this.c=null;this.b=0};function kn(t,e){bn(t);e=Sn(t,e);return Ze(t.a.b,e)}t.forEach=function(t,e){bn(this);this.a.forEach(function(n,r){N(n,function(n){t.call(e,n,r,this)},this)},this)};t.U=function(){bn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};t.S=function(t){bn(this);var e=[];if(i(t))kn(this,t)&&(e=B(e,this.a.get(Sn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e};t.set=function(t,e){bn(this);this.c=null;t=Sn(this,t);kn(this,t)&&(this.b-=this.a.get(t).length);this.a.set(t,[e]);this.b+=1;return this};t.get=function(t,e){t=t?this.S(t):[];return 0<t.length?String(t[0]):e};function xn(t,e,n){_n(t,e);0<n.length&&(t.c=null,t.a.set(Sn(t,e),W(n)),t.b+=n.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o])));t.push(a)}}return this.c=t.join("&")};function Sn(t,e){e=String(e);t.f&&(e=e.toLowerCase());return e}function En(t,e){e&&!t.f&&(bn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(_n(this,e),xn(this,n,t))},t));t.f=e}var In=!Yt||9<=Number(ce);function Tn(){this.a="";this.b=An}Tn.prototype.ma=!0;Tn.prototype.la=function(){return this.a};Tn.prototype.toString=function(){return"Const{"+this.a+"}"};function Pn(t){if(t instanceof Tn&&t.constructor===Tn&&t.b===An)return t.a;E("expected object of type Const, got '"+t+"'");return"type_error:Const"}var An={};function On(t){var e=new Tn;e.a=t;return e}On("");function jn(){this.a="";this.b=Ln}jn.prototype.ma=!0;jn.prototype.la=function(){return this.a};jn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Rn(t){if(t instanceof jn&&t.constructor===jn&&t.b===Ln)return t.a;E("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t));return"type_error:TrustedResourceUrl"}function Nn(t,e){var n=Pn(t);if(!Dn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);t=n.replace(Cn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));t=e[r];return t instanceof Tn?Pn(t):encodeURIComponent(String(t))});return Un(t)}var Cn=/%{(\w+)}/g,Dn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Ln={};function Un(t){var e=new jn;e.a=t;return e}function Mn(){this.a="";this.b=Wn}Mn.prototype.ma=!0;Mn.prototype.la=function(){return this.a};Mn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Vn(t){if(t instanceof Mn&&t.constructor===Mn&&t.b===Wn)return t.a;E("expected object of type SafeUrl, got '"+t+"' of type "+s(t));return"type_error:SafeUrl"}var Fn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Bn(t){if(t instanceof Mn)return t;t=t.ma?t.la():String(t);Fn.test(t)||(t="about:invalid#zClosurez");return qn(t)}var Wn={};function qn(t){var e=new Mn;e.a=t;return e}qn("about:blank");function Hn(){this.a="";this.b=$n}Hn.prototype.ma=!0;Hn.prototype.la=function(){return this.a};Hn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Gn(t){if(t instanceof Hn&&t.constructor===Hn&&t.b===$n)return t.a;E("expected object of type SafeHtml, got '"+t+"' of type "+s(t));return"type_error:SafeHtml"}var $n={};function Kn(t){var e=new Hn;e.a=t;return e}Kn("<!DOCTYPE html>");Kn("");Kn("<br>");function zn(t){var e=document;return i(t)?e.getElementById(t):t}function Xn(t,e){ot(e,function(e,n){e&&e.ma&&(e=e.la());"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Jn.hasOwnProperty(n)?t.setAttribute(Jn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var Jn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Yn(t,e,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!In&&s&&(s.name||s.type)){a=["<",a];s.name&&a.push(' name="',G(s.name),'"');if(s.type){a.push(' type="',G(s.type),'"');var u={};ct(u,s);delete u.type;s=u}a.push(">");a=a.join("")}a=o.createElement(a);s&&(i(s)?a.className=s:c(s)?a.className=s.join(" "):Xn(a,s));2<r.length&&Zn(o,a,r);return a}function Zn(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!h(a)||l(a)&&0<a.nodeType?r(a):N(Qn(a)?W(a):a,r)}}function Qn(t){if(t&&"number"==typeof t.length){if(l(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function tr(t){var e=[];nr(new er,t,e);return e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(c(e)){var r=e;e=r.length;n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";n.push("]");return}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{");i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));n.push("}");return}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,function(t){var e=rr[t];e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e);return e}),'"')}function ar(){var t=Ar();return Yt&&!!ce&&11==ce||/Edge\/\d+/.test(t)}function sr(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||n.window;var r="about:blank";t&&(r=Vn(Bn(t)));e.location.href=r}function cr(t,e){var n=[],r;for(r in t)r in e?typeof t[r]!=typeof e[r]?n.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=e[r]?0<cr(t[r],e[r]).length&&n.push(r):t[r]!==e[r]&&n.push(r):n.push(r);for(r in e)r in t||n.push(r);return n}function hr(){var t=Ar();t=Ir(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null;return!(t&&30>t)&&(!Yt||!ce||9<ce)}function fr(t){t=(t||Ar()).toLowerCase();return!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||n.window;try{t.close()}catch(t){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500;n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};n=Ar().toLowerCase();r&&(e.target=r,Q(n,"crios/")&&(e.target="_blank"));Ir(Ar())==Sr&&(t=t||"http://localhost",e.scrollbars=!0);n=t||"";(t=e)||(t={});r=window;e=n instanceof Mn?n:Bn("undefined"!=typeof n.href?n.href:String(n));n=t.target||n.target;i=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");(it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Mn||e instanceof Mn||(e=e.ma?e.la():String(e),Fn.test(e)||(e="about:invalid#zClosurez"),e=qn(e)),a.href=Vn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Vn(e),a&&(Qt&&Q(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,On("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+G(t)+'">',t=Kn(t),a.document.write(Gn(t)),a.document.close())):(a=r.open(Vn(e),n,a))&&t.noopener&&(a.opener=null);if(a)try{a.focus()}catch(t){}return a}function dr(t){return new bt(function(e){function n(){$e(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function mr(){var t=null;return new bt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},je(window,"load",t))}).s(function(e){Re(window,"load",t);throw e})}function gr(){return yr(void 0)?mr().then(function(){return new bt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i);t()},!1)})}):Tt(Error("Cordova must run in an Android or iOS file scheme."))}function yr(t){t=t||Ar();return!("file:"!==Cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}}function wr(){return"object"!==typeof n.window&&"function"===typeof n.importScripts}function _r(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function kr(){var t=_r();return"ReactNative"===t||"Node"===t}function xr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var Sr="Firefox",Er="Chrome";function Ir(t){var e=t.toLowerCase();if(Q(e,"opera/")||Q(e,"opr/")||Q(e,"opios/"))return"Opera";if(Q(e,"iemobile"))return"IEMobile";if(Q(e,"msie")||Q(e,"trident/"))return"IE";if(Q(e,"edge/"))return"Edge";if(Q(e,"firefox/"))return Sr;if(Q(e,"silk/"))return"Silk";if(Q(e,"blackberry"))return"Blackberry";if(Q(e,"webos"))return"Webos";if(Q(e,"safari/")&&!Q(e,"chrome/")&&!Q(e,"crios/")&&!Q(e,"android"))return"Safari";if((Q(e,"chrome/")||Q(e,"crios/"))&&!Q(e,"edge/"))return Er;if(Q(e,"android"))return"Android";if((t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length)return t[1];return"Other"}var Tr={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function Pr(t,e){e=e||[];var n=[],r={},i;for(i in Tr)r[Tr[i]]=!0;for(i=0;i<e.length;i++)"undefined"!==typeof r[e[i]]&&(delete r[e[i]],n.push(e[i]));n.sort();e=n;e.length||(e=["FirebaseCore-web"]);n=_r();"Browser"===n?(r=Ar(),n=Ir(r)):"Worker"===n&&(r=Ar(),n=Ir(r)+"-"+n);return n+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return n.navigator&&n.navigator.userAgent||""}function Or(t,e){t=t.split(".");e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];r!=t.length&&(e=void 0);return e}function jr(){try{var t=n.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!n.indexedDB}catch(t){return wr()&&!!n.indexedDB}return!1}function Rr(){return(Nr()||"chrome-extension:"===Cr()||yr())&&!kr()&&jr()&&!wr()}function Nr(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return n.location&&n.location.protocol||null}function Dr(t){t=t||Ar();return!fr(t)&&Ir(t)!=Sr}function Lr(t){return"undefined"===typeof t?null:tr(t)}function Ur(t){var e={},n;for(n in t)t.hasOwnProperty(n)&&null!==t[n]&&void 0!==t[n]&&(e[n]=t[n]);return e}function Mr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){t=t||Ar();return"Safari"!=Ir(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function Wr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t;this.c=e;t=Ar();e=_r();this.b=fr(t)||"ReactNative"===e}Wr.prototype.get=function(){var t=n.navigator;return(t&&"boolean"===typeof t.onLine&&(Nr()||"chrome-extension:"===Cr()||"undefined"!==typeof t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function qr(){var t=n.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Hr(){var t=n.document,e=null;return qr()||!t?It():new bt(function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())};t.addEventListener("visibilitychange",e,!1)}).s(function(n){t.removeEventListener("visibilitychange",e,!1);throw n})}function Gr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function $r(){return!(!Or("fireauth.oauthhelper",n)&&!Or("fireauth.iframe",n))}var Kr={};function zr(t){Kr[t]||(Kr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}var Xr;try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2});Xr=2==Jr.abcd}catch(t){Xr=!1}function Yr(t,e,n){Xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Qr(t){var e={};Zr(e,t);return e}function ti(t){var e={},n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ei(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function ni(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)Yr(e,n,ni(t[n]))}return e}function ri(t){var e={},n=t[oi],r=t[ai];t=t[si];if(!t||t!=ii&&!n)throw Error("Invalid provider user info!");e[ci]=r||null;e[ui]=n||null;Yr(this,fi,t);Yr(this,hi,ni(e))}var ii="EMAIL_SIGNIN",oi="email",ai="newEmail",si="requestType",ui="email",ci="fromEmail",hi="data",fi="operation";function li(t,e){this.code=di+t;this.message=e||vi[t]||""}w(li,Error);li.prototype.D=function(){return{code:this.code,message:this.message}};li.prototype.toJSON=function(){return this.D()};function pi(t){var e=t&&t.code;return e?new li(e.substring(di.length),t.message):null}var di="auth/",vi={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function mi(t){var e=t[wi];if("undefined"===typeof e)throw new li("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new li("invalid-continue-uri");this.h=e;this.b=this.a=null;this.g=!1;var n=t[gi];if(n&&"object"===typeof n){e=n[xi];var r=n[_i];n=n[ki];if("string"===typeof e&&e.length){this.a=e;if("undefined"!==typeof r&&"boolean"!==typeof r)throw new li("argument-error",_i+" property must be a boolean when specified.");this.g=!!r;if("undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new li("argument-error",ki+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new li("argument-error",xi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new li("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new li("argument-error",gi+" property must be a non null object when specified.");this.f=null;if((e=t[bi])&&"object"===typeof e){if(e=e[Si],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new li("argument-error",Si+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new li("argument-error",bi+" property must be a non null object when specified.");t=t[yi];if("undefined"!==typeof t&&"boolean"!==typeof t)throw new li("argument-error",yi+" property must be a boolean when specified.");this.c=!!t}var gi="android",yi="handleCodeInApp",bi="iOS",wi="url",_i="installApp",ki="minimumVersion",xi="packageName",Si="bundleId";function Ei(t){var e={};e.continueUrl=t.h;e.canHandleCodeInApp=t.c;(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g);e.iOSBundleId=t.f;for(var n in e)null===e[n]&&delete e[n];return e}function Ii(t){return D(t,function(t){t=t.toString(16);return 1<t.length?t:"0"+t}).join("")}var Ti=null,Pi=null;function Ai(t){var e="";Oi(t,function(t){e+=String.fromCharCode(t)});return e}function Oi(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Pi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}ji();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4);64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function ji(){if(!Ti){Ti={};Pi={};for(var t=0;65>t;t++)Ti[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Pi[Ti[t]]=t,62<=t&&(Pi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Ri(t){this.c=t.sub;b();this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null;this.b=!!t.is_anonymous||"anonymous"==this.a}Ri.prototype.f=function(){return this.b};function Ni(t){return(t=Ci(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ri(t):null}function Ci(t){if(!t)return null;t=t.split(".");if(3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ai(t))}catch(t){}return null}var Di="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Li=["client_id","response_type","scope","redirect_uri","state"],Ui={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:Li},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:Li},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:Li},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:Di}};function Mi(t){for(var e in Ui)if(Ui[e].Na==t)return Ui[e];return null}function Vi(t){var e={};e["facebook.com"]=Hi;e["google.com"]=$i;e["github.com"]=Gi;e["twitter.com"]=Ki;var n=t&&t[Bi];try{if(n)return e[n]?new e[n](t):new qi(t);if("undefined"!==typeof t[Fi])return new Wi(t)}catch(t){}return null}var Fi="idToken",Bi="providerId";function Wi(t){var e=t[Bi];if(!e&&t[Fi]){var n=Ni(t[Fi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null);n=!1;"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0);Yr(this,"providerId",e);Yr(this,"isNewUser",n)}function qi(t){Wi.call(this,t);t=Mr(t.rawUserInfo||"{}");Yr(this,"profile",ni(t||{}))}w(qi,Wi);function Hi(t){qi.call(this,t);if("facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}w(Hi,qi);function Gi(t){qi.call(this,t);if("github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}w(Gi,qi);function $i(t){qi.call(this,t);if("google.com"!=this.providerId)throw Error("Invalid provider ID!")}w($i,qi);function Ki(t){qi.call(this,t);if("twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}w(Ki,qi);function zi(t){this.a=un(t)}function Xi(t){var e=un(t),n=sn(e,"link"),r=sn(un(n),"link");e=sn(e,"deep_link_id");return sn(un(e),"link")||e||r||n||t}function Ji(t,e){return t.then(function(t){if(t[La]){var n=Ni(t[La]);if(!n||e!=n.c)throw new li("user-mismatch");return t}throw new li("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==di+"user-not-found"?new li("user-mismatch"):t})}function Yi(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new li("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t);Yr(this,"signInMethod",n)}Yi.prototype.ya=function(t){return ss(t,Zi(this))};Yi.prototype.c=function(t,e){var n=Zi(this);n.idToken=e;return us(t,n)};Yi.prototype.f=function(t,e){var n=Zi(this);return Ji(cs(t,n),e)};function Zi(t){var e={};t.idToken&&(e.id_token=t.idToken);t.accessToken&&(e.access_token=t.accessToken);t.secret&&(e.oauth_token_secret=t.secret);e.providerId=t.providerId;return{postBody:wn(e).toString(),requestUri:"http://localhost"}}Yi.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};this.idToken&&(t.oauthIdToken=this.idToken);this.accessToken&&(t.oauthAccessToken=this.accessToken);this.secret&&(t.oauthTokenSecret=this.secret);return t};function Qi(t,e){this.Cc=e||[];Zr(this,{providerId:t,isOAuthProvider:!0});this.xb={};this.bb=(Mi(t)||{}).Ma||null;this.Za=null}Qi.prototype.Da=function(t){this.xb=st(t);return this};function to(t){Qi.call(this,t,Li);this.a=[]}w(to,Qi);to.prototype.ta=function(t){M(this.a,t)||this.a.push(t);return this};to.prototype.Cb=function(){return W(this.a)};to.prototype.credential=function(t,e){if(!t&&!e)throw new li("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yi(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)};function eo(){to.call(this,"facebook.com")}w(eo,to);Yr(eo,"PROVIDER_ID","facebook.com");Yr(eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function no(t){if(!t)throw new li("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;l(t)&&(e=t.accessToken);return(new eo).credential(null,e)}function ro(){to.call(this,"github.com")}w(ro,to);Yr(ro,"PROVIDER_ID","github.com");Yr(ro,"GITHUB_SIGN_IN_METHOD","github.com");function io(t){if(!t)throw new li("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;l(t)&&(e=t.accessToken);return(new ro).credential(null,e)}function oo(){to.call(this,"google.com");this.ta("profile")}w(oo,to);Yr(oo,"PROVIDER_ID","google.com");Yr(oo,"GOOGLE_SIGN_IN_METHOD","google.com");function ao(t,e){var n=t;l(t)&&(n=t.idToken,e=t.accessToken);return(new oo).credential(n,e)}function so(){Qi.call(this,"twitter.com",Di)}w(so,Qi);Yr(so,"PROVIDER_ID","twitter.com");Yr(so,"TWITTER_SIGN_IN_METHOD","twitter.com");function uo(t,e){var n=t;l(n)||(n={oauthToken:t,oauthTokenSecret:e});if(!n.oauthToken||!n.oauthTokenSecret)throw new li("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yi("twitter.com",n,"twitter.com")}function co(t,e,n){this.a=t;this.b=e;Yr(this,"providerId","password");Yr(this,"signInMethod",n===ho.EMAIL_LINK_SIGN_IN_METHOD?ho.EMAIL_LINK_SIGN_IN_METHOD:ho.EMAIL_PASSWORD_SIGN_IN_METHOD)}co.prototype.ya=function(t){return this.signInMethod==ho.EMAIL_LINK_SIGN_IN_METHOD?Ms(t,gs,{email:this.a,oobCode:this.b}):Ms(t,Cs,{email:this.a,password:this.b})};co.prototype.c=function(t,e){return this.signInMethod==ho.EMAIL_LINK_SIGN_IN_METHOD?Ms(t,ys,{idToken:e,email:this.a,oobCode:this.b}):Ms(t,Ps,{idToken:e,email:this.a,password:this.b})};co.prototype.f=function(t,e){return Ji(this.ya(t),e)};co.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}};function ho(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function fo(t,e){e=lo(e);if(!e)throw new li("argument-error","Invalid email link!");return new co(t,e,ho.EMAIL_LINK_SIGN_IN_METHOD)}function lo(t){t=Xi(t);t=new zi(t);var e=sn(t.a,"oobCode")||null;return"signIn"===(sn(t.a,"mode")||null)&&e?e:null}Zr(ho,{PROVIDER_ID:"password"});Zr(ho,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"});Zr(ho,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function po(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new li("internal-error");this.a=t;Yr(this,"providerId","phone");Yr(this,"signInMethod","phone")}po.prototype.ya=function(t){return t.Ta(vo(this))};po.prototype.c=function(t,e){var n=vo(this);n.idToken=e;return Ms(t,Ls,n)};po.prototype.f=function(t,e){var n=vo(this);n.operation="REAUTH";t=Ms(t,Us,n);return Ji(t,e)};po.prototype.D=function(){var t={providerId:"phone"};this.a.Sa&&(t.verificationId=this.a.Sa);this.a.Ra&&(t.verificationCode=this.a.Ra);this.a.Fa&&(t.temporaryProof=this.a.Fa);this.a.$&&(t.phoneNumber=this.a.$);return t};function vo(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function mo(t){try{this.a=t||r.a.auth()}catch(t){throw new li("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}mo.prototype.Ta=function(t,e){var n=this.a.b;return It(e.verify()).then(function(r){if(!i(r))throw new li("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return rs(n,{phoneNumber:t,recaptchaToken:r}).then(function(t){"function"===typeof e.reset&&e.reset();return t},function(t){"function"===typeof e.reset&&e.reset();throw t});default:throw new li("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function go(t,e){if(!t)throw new li("missing-verification-id");if(!e)throw new li("missing-verification-code");return new po({Sa:t,Ra:e})}Zr(mo,{PROVIDER_ID:"phone"});Zr(mo,{PHONE_SIGN_IN_METHOD:"phone"});function yo(t){if(t.temporaryProof&&t.phoneNumber)return new po({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return ao(t,n);case"facebook.com":return no(n);case"github.com":return io(n);case"twitter.com":return uo(n,r);default:return new to(e).credential(t,n)}}catch(t){return null}}function bo(t){if(!t.isOAuthProvider)throw new li("invalid-oauth-provider")}function wo(t,e,n,r,i){this.b=t;this.c=e||null;this.f=n||null;this.g=r||null;this.a=i||null;if(!this.f&&!this.a)throw new li("invalid-auth-event");if(this.f&&this.a)throw new li("invalid-auth-event");if(this.f&&!this.g)throw new li("invalid-auth-event")}wo.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};function _o(t){t=t||{};return t.type?new wo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&pi(t.error)):null}function ko(){this.b=null;this.a=[]}var xo=null;ko.prototype.subscribe=function(t){var e=this;this.a.push(t);this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=Or("universalLinks.subscribe",n),"function"===typeof t&&t(null,this.b))};ko.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})};function So(t){var e="unauthorized-domain",n=void 0,r=un(t);t=r.b;r=r.c;"chrome-extension"==r?n=q("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=q("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment";li.call(this,e,n)}w(So,li);function Eo(t,e,n){li.call(this,t,n);t=e||{};t.yb&&Yr(this,"email",t.yb);t.$&&Yr(this,"phoneNumber",t.$);t.credential&&Yr(this,"credential",t.credential)}w(Eo,li);Eo.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email);this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();e&&ct(t,e);return t};Eo.prototype.toJSON=function(){return this.D()};function Io(t){if(t.code){var e=t.code||"";0==e.indexOf(di)&&(e=e.substring(di.length));var n={credential:yo(t)};if(t.email)n.yb=t.email;else{if(!t.phoneNumber)return new li(e,t.message||void 0);n.$=t.phoneNumber}return new Eo(e,n,t.message)}return null}var To=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Po(){}Po.prototype.c=null;function Ao(t){return t.c||(t.c=t.b())}var Oo;function jo(){}w(jo,Po);jo.prototype.a=function(){var t=Ro(this);return t?new ActiveXObject(t):new XMLHttpRequest};jo.prototype.b=function(){var t={};Ro(this)&&(t[0]=!0,t[1]=!0);return t};function Ro(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}Oo=new jo;function No(){}w(No,Po);No.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Co;throw Error("Unsupported browser")};No.prototype.b=function(){return{}};function Co(){this.a=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText="";this.status=-1;this.statusText="";this.a.onload=g(this.dc,this);this.a.onerror=g(this.Db,this);this.a.onprogress=g(this.ec,this);this.a.ontimeout=g(this.hc,this)}t=Co.prototype;t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)};t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()};t.abort=function(){this.a.abort()};t.setRequestHeader=function(){};t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""};t.dc=function(){this.status=200;this.responseText=this.a.responseText;Do(this,4)};t.Db=function(){this.status=500;this.responseText="";Do(this,4)};t.hc=function(){this.Db()};t.ec=function(){this.status=200;Do(this,1)};function Do(t,e){t.readyState=e;t.onreadystatechange&&t.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Lo(t,e,n){this.reset(t,e,n,void 0,void 0)}Lo.prototype.a=null;var Uo=0;Lo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||Uo++;r||b();delete this.a};function Mo(t){this.f=t;this.b=this.c=this.a=null}function Vo(t,e){this.name=t;this.value=e}Vo.prototype.toString=function(){return this.name};var Fo=new Vo("SEVERE",1e3),Bo=new Vo("WARNING",900),Wo=new Vo("CONFIG",700),qo=new Vo("FINE",500);function Ho(t){if(t.c)return t.c;if(t.a)return Ho(t.a);E("Root logger has no level set.");return null}Mo.prototype.log=function(t,e,n){if(t.value>=Ho(this).value)for(f(e)&&(e=e()),t=new Lo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Go={},$o=null;function Ko(t){$o||($o=new Mo(""),Go[""]=$o,$o.c=Wo);var e;if(!(e=Go[t])){e=new Mo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Ko(t.substr(0,n));n.b||(n.b={});n.b[r]=e;e.a=n;Go[t]=e}return e}function zo(t,e){t&&t.log(qo,e,void 0)}function Xo(t){this.f=t}w(Xo,Po);Xo.prototype.a=function(){return new Jo(this.f)};Xo.prototype.b=function(t){return function(){return t}}({});function Jo(t){Be.call(this);this.i=t;this.readyState=Yo;this.status=0;this.responseText=this.statusText="";this.onreadystatechange=null;this.g=new Headers;this.b=null;this.h="GET";this.c="";this.a=!1;this.f=Ko("goog.net.FetchXmlHttp")}w(Jo,Be);var Yo=0;t=Jo.prototype;t.open=function(t,e){if(this.readyState!=Yo)throw this.abort(),Error("Error reopening a connection");this.h=t;this.c=e;this.readyState=1;Zo(this)};t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t);this.i.fetch(new Request(this.c,e)).then(this.gc.bind(this),this.Eb.bind(this))};t.abort=function(){this.responseText="";this.g=new Headers;this.status=0;1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Zo(this));this.readyState=Yo};t.gc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,Zo(this)),this.a&&(this.readyState=3,Zo(this),this.a&&t.text().then(this.fc.bind(this,t),this.Eb.bind(this))))};t.fc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,Zo(this))};t.Eb=function(t){var e=this.f;e&&e.log(Bo,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t));this.a&&(this.readyState=4,Zo(this))};t.setRequestHeader=function(t,e){this.g.append(t,e)};t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Bo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")};t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;t&&t.log(Bo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0);return""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")};function Zo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Qo(t){Be.call(this);this.headers=new Je;this.C=t||null;this.c=!1;this.w=this.a=null;this.h=this.N=this.l="";this.f=this.I=this.i=this.G=!1;this.g=0;this.u=null;this.o=ta;this.v=this.O=!1}w(Qo,Be);var ta="";Qo.prototype.b=Ko("goog.net.XhrIo");var ea=/^https?$/i,na=["POST","PUT"];function ra(t,e,r,i,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);r=r?r.toUpperCase():"GET";t.l=e;t.h="";t.N=r;t.G=!1;t.c=!0;t.a=t.C?t.C.a():Oo.a();t.w=t.C?Ao(t.C):Ao(Oo);t.a.onreadystatechange=g(t.Hb,t);try{zo(t.b,da(t,"Opening Xhr")),t.I=!0,t.a.open(r,String(e),!0),t.I=!1}catch(e){zo(t.b,da(t,"Error opening Xhr: "+e.message));aa(t,e);return}e=i||"";var a=new Je(t.headers);o&&Xe(o,function(t,e){a.set(e,t)});o=U(a.U());i=n.FormData&&e instanceof n.FormData;!M(na,r)||o||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");a.forEach(function(t,e){this.a.setRequestHeader(e,t)},t);t.o&&(t.a.responseType=t.o);"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{ha(t),0<t.g&&(t.v=ia(t.a),zo(t.b,da(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ga,t)):t.u=Ge(t.Ga,t.g,t)),zo(t.b,da(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){zo(t.b,da(t,"Send error: "+e.message)),aa(t,e)}}function ia(t){return Yt&&ue(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function oa(t){return"content-type"==t.toLowerCase()}t=Qo.prototype;t.Ga=function(){"undefined"!=typeof e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zo(this.b,da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function aa(t,e){t.c=!1;t.a&&(t.f=!0,t.a.abort(),t.f=!1);t.h=e;sa(t);ca(t)}function sa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(zo(this.b,da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ca(this))};t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ca(this,!0));Qo.nb.ua.call(this)};t.Hb=function(){this.pa||(this.I||this.i||this.f?ua(this):this.vc())};t.vc=function(){ua(this)};function ua(t){if(t.c&&"undefined"!=typeof e)if(t.w[1]&&4==fa(t)&&2==la(t))zo(t.b,da(t,"Local request error detected and ignored"));else if(t.i&&4==fa(t))Ge(t.Hb,0,t);else if(t.dispatchEvent("readystatechange"),4==fa(t)){zo(t.b,da(t,"Request complete"));t.c=!1;try{var r=la(t);t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}var o;if(!(o=i)){var a;if(a=0===r){var s=String(t.l).match(Qe)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!ea.test(s?s.toLowerCase():"")}o=a}if(o)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<fa(t)?t.a.statusText:""}catch(e){zo(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+la(t)+"]";sa(t)}}finally{ca(t)}}}function ca(t,e){if(t.a){ha(t);var n=t.a,r=t.w[0]?a:null;t.a=null;t.w=null;e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Fo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ha(t){t.a&&t.v&&(t.a.ontimeout=null);t.u&&(n.clearTimeout(t.u),t.u=null)}function fa(t){return t.a?t.a.readyState:0}function la(t){try{return 2<fa(t)?t.a.status:-1}catch(t){return-1}}function pa(t){try{return t.a?t.a.responseText:""}catch(e){return zo(t.b,"Can not get responseText: "+e.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;t&&t.log(Fo,"Response type "+this.o+" is not supported on this browser",void 0);return null}catch(t){return zo(this.b,"Can not get response: "+t.message),null}};function da(t,e){return e+" ["+t.N+" "+t.l+" "+la(t)+"]"}function va(t,e){this.g=[];this.v=t;this.u=e||null;this.f=this.a=!1;this.c=void 0;this.l=this.w=this.i=!1;this.h=0;this.b=null;this.m=0}va.prototype.cancel=function(t){if(this.a)this.c instanceof va&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b;t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0;this.a||(t=new xa(this),ga(this),ma(this,!1,t))}};va.prototype.o=function(t,e){this.i=!1;ma(this,t,e)};function ma(t,e,n){t.a=!0;t.c=n;t.f=!e;_a(t)}function ga(t){if(t.a){if(!t.l)throw new ka(t);t.l=!1}}va.prototype.C=function(){ga(this);ma(this,!0,null)};function ya(t,e){ba(t,null,e,void 0)}function ba(t,e,n,r){t.g.push([e,n,r]);t.a&&_a(t)}va.prototype.then=function(t,e,n){var r,i,o=new bt(function(t,e){r=t;i=e});ba(this,r,function(t){t instanceof xa?o.cancel():i(t)});return o.then(t,e,n)};_(va);function wa(t){return L(t.g,function(t){return f(t[1])})}function _a(t){if(t.h&&t.a&&wa(t)){var e=t.h,r=Ea[e];r&&(n.clearTimeout(r.a),delete Ea[e]);t.h=0}t.b&&(t.b.m--,delete t.b);e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];o=o[2];if(a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u);(k(e)||"function"===typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(n){e=n,t.f=!0,wa(t)||(r=!0)}}t.c=e;i&&(u=g(t.o,t,!0),i=g(t.o,t,!1),e instanceof va?(ba(e,u,i),e.w=!0):e.then(u,i));r&&(e=new Sa(e),Ea[e.a]=e,t.h=e.a)}function ka(){x.call(this)}w(ka,x);ka.prototype.message="Deferred has already fired";ka.prototype.name="AlreadyCalledError";function xa(){x.call(this)}w(xa,x);xa.prototype.message="Deferred was canceled";xa.prototype.name="CanceledError";function Sa(t){this.a=n.setTimeout(g(this.c,this),0);this.b=t}Sa.prototype.c=function(){delete Ea[this.a];throw this.b};var Ea={};function Ia(t){var e={},n=e.document||document,r=Rn(t),i=document.createElement("SCRIPT"),o={Jb:i,Ga:void 0},a=new va(Pa,o),s=null,u=null!=e.timeout?e.timeout:5e3;0<u&&(s=window.setTimeout(function(){Aa(i,!0);var t=new Ra(ja,"Timeout reached for loading script "+r);ga(a);ma(a,!1,t)},u),o.Ga=s);i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Aa(i,e.fd||!1,s),a.C())};i.onerror=function(){Aa(i,!0,s);var t=new Ra(Oa,"Error while loading script "+r);ga(a);ma(a,!1,t)};o=e.attributes||{};ct(o,{type:"text/javascript",charset:"UTF-8"});Xn(i,o);i.src=Rn(t);Ta(n).appendChild(i);return a}function Ta(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Pa(){if(this&&this.Jb){var t=this.Jb;t&&"SCRIPT"==t.tagName&&Aa(t,!0,this.Ga)}}function Aa(t,e,r){null!=r&&n.clearTimeout(r);t.onload=a;t.onerror=a;t.onreadystatechange=a;e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Oa=0,ja=1;function Ra(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e);x.call(this,n);this.code=t}w(Ra,x);function Na(t){this.f=t}w(Na,Po);Na.prototype.a=function(){return new this.f};Na.prototype.b=function(){return{}};function Ca(t,e,i){this.b=t;t=e||{};this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.m=t.secureTokenTimeout||Ua;this.f=st(t.secureTokenHeaders||Ma);this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.h=t.firebaseTimeout||Va;this.a=st(t.firebaseHeaders||Fa);i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i);i="Node"==_r();i=n.XMLHttpRequest||i&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest;if(!i&&!wr())throw new li("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0;wr()?this.c=new Xo(self):kr()?this.c=new Na(i):this.c=new No}var Da,La="idToken",Ua=new Wr(3e4,6e4),Ma={"Content-Type":"application/x-www-form-urlencoded"},Va=new Wr(3e4,6e4),Fa={"Content-Type":"application/json"};function Ba(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Wa(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function qa(t,e,n,r,i,o,a){hr()||wr()?t=g(t.o,t):(Da||(Da=new bt(function(t,e){$a(t,e)})),t=g(t.l,t));t(e,n,r,i,o,a)}Ca.prototype.o=function(t,e,r,i,o,a){if(wr()&&("undefined"===typeof n.fetch||"undefined"===typeof n.Headers||"undefined"===typeof n.Request))throw new li("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Qo(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}We(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(pa(this))||null}catch(e){t=null}e&&e(t)});qe(s,"ready",function(){u&&clearTimeout(u);Kt(this)});qe(s,"timeout",function(){u&&clearTimeout(u);Kt(this);e&&e(null)});ra(s,t,r,i,o)};var Ha=On("https://apis.google.com/js/client.js?onload=%{onload}"),Ga="__fcb"+Math.floor(1e6*Math.random()).toString();function $a(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Ga]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=Nn(Ha,{onload:Ga});ya(Ia(r),function(){e(Error("CORS_UNSUPPORTED"))})}}Ca.prototype.l=function(t,e,n,r,i){var o=this;Da.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a);e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};function Ka(t,e){return new bt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?qa(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Fs(t)):t.access_token&&t.refresh_token?n(t):r(new li("internal-error")):r(new li("network-request-failed"))},"POST",wn(e).toString(),t.f,t.m.get()):r(new li("internal-error"))})}function za(t,e,n,r,i,o){var a=un(t.g+e);an(a,"key",t.b);o&&an(a,"cb",b().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&an(a,u,r[u]);return new bt(function(e,o){qa(t,a.toString(),function(t){t?t.error?o(Fs(t,i||{})):e(t):o(new li("network-request-failed"))},n,s?void 0:tr(Ur(r)),t.a,t.h.get())})}function Xa(t){if(!To.test(t.email))throw new li("invalid-email")}function Ja(t){"email"in t&&Xa(t)}function Ya(t,e){return Ms(t,ds,{identifier:e,continueUri:Nr()?sr():"http://localhost"}).then(function(t){return t.allProviders||[]})}function Za(t,e){return Ms(t,ds,{identifier:e,continueUri:Nr()?sr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Qa(t){return Ms(t,xs,{}).then(function(t){return t.authorizedDomains||[]})}function ts(t){if(!t[La])throw new li("internal-error")}function es(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new li("internal-error")}else{if(!t.sessionInfo)throw new li("missing-verification-id");if(!t.code)throw new li("missing-verification-code")}}Ca.prototype.Pa=function(){return Ms(this,As,{})};Ca.prototype.ob=function(t,e){return Ms(this,Ts,{idToken:t,email:e})};Ca.prototype.pb=function(t,e){return Ms(this,Ps,{idToken:t,password:e})};var ns={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Ca.prototype;t.qb=function(t,e){var n={idToken:t},r=[];ot(ns,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)});r.length&&(n.deleteAttribute=r);return Ms(this,Ts,n)};t.jb=function(t,e){t={requestType:"PASSWORD_RESET",email:t};ct(t,e);return Ms(this,ks,t)};t.kb=function(t,e){t={requestType:"EMAIL_SIGNIN",email:t};ct(t,e);return Ms(this,ws,t)};t.ib=function(t,e){t={requestType:"VERIFY_EMAIL",idToken:t};ct(t,e);return Ms(this,_s,t)};function rs(t,e){return Ms(t,Is,e)}t.Ta=function(t){return Ms(this,Ds,t)};function is(t,e,n){return Ms(t,ms,{idToken:e,deleteProvider:n})}function os(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new li("internal-error")}function as(t){var e=null;t.needConfirmation?(t.code="account-exists-with-different-credential",e=Io(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Io(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Io(t)):t.errorMessage&&(e=Vs(t.errorMessage));if(e)throw e;if(!t[La])throw new li("internal-error")}function ss(t,e){e.returnIdpCredential=!0;return Ms(t,Os,e)}function us(t,e){e.returnIdpCredential=!0;return Ms(t,Rs,e)}function cs(t,e){e.returnIdpCredential=!0;e.autoCreate=!1;return Ms(t,js,e)}function hs(t){if(!t.oobCode)throw new li("invalid-action-code")}t.Ya=function(t,e){return Ms(this,Es,{oobCode:t,newPassword:e})};t.Ja=function(t){return Ms(this,ls,{oobCode:t})};t.Va=function(t){return Ms(this,fs,{oobCode:t})};var fs={endpoint:"setAccountInfo",B:hs,da:"email"},ls={endpoint:"resetPassword",B:hs,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new li("internal-error")}},ps={endpoint:"signupNewUser",B:function(t){Xa(t);if(!t.password)throw new li("weak-password")},J:ts,R:!0},ds={endpoint:"createAuthUri"},vs={endpoint:"deleteAccount",T:["idToken"]},ms={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!c(t.deleteProvider))throw new li("internal-error")}},gs={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Xa,J:ts,R:!0},ys={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Xa,J:ts,R:!0},bs={endpoint:"getAccountInfo"},ws={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new li("internal-error");Xa(t)},da:"email"},_s={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new li("internal-error")},da:"email"},ks={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new li("internal-error");Xa(t)},da:"email"},xs={tb:!0,endpoint:"getProjectConfig",Gb:"GET"},Ss={tb:!0,endpoint:"getRecaptchaParam",Gb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new li("internal-error")}},Es={endpoint:"resetPassword",B:hs,da:"email"},Is={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ts={endpoint:"setAccountInfo",T:["idToken"],B:Ja,R:!0},Ps={endpoint:"setAccountInfo",T:["idToken"],B:function(t){Ja(t);if(!t.password)throw new li("weak-password")},J:ts,R:!0},As={endpoint:"signupNewUser",J:ts,R:!0},Os={endpoint:"verifyAssertion",B:os,J:as,R:!0},js={endpoint:"verifyAssertion",B:os,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new li("user-not-found");if(t.errorMessage)throw Vs(t.errorMessage);if(!t[La])throw new li("internal-error")},R:!0},Rs={endpoint:"verifyAssertion",B:function(t){os(t);if(!t.idToken)throw new li("internal-error")},J:as,R:!0},Ns={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new li("invalid-custom-token")},J:ts,R:!0},Cs={endpoint:"verifyPassword",B:function(t){Xa(t);if(!t.password)throw new li("wrong-password")},J:ts,R:!0},Ds={endpoint:"verifyPhoneNumber",B:es,J:ts},Ls={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new li("internal-error");es(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Io(t);ts(t)}},Us={Vb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:es,J:ts};function Ms(t,e,n){if(!ei(n,e.T))return Tt(new li("internal-error"));var r=e.Gb||"POST",i;return It(n).then(e.B).then(function(){e.R&&(n.returnSecureToken=!0);return za(t,e.endpoint,r,n,e.Vb,e.tb||!1)}).then(function(t){return i=t}).then(e.J).then(function(){if(!e.da)return i;if(!(e.da in i))throw new li("internal-error");return i[e.da]})}function Vs(t){return Fs({error:{errors:[{message:t}],code:400,message:t}})}function Fs(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"";var r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new li(r[n]):null)return n;n=t.error&&t.error.message||"";r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"};ct(r,e||{});e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new li(r[i],e);!e&&t&&(e=Lr(t));return new li("internal-error",e)}var Bs={$c:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ws(t){for(var e in Bs)if(Bs[e].id===t)return t=Bs[e],{firebaseEndpoint:t.$a,secureTokenEndpoint:t.hb};return null}var qs;qs=Ws("__EID__")?"__EID__":void 0;function Hs(t){this.b=t;this.a=null;this.eb=Gs(this)}function Gs(t){return Zs().then(function(){return new bt(function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o);e()}t.a=r;t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Js.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function $s(t,e){return t.eb.then(function(){return new bt(function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Ks(t,e){t.eb.then(function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var zs=On("https://apis.google.com/js/api.js?onload=%{onload}"),Xs=new Wr(3e4,6e4),Js=new Wr(5e3,15e3),Ys=null;function Zs(){return Ys||(Ys=new bt(function(t,e){function r(){Br();Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br();e(Error("Network Error"))},timeout:Xs.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){Or("gapi.load")?r():e(Error("Network Error"))};i=Nn(zs,{onload:i});It(Ia(i)).s(function(){e(Error("Network Error"))})}}).s(function(t){Ys=null;throw t}))}function Qs(t,e,n){this.i=t;this.g=e;this.h=n;this.f=null;this.a=cn(this.i,"/__/auth/iframe");an(this.a,"apiKey",this.g);an(this.a,"appName",this.h);this.b=null;this.c=[]}Qs.prototype.toString=function(){this.f?an(this.a,"v",this.f):_n(this.a.a,"v");this.b?an(this.a,"eid",this.b):_n(this.a.a,"eid");this.c.length?an(this.a,"fw",this.c.join(",")):_n(this.a.a,"fw");return this.a.toString()};function tu(t,e,n,r,i){this.o=t;this.l=e;this.c=n;this.m=r;this.h=this.g=this.i=null;this.a=i;this.f=null}tu.prototype.toString=function(){var t=cn(this.o,"/__/auth/handler");an(t,"apiKey",this.l);an(t,"appName",this.c);an(t,"authType",this.m);if(this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(t){n=null}e.Za=n;an(t,"providerId",this.a.providerId);e=this.a;n=Ur(e.xb);for(var i in n)n[i]=n[i].toString();i=e.Cc;n=st(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za);at(n)||an(t,"customParameters",Lr(n))}"function"===typeof this.a.Cb&&(e=this.a.Cb(),e.length&&an(t,"scopes",e.join(",")));this.i?an(t,"redirectUrl",this.i):_n(t.a,"redirectUrl");this.g?an(t,"eventId",this.g):_n(t.a,"eventId");this.h?an(t,"v",this.h):_n(t.a,"v");if(this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!sn(t,s)&&an(t,s,this.b[s]);this.f?an(t,"eid",this.f):_n(t.a,"eid");s=eu(this.c);s.length&&an(t,"fw",s.join(","));return t.toString()};function eu(t){try{return r.a.app(t).auth().xa()}catch(t){return[]}}function nu(t,e,n,r,i){this.l=t;this.f=e;this.b=n;this.c=r||null;this.h=i||null;this.o=this.u=this.v=null;this.g=[];this.m=this.a=null}function ru(t){var e=sr();return Qa(t).then(function(t){t:{var n=un(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i];var a=n;var s=r;0==o.indexOf("chrome-extension://")?a=un(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a));if(a){t=!0;break t}}t=!1}if(!t)throw new So(sr())})}function iu(t){if(t.m)return t.m;t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.h,r=eu(t.b),i=new Qs(t.l,t.f,t.b);i.f=e;i.b=n;i.c=W(r||[]);t.u=i.toString()}t.i=new Hs(t.u);su(t)});return t.m}t=nu.prototype;t.Ea=function(t,e,n){var r=new li("popup-closed-by-user"),i=new li("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){uu(o).then(function(n){n||(t&&lr(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return dr(t)}).then(function(){if(!a)return $e(n).then(function(){e(r)})})};t.Kb=function(){var t=Ar();return!Dr(t)&&!Fr(t)};t.Fb=function(){return!1};t.Bb=function(t,e,n,r,i,o,a){if(!t)return Tt(new li("popup-blocked"));if(a&&!Dr())return this.ga().s(function(e){lr(t);i(e)}),r(),It();this.a||(this.a=ru(ou(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){lr(t);i(e);throw e});r();return e}).then(function(){bo(n);if(!a){var r=au(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h);ur(r,t)}}).s(function(t){"auth/network-request-failed"==t.code&&(s.a=null);throw t})};function ou(t){t.o||(t.v=t.c?Pr(t.c,eu(t.b)):null,t.o=new Ca(t.f,Ws(t.h),t.v));return t.o}t.Ca=function(t,e,n){this.a||(this.a=ru(ou(this)));var r=this;return this.a.then(function(){bo(e);var i=au(r.l,r.f,r.b,t,e,sr(),n,r.c,void 0,r.h);ur(i)}).s(function(t){"auth/network-request-failed"==t.code&&(r.a=null);throw t})};t.ga=function(){var t=this;return iu(this).then(function(){return t.i.eb}).s(function(){t.a=null;throw new li("network-request-failed")})};t.Ob=function(){return!0};function au(t,e,n,r,i,o,a,s,u,c){t=new tu(t,e,n,r,i);t.i=o;t.g=a;t.h=s;t.b=st(u||null);t.f=c;return t.toString()}function su(t){if(!t.i)throw Error("IfcHandler must be initialized!");Ks(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;e=_o(e.authEvent);for(n=0;n<t.g.length;n++)r=t.g[n](e)||r;n={};n.status=r?"ACK":"ERROR";return It(n)}n.status="ERROR";return It(n)})}function uu(t){var e={type:"webStorageSupport"};return iu(t).then(function(){return $s(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}t.va=function(t){this.g.push(t)};t.Ka=function(t){F(this.g,function(e){return e==t})};function cu(t){this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage;if(!this.a)throw new li("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=cu.prototype;t.get=function(t){return It(this.a.getItem(t)).then(function(t){return t&&Mr(t)})};t.set=function(t,e){return It(this.a.setItem(t,Lr(e)))};t.P=function(t){return It(this.a.removeItem(t))};t.Y=function(){};t.ca=function(){};function hu(){if(!vu())throw new li("web-storage-unsupported");this.f={};this.a=[];this.b=0;this.g=n.indexedDB;this.type="indexedDB"}var fu;function lu(t){return new bt(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()};r.onerror=function(t){n(Error(t.target.error))}})}function pu(t){return new bt(function(e,n){var r=t.g.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))};r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}};r.onsuccess=function(r){r=r.target.result;r.objectStoreNames.contains("firebaseLocalStorage")?e(r):lu(t).then(function(){return pu(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function du(t){t.h||(t.h=pu(t));return t.h}function vu(){try{return!!n.indexedDB}catch(t){return!1}}function mu(t){return t.objectStore("firebaseLocalStorage")}function gu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function yu(t){return new bt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()};t.onerror=function(t){n(Error(t.target.errorCode))}})}t=hu.prototype;t.set=function(t,e){var n=!1,r,i=this;return du(this).then(function(e){r=e;e=mu(gu(r,!0));return yu(e.get(t))}).then(function(o){var a=mu(gu(r,!0));if(o)return o.value=e,yu(a.put(o));i.b++;n=!0;o={};o.fbase_key=t;o.value=e;return yu(a.add(o))}).then(function(){i.f[t]=e}).ia(function(){n&&i.b--})};t.get=function(t){return du(this).then(function(e){return yu(mu(gu(e,!1)).get(t))}).then(function(t){return t&&t.value})};t.P=function(t){var e=!1,n=this;return du(this).then(function(r){e=!0;n.b++;return yu(mu(gu(r,!0))["delete"](t))}).then(function(){delete n.f[t]}).ia(function(){e&&n.b--})};t.Mc=function(){var t=this;return du(this).then(function(t){var e=mu(gu(t,!1));return e.getAll?yu(e.getAll()):new bt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)};i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.f,n);t.f=n}return r})};t.Y=function(t){0==this.a.length&&bu(this);this.a.push(t)};t.ca=function(t){F(this.a,function(e){return e==t});0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")};function bu(t){function e(){t.c=$e(800).then(g(t.Mc,t)).then(function(e){0<e.length&&N(t.a,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()});return t.c}t.c&&t.c.cancel("STOP_EVENT");e()}function wu(t){var e=this,n=null;this.a=[];this.type="indexedDB";this.c=t;this.b=It().then(function(){if(vu()){var t=Vr(),r="__sak"+t;fu||(fu=new hu);n=fu;return n.set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){e.type=t.type;t.Y(function(t){N(e.a,function(e){e(t)})});return t})}t=wu.prototype;t.get=function(t){return this.b.then(function(e){return e.get(t)})};t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})};t.P=function(t){return this.b.then(function(e){return e.P(t)})};t.Y=function(t){this.a.push(t)};t.ca=function(t){F(this.a,function(e){return e==t})};function _u(){this.a={};this.type="inMemory"}t=_u.prototype;t.get=function(t){return It(this.a[t])};t.set=function(t,e){this.a[t]=e;return It()};t.P=function(t){delete this.a[t];return It()};t.Y=function(){};t.ca=function(){};function ku(){if(!Su()){if("Node"==_r())throw new li("internal-error","The LocalStorage compatibility library was not found.");throw new li("web-storage-unsupported")}this.a=xu()||r.a.INTERNAL.node.localStorage;this.type="localStorage"}function xu(){try{var t=n.localStorage,e=Vr();t&&(t.setItem(e,"1"),t.removeItem(e));return t}catch(t){return null}}function Su(){var t="Node"==_r();t=xu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}t=ku.prototype;t.get=function(t){var e=this;return It().then(function(){var n=e.a.getItem(t);return Mr(n)})};t.set=function(t,e){var n=this;return It().then(function(){var r=Lr(e);null===r?n.P(t):n.a.setItem(t,r)})};t.P=function(t){var e=this;return It().then(function(){e.a.removeItem(t)})};t.Y=function(t){n.window&&Pe(n.window,"storage",t)};t.ca=function(t){n.window&&Re(n.window,"storage",t)};function Eu(){this.type="nullStorage"}t=Eu.prototype;t.get=function(){return It(null)};t.set=function(){return It()};t.P=function(){return It()};t.Y=function(){};t.ca=function(){};function Iu(){if(!Pu()){if("Node"==_r())throw new li("internal-error","The SessionStorage compatibility library was not found.");throw new li("web-storage-unsupported")}this.a=Tu()||r.a.INTERNAL.node.sessionStorage;this.type="sessionStorage"}function Tu(){try{var t=n.sessionStorage,e=Vr();t&&(t.setItem(e,"1"),t.removeItem(e));return t}catch(t){return null}}function Pu(){var t="Node"==_r();t=Tu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}t=Iu.prototype;t.get=function(t){var e=this;return It().then(function(){var n=e.a.getItem(t);return Mr(n)})};t.set=function(t,e){var n=this;return It().then(function(){var r=Lr(e);null===r?n.P(t):n.a.setItem(t,r)})};t.P=function(t){var e=this;return It().then(function(){e.a.removeItem(t)})};t.Y=function(){};t.ca=function(){};function Au(){var t={};t.Browser=ju;t.Node=Ru;t.ReactNative=Nu;t.Worker=Cu;this.a=t[_r()]}var Ou,ju={A:ku,Qa:Iu},Ru={A:ku,Qa:Iu},Nu={A:cu,Qa:Eu},Cu={A:ku,Qa:Eu};var Du={Zc:"local",NONE:"none",ad:"session"};function Lu(t){var e=new li("invalid-persistence-type"),n=new li("unsupported-persistence-type");t:{for(r in Du)if(Du[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!jr()&&"none"!==t)throw n}}function Uu(){var t=!(Fr(Ar())||!br()),e=Dr(),r=jr();this.o=t;this.h=e;this.m=r;this.a={};Ou||(Ou=new Au);t=Ou;try{this.g=!ar()&&$r()||!n.indexedDB?new t.a.A:new wu(wr()?new _u:new t.a.A)}catch(t){this.g=new _u,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new _u}this.l=new _u;this.f=g(this.Nb,this);this.b={}}var Mu;function Vu(){Mu||(Mu=new Uu);return Mu}function Fu(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function Bu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Wu(t,e,r){var i=Bu(e,r),o=Fu(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=Mr(n.localStorage.getItem(i))}catch(t){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}t=Uu.prototype;t.get=function(t,e){return Fu(this,t.A).get(Bu(t,e))};function qu(t,e,n){n=Bu(e,n);"local"==e.A&&(t.b[n]=null);return Fu(t,e.A).P(n)}t.set=function(t,e,n){var r=Bu(t,n),i=this,o=Fu(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})};t.addListener=function(t,e,r){t=Bu(t,e);this.m&&(this.b[t]=n.localStorage.getItem(t));at(this.a)&&(Fu(this,"local").Y(this.f),this.h||(ar()||!$r())&&n.indexedDB||!this.m||Hu(this));this.a[t]||(this.a[t]=[]);this.a[t].push(r)};t.removeListener=function(t,e,n){t=Bu(t,e);this.a[t]&&(F(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]);at(this.a)&&(Fu(this,"local").ca(this.f),Gu(this))};function Hu(t){Gu(t);t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new me({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Nb(r))}},1e3)}function Gu(t){t.c&&(clearInterval(t.c),t.c=null)}t.Nb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];"undefined"===typeof i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Wa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){"undefined"!==typeof t.a.a?Fu(this,"local").ca(this.f):Gu(this);if(this.o)if(r=n.localStorage.getItem(e),i=t.a.newValue,i!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"===typeof t.a.a)return;var a=this;r=function(){"undefined"===typeof t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Wa(e))};Yt&&ce&&10==ce&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else N(t,g(this.Wa,this))};t.Wa=function(t){this.a[t]&&N(this.a[t],function(t){t()})};function $u(t){this.a=t;this.b=Vu()}var Ku={name:"authEvent",A:"local"};function zu(t){return t.b.get(Ku,t.a).then(function(t){return _o(t)})}function Xu(){this.a=Vu()}function Ju(){this.b=-1}function Yu(t,e){this.b=-1;this.b=Qu;this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b);this.g=this.c=0;this.a=[];this.i=t;this.h=e;this.m=n.Int32Array?new Int32Array(64):Array(64);void 0!==Zu||(Zu=n.Int32Array?new Int32Array(ac):ac);this.reset()}var Zu;w(Yu,Ju);for(var Qu=64,tc=Qu-1,ec=[],nc=0;nc<tc;nc++)ec[nc]=0;var rc=B(128,ec);Yu.prototype.reset=function(){this.g=this.c=0;this.a=n.Int32Array?new Int32Array(this.h):W(this.h)};function ic(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15];r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0];i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];o=0|t.a[7];for(e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&h^~c&f;o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0;a=a+(0|Zu[e])|0;a=o+(a+(0|n[e])|0)|0;o=f;f=h;h=c;c=u+a|0;u=s;s=i;i=r;r=a+l|0}t.a[0]=t.a[0]+r|0;t.a[1]=t.a[1]+i|0;t.a[2]=t.a[2]+s|0;t.a[3]=t.a[3]+u|0;t.a[4]=t.a[4]+c|0;t.a[5]=t.a[5]+h|0;t.a[6]=t.a[6]+f|0;t.a[7]=t.a[7]+o|0}function oc(t,e,n){void 0===n&&(n=e.length);var r=0,o=t.c;if(i(e))for(;r<n;)t.f[o++]=e.charCodeAt(r++),o==t.b&&(ic(t),o=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var a=e[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a;o==t.b&&(ic(t),o=0)}}t.c=o;t.g+=n}var ac=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sc(){Yu.call(this,8,uc)}w(sc,Yu);var uc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function cc(t,e,n,r,i){this.l=t;this.i=e;this.m=n;this.o=r||null;this.u=i||null;this.h=e+":"+n;this.v=new Xu;this.g=new $u(this.h);this.f=null;this.b=[];this.a=this.c=null}function hc(t){return new li("invalid-cordova-configuration",t)}t=cc.prototype;t.ga=function(){return this.za?this.za:this.za=gr().then(function(){if("function"!==typeof Or("universalLinks.subscribe",n))throw hc("cordova-universal-links-plugin is not installed");if("undefined"===typeof Or("BuildInfo.packageName",n))throw hc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Or("cordova.plugins.browsertab.openUrl",n))throw hc("cordova-plugin-browsertab is not installed");if("function"!==typeof Or("cordova.InAppBrowser.open",n))throw hc("cordova-plugin-inappbrowser is not installed")},function(){throw new li("cordova-not-ready")})};function fc(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function lc(t){var e=new sc;oc(e,t);t=[];var n=8*e.g;56>e.c?oc(e,rc,56-e.c):oc(e,rc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;ic(e);for(r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Ii(t)}t.Ea=function(t,e){e(new li("operation-not-supported-in-this-environment"));return It()};t.Bb=function(){return Tt(new li("operation-not-supported-in-this-environment"))};t.Ob=function(){return!1};t.Kb=function(){return!0};t.Fb=function(){return!0};t.Ca=function(t,e,r){if(this.c)return Tt(new li("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=It().then(function(){bo(e);return vc(i)}).then(function(){return pc(i,t,e,r)}).then(function(){return new bt(function(t,e){s=function(){var e=Or("cordova.plugins.browsertab.close",n);t();"function"===typeof e&&e();i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null);return!1};i.va(s);u=function(){a||(a=$e(2e3).then(function(){e(new li("redirect-cancelled-by-user"))}))};c=function(){qr()&&u()};o.addEventListener("resume",u,!1);Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return mc(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1);c&&o.removeEventListener("visibilitychange",c,!1);a&&a.cancel();s&&i.Ka(s);i.c=null})};function pc(t,e,r,i){var o=fc(),a=new wo(e,i,null,o,new li("no-auth-event")),s=Or("BuildInfo.packageName",n);if("string"!==typeof s)throw new li("invalid-cordova-configuration");var u=Or("BuildInfo.displayName",n),c={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return Tt(new li("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u);o=lc(o);c.sessionId=o;var h=au(t.l,t.i,t.m,e,r,null,i,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Ku,a.D(),e)}).then(function(){var e=Or("cordova.plugins.browsertab.isAvailable",n);if("function"!==typeof e)throw new li("invalid-cordova-configuration");var r=null;e(function(e){if(e){r=Or("cordova.plugins.browsertab.openUrl",n);if("function"!==typeof r)throw new li("invalid-cordova-configuration");r(h)}else{r=Or("cordova.InAppBrowser.open",n);if("function"!==typeof r)throw new li("invalid-cordova-configuration");e=Ar();e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i));t.a=r(h,e?"_blank":"_system","location=yes")}})})}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(t){t.f||(t.f=t.ga().then(function(){return new bt(function(e){function n(r){e(r);t.Ka(n);return!1}t.va(n);gc(t)})}));return t.f}function mc(t){var e=null;return zu(t.g).then(function(n){e=n;n=t.g;return qu(n.b,Ku,n.a)}).then(function(){return e})}function gc(t){function e(e){i=!0;o&&o.cancel();mc(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;i=Xi(e.url);-1!=i.indexOf("/__/auth/callback")&&(o=un(i),o=Mr(sn(o,"firebaseError")||null),o=(o="object"===typeof o?pi(o):null)?new wo(n.b,n.c,null,null,o):new wo(n.b,n.c,i,n.g));i=o||r}dc(t,i)})}var r=new wo("unknown",null,null,null,new li("no-auth-event")),i=!1,o=$e(500).then(function(){return mc(t).then(function(){i||dc(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t});if("function"===typeof a)try{a(t)}catch(t){console.error(t)}};xo||(xo=new ko);xo.subscribe(e)}t.va=function(t){this.b.push(t);vc(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new wo("unknown",null,null,null,new li("no-auth-event")),t(e))})};t.Ka=function(t){F(this.b,function(e){return e==t})};function yc(t){this.a=t;this.b=Vu()}var bc={name:"pendingRedirect",A:"session"};function wc(t){return t.b.set(bc,"pending",t.a)}function _c(t){return qu(t.b,bc,t.a)}function kc(t){return t.b.get(bc,t.a).then(function(t){return"pending"==t})}function xc(t,e,n){this.u=t;this.m=e;this.l=n;this.h=[];this.f=!1;this.i=g(this.ab,this);this.b=new Nc;this.o=new Fc;this.g=new yc(this.m+":"+this.l);this.c={};this.c.unknown=this.b;this.c.signInViaRedirect=this.b;this.c.linkViaRedirect=this.b;this.c.reauthViaRedirect=this.b;this.c.signInViaPopup=this.o;this.c.linkViaPopup=this.o;this.c.reauthViaPopup=this.o;this.a=Sc(this.u,this.m,this.l,qs)}function Sc(t,e,n,i){var o=r.a.SDK_VERSION||null;return yr()?new cc(t,e,n,o,i):new nu(t,e,n,o,i)}t=xc.prototype;t.reset=function(){this.f=!1;this.a.Ka(this.i);this.a=Sc(this.u,this.m,this.l)};t.Xa=function(){this.b.Xa()};function Ec(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){t.a==e&&t.reset();throw n})}function Ic(t){t.a.Kb()&&Ec(t).s(function(e){var n=new wo("unknown",null,null,null,new li("operation-not-supported-in-this-environment"));Oc(e)&&t.ab(n)});t.a.Fb()||Cc(t.b)}t.subscribe=function(t){M(this.h,t)||this.h.push(t);if(!this.f){var e=this;kc(this.g).then(function(t){t?_c(e.g).then(function(){Ec(e).s(function(t){var n=new wo("unknown",null,null,null,new li("operation-not-supported-in-this-environment"));Oc(t)&&e.ab(n)})}):Ic(e)}).s(function(){Ic(e)})}};t.unsubscribe=function(t){F(this.h,function(e){return e==t})};t.ab=function(t){if(!t)throw new li("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r);e=!0;break}}Cc(this.b);return e};var Tc=new Wr(2e3,1e4),Pc=new Wr(3e4,6e4);xc.prototype.fa=function(){return this.b.fa()};function Ac(t,e,n,r,i,o){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function Oc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}xc.prototype.Ca=function(t,e,n){var r=this,i;return wc(this.g).then(function(){return r.a.Ca(t,e,n).s(function(t){if(Oc(t))throw new li("operation-not-supported-in-this-environment");i=t;return _c(r.g).then(function(){throw i})}).then(function(){return r.a.Ob()?new bt(function(){}):_c(r.g).then(function(){return r.fa()}).then(function(){}).s(function(){})})})};xc.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Tc.get())};var jc={};function Rc(t,e,n){var r=e+":"+n;jc[r]||(jc[r]=new xc(t,e,n));return jc[r]}function Nc(){this.b=null;this.f=[];this.c=[];this.a=null;this.i=this.g=!1}Nc.prototype.reset=function(){this.b=null;this.a&&(this.a.cancel(),this.a=null)};Nc.prototype.h=function(t,e){if(t){this.reset();this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o);"unknown"!=n||i||o?t.a?(Mc(this,!0,null,t.a),It()):e.wa(n,r)?Dc(this,t,e):Tt(new li("invalid-auth-event")):(Mc(this,!1,null,null),It())}else Tt(new li("invalid-auth-event"))};function Cc(t){t.g||(t.g=!0,Mc(t,!1,null,null))}Nc.prototype.Xa=function(){this.g&&!this.i&&Mc(this,!1,null,null)};function Dc(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){Mc(t,o,e,null)}).s(function(e){Mc(t,o,null,e)})}function Lc(t,e){t.b=function(){return Tt(e)};if(t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function Uc(t,e){t.b=function(){return It(e)};if(t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Mc(t,e,n,r){e?r?Lc(t,r):Uc(t,n):Uc(t,{user:null});t.f=[];t.c=[]}Nc.prototype.fa=function(){var t=this;return new bt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),Vc(t))})};function Vc(t){var e=new li("timeout");t.a&&t.a.cancel();t.a=$e(Pc.get()).then(function(){t.b||(t.g=!0,Mc(t,!0,null,e))})}function Fc(){}Fc.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),It()):e.wa(n,r)?Bc(t,e):Tt(new li("invalid-auth-event"))}else Tt(new li("invalid-auth-event"))};function Bc(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}function Wc(){this.rb=!1;Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function qc(t,e){this.a=e;Yr(this,"verificationId",t)}qc.prototype.confirm=function(t){t=go(this.verificationId,t);return this.a(t)};function Hc(t,e,n,r){return new mo(t).Ta(e,n).then(function(t){return new qc(t,r)})}function Gc(t){var e=Ci(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new li("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Gr(1e3*e.exp),authTime:Gr(1e3*e.auth_time),issuedAtTime:Gr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function $c(t,e,n){this.h=t;this.i=e;this.g=n;this.c=3e4;this.f=96e4;this.b=null;this.a=this.c;if(this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}$c.prototype.start=function(){this.a=this.c;zc(this,!0)};function Kc(t,e){if(e)return t.a=t.c,t.g();e=t.a;t.a*=2;t.a>t.f&&(t.a=t.f);return e}function zc(t,e){t.stop();t.b=$e(Kc(t,e)).then(function(){return Hr()}).then(function(){return t.h()}).then(function(){zc(t,!0)}).s(function(e){t.i(e)&&zc(t,!1)})}$c.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Xc(t){this.f=t;this.b=this.a=null;this.c=0}Xc.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}};function Jc(t,e){var n=e[La],r=e.refreshToken;e=Zc(e.expiresIn);t.b=n;t.c=e;t.a=r}function Yc(t,e){t.b=e.b;t.a=e.a;t.c=e.c}function Zc(t){return b()+1e3*parseInt(t,10)}function Qc(t,e){return Ka(t.f,e).then(function(e){t.b=e.access_token;t.c=Zc(e.expires_in);t.a=e.refresh_token;return{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){"auth/user-token-expired"==e.code&&(t.a=null);throw e})}Xc.prototype.getToken=function(t){t=!!t;return this.b&&!this.a?Tt(new li("user-token-expired")):t||!this.b||b()>this.c-3e4?this.a?Qc(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})};function th(t,e){this.a=t||null;this.b=e||null;Zr(this,{lastSignInTime:Gr(e||null),creationTime:Gr(t||null)})}function eh(t){return new th(t.a,t.b)}th.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}};function nh(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function rh(t,e){ve.call(this,t);for(var n in e)this[n]=e[n]}w(rh,ve);function ih(t,e,n){this.G=[];this.l=t.apiKey;this.o=t.appName;this.u=t.authDomain||null;t=r.a.SDK_VERSION?Pr(r.a.SDK_VERSION):null;this.b=new Ca(this.l,Ws(qs),t);this.h=new Xc(this.b);lh(this,e[La]);Jc(this.h,e);Yr(this,"refreshToken",this.h.a);mh(this,n||{});Be.call(this);this.I=!1;this.u&&Rr()&&(this.a=Rc(this.u,this.l,this.o));this.N=[];this.i=null;this.w=ch(this);this.V=g(this.Ha,this);var i=this;this.ka=null;this.sa=function(t){i.oa(t.g)};this.X=null;this.O=[];this.ra=function(t){ah(i,t.c)};this.W=null}w(ih,Be);ih.prototype.oa=function(t){this.ka=t;Ba(this.b,t)};ih.prototype.ea=function(){return this.ka};function oh(t,e){t.X&&Re(t.X,"languageCodeChanged",t.sa);(t.X=e)&&Pe(e,"languageCodeChanged",t.sa)}function ah(t,e){t.O=e;Wa(t.b,r.a.SDK_VERSION?Pr(r.a.SDK_VERSION,t.O):null)}ih.prototype.xa=function(){return W(this.O)};function sh(t,e){t.W&&Re(t.W,"frameworkChanged",t.ra);(t.W=e)&&Pe(e,"frameworkChanged",t.ra)}ih.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())};function uh(t){try{return r.a.app(t.o).auth()}catch(e){throw new li("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function ch(t){return new $c(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-b()-3e5;return 0<e?e:0})}function hh(t){t.C||t.w.b||(t.w.start(),Re(t,"tokenChanged",t.V),Pe(t,"tokenChanged",t.V))}function fh(t){Re(t,"tokenChanged",t.V);t.w.stop()}function lh(t,e){t.qa=e;Yr(t,"_lat",e)}function ph(t,e){F(t.N,function(t){return t==e})}function dh(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Ot(e).then(function(){return t})}function vh(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function mh(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new th(e.createdAt,e.lastLoginAt),providerData:[]})}Yr(ih.prototype,"providerId","firebase");function gh(){}function yh(t){return It().then(function(){if(t.C)throw new li("app-deleted")})}function bh(t){return D(t.providerData,function(t){return t.providerId})}function wh(t,e){e&&(_h(t,e.providerId),t.providerData.push(e))}function _h(t,e){F(t.providerData,function(t){return t.providerId==e})}function kh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function xh(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Yr(t,"metadata",eh(e.metadata)):Yr(t,"metadata",new th),N(e.providerData,function(e){wh(t,e)}),Yc(t.h,e.h),Yr(t,"refreshToken",t.h.a))}t=ih.prototype;t.reload=function(){var t=this;return Ch(this,yh(this).then(function(){return Sh(t).then(function(){return dh(t)}).then(gh)}))};function Sh(t){return t.F().then(function(e){var n=t.isAnonymous;return Ih(t,e).then(function(){n||kh(t,"isAnonymous",!1);return e})})}t.cc=function(t){return this.F(t).then(function(t){return new Gc(t)})};t.F=function(t){var e=this;return Ch(this,yh(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new li("internal-error");t.accessToken!=e.qa&&(lh(e,t.accessToken),e.dispatchEvent(new rh("tokenChanged")));kh(e,"refreshToken",t.refreshToken);return t.accessToken}))};function Eh(t,e){e[La]&&t.qa!=e[La]&&(Jc(t.h,e),t.dispatchEvent(new rh("tokenChanged")),lh(t,e[La]),kh(t,"refreshToken",t.h.a))}function Ih(t,e){return Ms(t.b,bs,{idToken:e}).then(g(t.wc,t))}t.wc=function(t){t=t.users;if(!t||!t.length)throw new li("internal-error");t=t[0];mh(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=Th(t),n=0;n<e.length;n++)wh(this,e[n]);kh(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))};function Th(t){return(t=t.providerUserInfo)&&t.length?D(t,function(t){return new nh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}t.fb=function(t){var e=this,n=null;return Ch(this,t.f(this.b,this.uid).then(function(t){Eh(e,t);n=Ah(e,t,"reauthenticate");e.i=null;return e.reload()}).then(function(){return n}),!0)};t.xc=function(t){zr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead.");return this.fb(t).then(function(){})};function Ph(t,e){return Sh(t).then(function(){if(M(bh(t),e))return dh(t).then(function(){throw new li("provider-already-linked")})})}t.cb=function(t){var e=this,n=null;return Ch(this,Ph(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){n=Ah(e,t,"link");return Oh(e,t)}).then(function(){return n}))};t.oc=function(t){zr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead.");return this.cb(t).then(function(t){return t.user})};t.pc=function(t,e){var n=this;return Ch(this,Ph(this,"phone").then(function(){return Hc(uh(n),t,e,g(n.cb,n))}))};t.yc=function(t,e){var n=this;return Ch(this,It().then(function(){return Hc(uh(n),t,e,g(n.fb,n))}),!0)};function Ah(t,e,n){var r=yo(e);e=Vi(e);return Qr({user:t,credential:r,additionalUserInfo:e,operationType:n})}function Oh(t,e){Eh(t,e);return t.reload().then(function(){return t})}t.ob=function(t){var e=this;return Ch(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){Eh(e,t);return e.reload()}))};t.Rc=function(t){var e=this;return Ch(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){Eh(e,t);return e.reload()}))};t.pb=function(t){var e=this;return Ch(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){Eh(e,t);return e.reload()}))};t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return yh(this);var e=this;return Ch(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){Eh(e,t);kh(e,"displayName",t.displayName||null);kh(e,"photoURL",t.photoUrl||null);N(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))});return dh(e)}).then(gh))};t.Pc=function(t){var e=this;return Ch(this,Sh(this).then(function(n){return M(bh(e),t)?is(e.b,n,[t]).then(function(t){var n={};N(t.providerUserInfo||[],function(t){n[t.providerId]=!0});N(bh(e),function(t){n[t]||_h(e,t)});n[mo.PROVIDER_ID]||Yr(e,"phoneNumber",null);return dh(e)}):dh(e).then(function(){throw new li("no-such-provider")})}))};t.delete=function(){var t=this;return Ch(this,this.F().then(function(e){return Ms(t.b,vs,{idToken:e})}).then(function(){t.dispatchEvent(new rh("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");oh(t,null);sh(t,null);t.G=[];t.C=!0;fh(t);Yr(t,"refreshToken",null);t.a&&t.a.unsubscribe(t)})};t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)};t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)};t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?g(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?g(this.Ab,this):null};t.qc=function(t){var e=this;return jh(this,"linkViaPopup",t,function(){return Ph(e,t.providerId).then(function(){return dh(e)})},!1)};t.zc=function(t){return jh(this,"reauthViaPopup",t,function(){return It()},!0)};function jh(t,e,n,i,o){if(!Rr())return Tt(new li("operation-not-supported-in-this-environment"));if(t.i&&!o)return Tt(t.i);var a=Mi(n.providerId),s=Vr(t.uid+":::"),u=null;(!Dr()||br())&&t.u&&n.isOAuthProvider&&(u=au(t.u,t.l,t.o,e,n,null,s,r.a.SDK_VERSION||null));var c=pr(u,a&&a.Ba,a&&a.Aa);i=i().then(function(){Nh(t);if(!o)return t.F().then(function(){})}).then(function(){return Ac(t.a,c,e,n,s,!!u)}).then(function(){return new bt(function(n,r){t.ha(e,null,new li("cancelled-popup-request"),t.g||null);t.f=n;t.v=r;t.g=s;t.c=t.a.Ea(t,e,c,s)})}).then(function(t){c&&lr(c);return t?Qr(t):null}).s(function(t){c&&lr(c);throw t});return Ch(t,i,o)}t.rc=function(t){var e=this;return Rh(this,"linkViaRedirect",t,function(){return Ph(e,t.providerId)},!1)};t.Ac=function(t){return Rh(this,"reauthViaRedirect",t,function(){return It()},!0)};function Rh(t,e,n,r,i){if(!Rr())return Tt(new li("operation-not-supported-in-this-environment"));if(t.i&&!i)return Tt(t.i);var o=null,a=Vr(t.uid+":::");r=r().then(function(){Nh(t);if(!i)return t.F().then(function(){})}).then(function(){t.aa=a;return dh(t)}).then(function(e){t.ba&&(e=t.ba,e=e.b.set(Fh,t.D(),e.a));return e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){o=e;if(t.ba)return Bh(t.ba);throw o}).then(function(){if(o)throw o});return Ch(t,r,i)}function Nh(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new li("internal-error");throw new li("auth-domain-config-required")}}t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null,i=this.F().then(function(r){return us(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){r=Ah(n,t,"link");return Oh(n,t)}).then(function(){return r});return Ch(this,i)};t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null,i=It().then(function(){return Ji(cs(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){r=Ah(n,t,"reauthenticate");Eh(n,t);n.i=null;return n.reload()}).then(function(){return r});return Ch(this,i,!0)};t.ib=function(t){var e=this,n=null;return Ch(this,this.F().then(function(e){n=e;return"undefined"===typeof t||at(t)?{}:Ei(new mi(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))};function Ch(t,e,n){var r=Dh(t,e,n);t.G.push(r);r.ia(function(){V(t.G,r)});return r}function Dh(t,e,n){return t.i&&!n?(e.cancel(),Tt(t.i)):e.s(function(e){!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new rh("userInvalidated")),t.i=e);throw e})}t.toJSON=function(){return this.D()};t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};this.metadata&&ct(t,this.metadata.D());N(this.providerData,function(e){t.providerData.push(ti(e))});return t};function Lh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[La]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-b())/1e3;var r=new ih(e,n,t);t.providerData&&N(t.providerData,function(t){t&&wh(r,Qr(t))});t.redirectEventId&&(r.aa=t.redirectEventId);return r}function Uh(t,e,n,r){var i=new ih(t,e);n&&(i.ba=n);r&&ah(i,r);return i.reload().then(function(){return i})}function Mh(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};o[La]=i.b;o.refreshToken=i.a;o.expiresIn=(i.c-b())/1e3;e=new ih(e,o);n&&(e.ba=n);r&&ah(e,r);xh(e,t);return e}function Vh(t){this.a=t;this.b=Vu()}var Fh={name:"redirectUser",A:"session"};function Bh(t){return qu(t.b,Fh,t.a)}function Wh(t,e){return t.b.get(Fh,t.a).then(function(t){t&&e&&(t.authDomain=e);return Lh(t||{})})}function qh(t){this.a=t;this.b=Vu();this.c=null;this.f=Gh(this);this.b.addListener(Kh("local"),this.a,g(this.g,this))}qh.prototype.g=function(){var t=this,e=Kh("local");Zh(this,function(){return It().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return Hh(t,"local").then(function(){t.c=e})})})};function Hh(t,e){var n=[],r;for(r in Du)Du[r]!==e&&n.push(qu(t.b,Kh(Du[r]),t.a));n.push(qu(t.b,$h,t.a));return At(n)}function Gh(t){var e=Kh("local"),n=Kh("session"),r=Kh("none");return Wu(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get($h,t.a).then(function(t){return t?Kh(t):e})})})}).then(function(e){t.c=e;return Hh(t,e.A)}).s(function(){t.c||(t.c=e)})}var $h={name:"persistence",A:"session"};function Kh(t){return{name:"authUser",A:t}}qh.prototype.lb=function(t){var e=null,n=this;Lu(t);return Zh(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){e=r;return Hh(n,t)}).then(function(){n.c=Kh(t);if(e)return n.b.set(n.c,e,n.a)}):It()})};function zh(t){return Zh(t,function(){return t.b.set($h,t.c.A,t.a)})}function Xh(t,e){return Zh(t,function(){return t.b.set(t.c,e.D(),t.a)})}function Jh(t){return Zh(t,function(){return qu(t.b,t.c,t.a)})}function Yh(t,e){return Zh(t,function(){return t.b.get(t.c,t.a).then(function(t){t&&e&&(t.authDomain=e);return Lh(t||{})})})}function Zh(t,e){t.f=t.f.then(e,e);return t.f}function Qh(t){this.l=!1;Yr(this,"settings",new Wc);Yr(this,"app",t);if(!lf(this).options||!lf(this).options.apiKey)throw new li("invalid-api-key");t=r.a.SDK_VERSION?Pr(r.a.SDK_VERSION):null,this.b=new Ca(lf(this).options&&lf(this).options.apiKey,Ws(qs),t);this.N=[];this.o=[];this.I=[];this.Rb=r.a.INTERNAL.createSubscribe(g(this.kc,this));this.O=void 0;this.Sb=r.a.INTERNAL.createSubscribe(g(this.mc,this));sf(this,null);this.h=new qh(lf(this).options.apiKey+":"+lf(this).name);this.w=new Vh(lf(this).options.apiKey+":"+lf(this).name);this.V=gf(this,cf(this));this.i=gf(this,hf(this));this.X=!1;this.ka=g(this.Lc,this);this.Ha=g(this.Z,this);this.qa=g(this.$b,this);this.ra=g(this.ic,this);this.sa=g(this.jc,this);of(this);this.INTERNAL={};this.INTERNAL["delete"]=g(this.delete,this);this.INTERNAL.logFramework=g(this.sc,this);this.u=0;Be.call(this);nf(this);this.G=[]}w(Qh,Be);function tf(t){ve.call(this,"languageCodeChanged");this.g=t}w(tf,ve);function ef(t){ve.call(this,"frameworkChanged");this.c=t}w(ef,ve);t=Qh.prototype;t.lb=function(t){t=this.h.lb(t);return gf(this,t)};t.oa=function(t){this.W===t||this.l||(this.W=t,Ba(this.b,this.W),this.dispatchEvent(new tf(this.ea())))};t.ea=function(){return this.W};t.Sc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)};t.sc=function(t){this.G.push(t);Wa(this.b,r.a.SDK_VERSION?Pr(r.a.SDK_VERSION,this.G):null);this.dispatchEvent(new ef(this.G))};t.xa=function(){return W(this.G)};function nf(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1});t.W=null}t.toJSON=function(){return{apiKey:lf(this).options.apiKey,authDomain:lf(this).options.authDomain,appName:lf(this).name,currentUser:pf(this)&&pf(this).D()}};function rf(t){return t.Qb||Tt(new li("auth-domain-config-required"))}function of(t){var e=lf(t).options.authDomain,n=lf(t).options.apiKey;e&&Rr()&&(t.Qb=t.V.then(function(){if(!t.l){t.a=Rc(e,n,lf(t).name);t.a.subscribe(t);pf(t)&&vh(pf(t));if(t.C){vh(t.C);var r=t.C;r.oa(t.ea());oh(r,t);r=t.C;ah(r,t.G);sh(r,t);t.C=null}return t.a}}))}t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}};t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)};t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.Zb,this):null};t.Zb=function(t,e){var n=this;t={requestUri:t,sessionId:e};this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ss(n.b,t).then(function(t){r=yo(t);i=Vi(t);return t});t=n.V.then(function(){return o}).then(function(t){return af(n,t)}).then(function(){return Qr({user:pf(n),credential:r,additionalUserInfo:i,operationType:"signIn"})});return gf(this,t)};t.Jc=function(t){if(!Rr())return Tt(new li("operation-not-supported-in-this-environment"));var e=this,n=Mi(t.providerId),i=Vr(),o=null;(!Dr()||br())&&lf(this).options.authDomain&&t.isOAuthProvider&&(o=au(lf(this).options.authDomain,lf(this).options.apiKey,lf(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null));var a=pr(o,n&&n.Ba,n&&n.Aa);n=rf(this).then(function(e){return Ac(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new bt(function(t,n){e.ha("signInViaPopup",null,new li("cancelled-popup-request"),e.g);e.f=t;e.v=n;e.g=i;e.c=e.a.Ea(e,"signInViaPopup",a,i)})}).then(function(t){a&&lr(a);return t?Qr(t):null}).s(function(t){a&&lr(a);throw t});return gf(this,n)};t.Kc=function(t){if(!Rr())return Tt(new li("operation-not-supported-in-this-environment"));var e=this,n=rf(this).then(function(){return zh(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)});return gf(this,n)};t.fa=function(){if(!Rr())return Tt(new li("operation-not-supported-in-this-environment"));var t=this,e=rf(this).then(function(){return t.a.fa()}).then(function(t){return t?Qr(t):null});return gf(this,e)};t.Qc=function(t){if(!t)return Tt(new li("null-user"));var e=this,n={};n.apiKey=lf(this).options.apiKey;n.authDomain=lf(this).options.authDomain;n.appName=lf(this).name;var r=Mh(t,n,e.w,e.xa());return gf(this,this.i.then(function(){if(lf(e).options.apiKey!=t.l)return r.reload()}).then(function(){if(pf(e)&&t.uid==pf(e).uid)return xh(pf(e),t),e.Z(t);sf(e,r);vh(r);return e.Z(r)}).then(function(){vf(e)}))};function af(t,e){var n={};n.apiKey=lf(t).options.apiKey;n.authDomain=lf(t).options.authDomain;n.appName=lf(t).name;return t.V.then(function(){return Uh(n,e,t.w,t.xa())}).then(function(e){if(pf(t)&&e.uid==pf(t).uid)return xh(pf(t),e),t.Z(e);sf(t,e);vh(e);return t.Z(e)}).then(function(){vf(t)})}function sf(t,e){pf(t)&&(ph(pf(t),t.Ha),Re(pf(t),"tokenChanged",t.qa),Re(pf(t),"userDeleted",t.ra),Re(pf(t),"userInvalidated",t.sa),fh(pf(t)));e&&(e.N.push(t.Ha),Pe(e,"tokenChanged",t.qa),Pe(e,"userDeleted",t.ra),Pe(e,"userInvalidated",t.sa),0<t.u&&hh(e));Yr(t,"currentUser",e);e&&(e.oa(t.ea()),oh(e,t),ah(e,t.G),sh(e,t))}t.mb=function(){var t=this,e=this.i.then(function(){if(!pf(t))return It();sf(t,null);return Jh(t.h).then(function(){vf(t)})});return gf(this,e)};function uf(t){var e=Wh(t.w,lf(t).options.authDomain).then(function(e){(t.C=e)&&(e.ba=t.w);return Bh(t.w)});return gf(t,e)}function cf(t){var e=lf(t).options.authDomain,n=uf(t).then(function(){return Yh(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Xh(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Jh(t.h)})):null}).then(function(e){sf(t,e||null)});return gf(t,n)}function hf(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Kh("local"),e.a,t.ka)}})}t.Lc=function(){var t=this;return Yh(this.h,lf(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=pf(t)&&e){n=pf(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return xh(pf(t),e),pf(t).F();(pf(t)||e)&&(sf(t,e),e&&(vh(e),e.ba=t.w),t.a&&t.a.subscribe(t),vf(t))}})};t.Z=function(t){return Xh(this.h,t)};t.$b=function(){vf(this);this.Z(pf(this))};t.ic=function(){this.mb()};t.jc=function(){this.mb()};function ff(t,e){var n=null,r=null;return gf(t,e.then(function(e){n=yo(e);r=Vi(e);return af(t,e)}).then(function(){return Qr({user:pf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}t.kc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(pf(e))})};t.mc=function(t){var e=this;mf(this,function(){t.next(pf(e))})};t.uc=function(t,e,n){var i=this;this.X&&r.a.Promise.resolve().then(function(){f(t)?t(pf(i)):f(t.next)&&t.next(pf(i))});return this.Rb(t,e,n)};t.tc=function(t,e,n){var i=this;this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid();f(t)?t(pf(i)):f(t.next)&&t.next(pf(i))});return this.Sb(t,e,n)};t.bc=function(t){var e=this,n=this.i.then(function(){return pf(e)?pf(e).F(t).then(function(t){return{accessToken:t}}):null});return gf(this,n)};t.Lb=function(t){var e=this;return this.i.then(function(){return ff(e,Ms(e.b,Ns,{token:t}))}).then(function(t){var n=t.user;kh(n,"isAnonymous",!1);e.Z(n);return t})};t.Dc=function(t){zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead.");return this.Lb(t)};t.Ec=function(t,e){zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead.");return this.Mb(t,e)};t.Mb=function(t,e){var n=this;return this.i.then(function(){return ff(n,Ms(n.b,Cs,{email:t,password:e}))})};t.wb=function(t,e){var n=this;return this.i.then(function(){return ff(n,Ms(n.b,ps,{email:t,password:e}))})};t.Ub=function(t,e){zr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead.");return this.wb(t,e)};t.Gc=function(t){zr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead.");return this.Oa(t).then(function(t){return t.user})};t.Oa=function(t){var e=this;return this.i.then(function(){return ff(e,t.ya(e.b))})};t.Pa=function(){var t=this;return this.i.then(function(){var e=pf(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ff(t,t.b.Pa()).then(function(e){var n=e.user;kh(n,"isAnonymous",!0);t.Z(n);return e})})};t.Fc=function(){zr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead.");return this.Pa()};function lf(t){return t.app}function pf(t){return t.currentUser}t.getUid=function(){return pf(this)&&pf(this).uid||null};function df(t){return pf(t)&&pf(t)._lat||null}function vf(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](df(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](df(t))}}t.Tb=function(t){this.addAuthTokenListener(t);this.u++;0<this.u&&pf(this)&&hh(pf(this))};t.Bc=function(t){var e=this;N(this.o,function(n){n==t&&e.u--});0>this.u&&(this.u=0);0==this.u&&pf(this)&&fh(pf(this));this.removeAuthTokenListener(t)};t.addAuthTokenListener=function(t){var e=this;this.o.push(t);gf(this,this.i.then(function(){e.l||M(e.o,t)&&t(df(e))}))};t.removeAuthTokenListener=function(t){F(this.o,function(e){return e==t})};function mf(t,e){t.I.push(e);gf(t,t.i.then(function(){!t.l&&M(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(df(t)))}))}t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");this.N=[];this.h&&(t=this.h,t.b.removeListener(Kh("local"),t.a,this.ka));this.a&&(this.a.unsubscribe(this),this.a.Xa());return r.a.Promise.resolve()};function gf(t,e){t.N.push(e);e.ia(function(){V(t.N,e)});return e}t.Xb=function(t){zr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead.");return gf(this,Ya(this.b,t))};t.Yb=function(t){return gf(this,Za(this.b,t))};t.nc=function(t){return!!lo(t)};t.kb=function(t,e){var n=this;return gf(this,It().then(function(){var t=new mi(e);if(!t.c)throw new li("argument-error",yi+" must be true when sending sign in link to email");return Ei(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))};t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})};t.Ya=function(t,e){return gf(this,this.b.Ya(t,e).then(function(){}))};t.Ja=function(t){return gf(this,this.b.Ja(t).then(function(t){return new ri(t)}))};t.Va=function(t){return gf(this,this.b.Va(t).then(function(){}))};t.jb=function(t,e){var n=this;return gf(this,It().then(function(){return"undefined"===typeof e||at(e)?{}:Ei(new mi(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))};t.Ic=function(t,e){return gf(this,Hc(this,t,e,g(this.Oa,this)))};t.Hc=function(t,e){var n=this;return gf(this,It().then(function(){var r=fo(t,e||sr());return n.Oa(r)}))};function yf(){}yf.prototype.render=function(){};yf.prototype.reset=function(){};yf.prototype.getResponse=function(){};yf.prototype.execute=function(){};function bf(){this.a={};this.b=1e12}var wf=null;bf.prototype.render=function(t,e){this.a[this.b.toString()]=new xf(t,e);return this.b++};bf.prototype.reset=function(t){var e=_f(this,t);t=kf(t);e&&t&&(e.delete(),delete this.a[t])};bf.prototype.getResponse=function(t){return(t=_f(this,t))?t.getResponse():null};bf.prototype.execute=function(t){(t=_f(this,t))&&t.execute()};function _f(t,e){return(e=kf(e))&&t.a[e]||null}function kf(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function xf(t,e){this.g=!1;this.c=e;this.a=this.b=null;this.h="invisible"!==this.c.size;this.f=zn(t);var n=this;this.i=function(){n.execute()};this.h?this.execute():Pe(this.f,"click",this.i)}xf.prototype.getResponse=function(){Sf(this);return this.b};xf.prototype.execute=function(){Sf(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=xr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){t.a=null;t.b=null;if(n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))};xf.prototype.delete=function(){Sf(this);this.g=!0;clearTimeout(this.a);this.a=null;Re(this.f,"click",this.i)};function Sf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ef(){}Ef.prototype.g=function(){wf||(wf=new bf);return It(wf)};Ef.prototype.c=function(){};var If=null;function Tf(){this.b=n.grecaptcha?Infinity:0;this.f=null;this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pf=On("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Af=new Wr(3e4,6e4);Tf.prototype.g=function(t){var e=this;return new bt(function(r,i){var o=setTimeout(function(){i(new li("network-request-failed"))},Af.get());if(!n.grecaptcha||t!==e.f&&!e.b){n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){t=a(t,n);e.b++;return t};clearTimeout(o);r(n.grecaptcha)}else clearTimeout(o),i(new li("internal-error"));delete n[e.a]};var a=Nn(Pf,{onload:e.a,hl:t||""});It(Ia(a)).s(function(){clearTimeout(o);i(new li("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(o),r(n.grecaptcha)})};Tf.prototype.c=function(){this.b--};var Of=null;function jf(t,e,r,i,o,a,s){Yr(this,"type","recaptcha");this.c=this.f=null;this.C=!1;this.l=e;this.g=null;s?(If||(If=new Ef),s=If):(Of||(Of=new Tf),s=Of);this.o=s;this.a=r||{theme:"light",type:"image"};this.h=[];if(this.a[Cf])throw new li("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");this.i="invisible"===this.a[Df];if(!n.document)throw new li("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zn(e)||!this.i&&zn(e).hasChildNodes())throw new li("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Ca(t,a||null,o||null);this.v=i||function(){return null};var u=this;this.m=[];var c=this.a[Rf];this.a[Rf]=function(t){Lf(u,t);if("function"===typeof c)c(t);else if("string"===typeof c){var e=Or(c,n);"function"===typeof e&&e(t)}};var h=this.a[Nf];this.a[Nf]=function(){Lf(u,null);if("function"===typeof h)h();else if("string"===typeof h){var t=Or(h,n);"function"===typeof t&&t()}}}var Rf="callback",Nf="expired-callback",Cf="sitekey",Df="size";function Lf(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function Uf(t,e){F(t.m,function(t){return t==e})}function Mf(t,e){t.h.push(e);e.ia(function(){V(t.h,e)});return e}t=jf.prototype;t.za=function(){var t=this;return this.f?this.f:this.f=Mf(this,It().then(function(){if(Nr()&&!wr())return mr();throw new li("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){t.g=e;return Ms(t.u,Ss,{})}).then(function(e){t.a[Cf]=e.recaptchaSiteKey}).s(function(e){t.f=null;throw e}))};t.render=function(){Vf(this);var t=this;return Mf(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=zn(e);e=Yn("DIV");n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))};t.verify=function(){Vf(this);var t=this;return Mf(this,this.render().then(function(e){return new bt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Uf(t,i),n(e))};t.m.push(i);t.i&&t.g.execute(t.c)}})}))};t.reset=function(){Vf(this);null!==this.c&&this.g.reset(this.c)};function Vf(t){if(t.C)throw new li("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Vf(this);this.C=!0;this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=zn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};function Ff(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new li("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new li("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.a.SDK_VERSION?Pr(r.a.SDK_VERSION,a):null;jf.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,Ws(qs),i)}w(Ff,jf);function Bf(t,e,n,r){t:{n=Array.prototype.slice.call(n);var i=0;for(var o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new li("internal-error","Argument validator encountered a required argument after an optional argument.");i++}o=e.length;if(n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){e=e[i];if(0>i||i>=Wf.length)throw new li("internal-error","Argument validator received an unsupported number of arguments.");n=Wf[i];r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new li("argument-error",t+" failed: "+r)}var Wf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:i}}function Hf(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function Gf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:l}}function $f(t,e){return{name:t||"",K:"a function",optional:!!e,M:f}}function Kf(t,e){return{name:t||"",K:"null",optional:!!e,M:u}}function zf(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Xf(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Qh)}}}function Jf(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}}function Yf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ya||!n)}}}function Zf(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Qf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&i(t.type)&&f(t.verify))}}}function tl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function el(t,e){for(var n in e){var r=e[n].name;t[r]=il(r,t[n],e[n].j)}}function nl(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].sb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Bf(r,[i],[t],!0);this[n]=t},enumerable:!0})}}}function rl(t,e,n,r){t[e]=il(e,n,r)}function il(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);Bf(i,n,t);return e.apply(this,t)}if(!n)return e;var i=ol(t),o;for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}function ol(t){t=t.split(".");return t[t.length-1]}el(Qh.prototype,{Va:{name:"applyActionCode",j:[qf("code")]},Ja:{name:"checkActionCode",j:[qf("code")]},Ya:{name:"confirmPasswordReset",j:[qf("code"),qf("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[qf("email"),qf("password")]},Ub:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[qf("email"),qf("password")]},Xb:{name:"fetchProvidersForEmail",j:[qf("email")]},Yb:{name:"fetchSignInMethodsForEmail",j:[qf("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[qf("emailLink")]},tc:{name:"onAuthStateChanged",j:[tl(Gf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[tl(Gf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[qf("email"),tl(Gf("opt_actionCodeSettings",!0),Kf(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[qf("email"),Gf("actionCodeSettings")]},lb:{name:"setPersistence",j:[qf("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Yf()]},Pa:{name:"signInAnonymously",j:[]},Fc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Gc:{name:"signInWithCredential",j:[Yf()]},Lb:{name:"signInWithCustomToken",j:[qf("token")]},Dc:{name:"signInAndRetrieveDataWithCustomToken",j:[qf("token")]},Mb:{name:"signInWithEmailAndPassword",j:[qf("email"),qf("password")]},Hc:{name:"signInWithEmailLink",j:[qf("email"),qf("emailLink",!0)]},Ec:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[qf("email"),qf("password")]},Ic:{name:"signInWithPhoneNumber",j:[qf("phoneNumber"),Qf()]},Jc:{name:"signInWithPopup",j:[Zf()]},Kc:{name:"signInWithRedirect",j:[Zf()]},Qc:{name:"updateCurrentUser",j:[tl(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof ih)}}}(),Kf(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qf(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[qf("code")]}});nl(Qh.prototype,{lc:{name:"languageCode",sb:tl(qf(),Kf(),"languageCode")}});Qh.Persistence=Du;Qh.Persistence.LOCAL="local";Qh.Persistence.SESSION="session";Qh.Persistence.NONE="none";el(ih.prototype,{delete:{name:"delete",j:[]},cc:{name:"getIdTokenResult",j:[Hf("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Hf("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[Yf()]},oc:{name:"linkWithCredential",j:[Yf()]},pc:{name:"linkWithPhoneNumber",j:[qf("phoneNumber"),Qf()]},qc:{name:"linkWithPopup",j:[Zf()]},rc:{name:"linkWithRedirect",j:[Zf()]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yf()]},xc:{name:"reauthenticateWithCredential",j:[Yf()]},yc:{name:"reauthenticateWithPhoneNumber",j:[qf("phoneNumber"),Qf()]},zc:{name:"reauthenticateWithPopup",j:[Zf()]},Ac:{name:"reauthenticateWithRedirect",j:[Zf()]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[tl(Gf("opt_actionCodeSettings",!0),Kf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qf(null,!0)]},Pc:{name:"unlink",j:[qf("provider")]},ob:{name:"updateEmail",j:[qf("email")]},pb:{name:"updatePassword",j:[qf("password")]},Rc:{name:"updatePhoneNumber",j:[Yf("phone")]},qb:{name:"updateProfile",j:[Gf("profile")]}});el(bf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});el(yf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});el(bt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}});nl(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:Hf("appVerificationDisabledForTesting")}});el(qc.prototype,{confirm:{name:"confirm",j:[qf("verificationCode")]}});rl(ho,"credential",function(t,e){return new co(t,e)},[qf("email"),qf("password")]);el(eo.prototype,{ta:{name:"addScope",j:[qf("scope")]},Da:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}});rl(eo,"credential",no,[tl(qf(),Gf(),"token")]);rl(ho,"credentialWithLink",fo,[qf("email"),qf("emailLink")]);el(ro.prototype,{ta:{name:"addScope",j:[qf("scope")]},Da:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}});rl(ro,"credential",io,[tl(qf(),Gf(),"token")]);el(oo.prototype,{ta:{name:"addScope",j:[qf("scope")]},Da:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}});rl(oo,"credential",ao,[tl(qf(),tl(Gf(),Kf()),"idToken"),tl(qf(),Kf(),"accessToken",!0)]);el(so.prototype,{Da:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}});rl(so,"credential",uo,[tl(qf(),Gf(),"token"),qf("secret",!0)]);el(to.prototype,{ta:{name:"addScope",j:[qf("scope")]},credential:{name:"credential",j:[tl(qf(),Kf(),"idToken",!0),tl(qf(),Kf(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}});rl(mo,"credential",go,[qf("verificationId"),qf("verificationCode")]);el(mo.prototype,{Ta:{name:"verifyPhoneNumber",j:[qf("phoneNumber"),Qf()]}});el(li.prototype,{toJSON:{name:"toJSON",j:[qf(null,!0)]}});el(Eo.prototype,{toJSON:{name:"toJSON",j:[qf(null,!0)]}});el(So.prototype,{toJSON:{name:"toJSON",j:[qf(null,!0)]}});el(Ff.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}});(function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Qh,Error:li};rl(t,"EmailAuthProvider",ho,[]);rl(t,"FacebookAuthProvider",eo,[]);rl(t,"GithubAuthProvider",ro,[]);rl(t,"GoogleAuthProvider",oo,[]);rl(t,"TwitterAuthProvider",so,[]);rl(t,"OAuthProvider",to,[qf("providerId")]);rl(t,"PhoneAuthProvider",mo,[Xf()]);rl(t,"RecaptchaVerifier",Ff,[tl(qf(),zf(),"recaptchaContainer"),Gf("recaptchaParameters",!0),Jf()]);r.a.INTERNAL.registerService("auth",function(t,e){t=new Qh(t);e({INTERNAL:{getUid:g(t.getUid,t),getToken:g(t.bc,t),addAuthTokenListener:g(t.Tb,t),removeAuthTokenListener:g(t.Bc,t)}});return t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}});r.a.INTERNAL.extendNamespace({User:ih})})()}).call("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(e,n("../node_modules/webpack/buildin/global.js"))},"./node_modules/@firebase/polyfill/dist/index.esm.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});(function(t,e){var r=n("./node_modules/@firebase/polyfill/node_modules/whatwg-fetch/fetch.js");var i=n.n(r);var o=setTimeout;function a(){}function s(t,e){return function(){t.apply(e,arguments)}}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0;this._handled=false;this._value=void 0;this._deferreds=[];d(t,this)}function c(t,e){while(3===t._state)t=t._value;if(0===t._state){t._deferreds.push(e);return}t._handled=true;u._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n){(1===t._state?h:f)(e.promise,t._value);return}var r;try{r=n(t._value)}catch(t){f(e.promise,t);return}h(e.promise,r)})}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof u){t._state=3;t._value=e;l(t);return}if("function"===typeof n){d(s(n,e),t);return}}t._state=1;t._value=e;l(t)}catch(e){f(t,e)}}function f(t,e){t._state=2;t._value=e;l(t)}function l(t){2===t._state&&0===t._deferreds.length&&u._immediateFn(function(){t._handled||u._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null;this.onRejected="function"===typeof e?e:null;this.promise=n}function d(t,e){var n=false;try{t(function(t){if(n)return;n=true;h(e,t)},function(t){if(n)return;n=true;f(e,t)})}catch(t){if(n)return;n=true;f(e,t)}}u.prototype["catch"]=function(t){return this.then(null,t)};u.prototype.then=function(t,e){var n=new this.constructor(a);c(this,new p(t,e,n));return n};u.prototype["finally"]=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})};u.all=function(t){return new u(function(e,n){if(!t||"undefined"===typeof t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s){s.call(a,function(e){o(t,e)},n);return}}r[t]=a;0===--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})};u.resolve=function(t){if(t&&"object"===typeof t&&t.constructor===u)return t;return new u(function(e){e(t)})};u.reject=function(t){return new u(function(e,n){n(t)})};u.race=function(t){return new u(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})};u._immediateFn="function"===typeof t&&function(e){t(e)}||function(t){o(t,0)};u._unhandledRejectionFn=function t(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var v=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")}();v.Promise||(v.Promise=u);function m(t,e){return e={exports:{}},t(e,e.exports),e.exports}var g=m(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)});var y=m(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)});var b=y.version;var w=function(t){return"object"===typeof t?null!==t:"function"===typeof t};var _=function(t){if(!w(t))throw TypeError(t+" is not an object!");return t};var k=function(t){try{return!!t()}catch(t){return true}};var x=!k(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});var S=g.document;var E=w(S)&&w(S.createElement);var I=function(t){return E?S.createElement(t):{}};var T=!x&&!k(function(){return 7!=Object.defineProperty(I("div"),"a",{get:function(){return 7}}).a});var P=function(t,e){if(!w(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!w(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")};var A=Object.defineProperty;var O=x?Object.defineProperty:function t(e,n,r){_(e);n=P(n,true);_(r);if(T)try{return A(e,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");"value"in r&&(e[n]=r.value);return e};var j={f:O};var R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}};var N=x?function(t,e,n){return j.f(t,e,R(1,n))}:function(t,e,n){t[e]=n;return t};var C={}.hasOwnProperty;var D=function(t,e){return C.call(t,e)};var L=0;var U=Math.random();var M=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++L+U).toString(36))};var V=m(function(t){var e=M("src");var n="toString";var r=Function[n];var i=(""+r).split(n);y.inspectSource=function(t){return r.call(t)};(t.exports=function(t,n,r,o){var a="function"==typeof r;a&&(D(r,"name")||N(r,"name",n));if(t[n]===r)return;a&&(D(r,e)||N(r,e,t[n]?""+t[n]:i.join(String(n))));if(t===g)t[n]=r;else if(o)t[n]?t[n]=r:N(t,n,r);else{delete t[n];N(t,n,r)}})(Function.prototype,n,function t(){return"function"==typeof this&&this[e]||r.call(this)})});var F=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t};var B=function(t,e,n){F(t);if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}};var W="prototype";var q=function(t,e,n){var r=t&q.F;var i=t&q.G;var o=t&q.S;var a=t&q.P;var s=t&q.B;var u=i?g:o?g[e]||(g[e]={}):(g[e]||{})[W];var c=i?y:y[e]||(y[e]={});var h=c[W]||(c[W]={});var f,l,p,d;i&&(n=e);for(f in n){l=!r&&u&&void 0!==u[f];p=(l?u:n)[f];d=s&&l?B(p,g):a&&"function"==typeof p?B(Function.call,p):p;u&&V(u,f,p,t&q.U);c[f]!=p&&N(c,f,d);a&&h[f]!=p&&(h[f]=p)}};g.core=y;q.F=1;q.G=2;q.S=4;q.P=8;q.B=16;q.W=32;q.U=64;q.R=128;var H=q;var G={}.toString;var $=function(t){return G.call(t).slice(8,-1)};var K=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==$(t)?t.split(""):Object(t)};var z=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t};var X=function(t){return Object(z(t))};var J=Math.ceil;var Y=Math.floor;var Z=function(t){return isNaN(t=+t)?0:(t>0?Y:J)(t)};var Q=Math.min;var tt=function(t){return t>0?Q(Z(t),9007199254740991):0};var et=Array.isArray||function t(e){return"Array"==$(e)};var nt="__core-js_shared__";var rt=g[nt]||(g[nt]={});var it=function(t){return rt[t]||(rt[t]={})};var ot=m(function(t){var e=it("wks");var n=g.Symbol;var r="function"==typeof n;var i=t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:M)("Symbol."+t))};i.store=e});var at=ot("species");var st=function(t){var e;if(et(t)){e=t.constructor;"function"!=typeof e||e!==Array&&!et(e.prototype)||(e=void 0);if(w(e)){e=e[at];null===e&&(e=void 0)}}return void 0===e?Array:e};var ut=function(t,e){return new(st(t))(e)};var ct=function(t,e){var n=1==t;var r=2==t;var i=3==t;var o=4==t;var a=6==t;var s=5==t||a;var u=e||ut;return function(e,c,h){var f=X(e);var l=K(f);var p=B(c,h,3);var d=tt(l.length);var v=0;var m=n?u(e,d):r?u(e,0):void 0;var g,y;for(;d>v;v++)if(s||v in l){g=l[v];y=p(g,v,f);if(t)if(n)m[v]=y;else if(y)switch(t){case 3:return true;case 5:return g;case 6:return v;case 2:m.push(g)}else if(o)return false}return a?-1:i||o?o:m}};var ht=ot("unscopables");var ft=Array.prototype;void 0==ft[ht]&&N(ft,ht,{});var lt=function(t){ft[ht][t]=true};var pt=ct(5);var dt="find";var vt=true;dt in[]&&Array(1)[dt](function(){vt=false});H(H.P+H.F*vt,"Array",{find:function t(e){return pt(this,e,arguments.length>1?arguments[1]:void 0)}});lt(dt);var mt=y.Array.find;var gt=ct(6);var yt="findIndex";var bt=true;yt in[]&&Array(1)[yt](function(){bt=false});H(H.P+H.F*bt,"Array",{findIndex:function t(e){return gt(this,e,arguments.length>1?arguments[1]:void 0)}});lt(yt);var wt=y.Array.findIndex;var _t=function(t){return K(z(t))};var kt=Math.max;var xt=Math.min;var St=function(t,e){t=Z(t);return t<0?kt(t+e,0):xt(t,e)};var Et=function(t){return function(e,n,r){var i=_t(e);var o=tt(i.length);var a=St(r,o);var s;if(t&&n!=n)while(o>a){s=i[a++];if(s!=s)return true}else for(;o>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}};var It=it("keys");var Tt=function(t){return It[t]||(It[t]=M(t))};var Pt=Et(false);var At=Tt("IE_PROTO");var Ot=function(t,e){var n=_t(t);var r=0;var i=[];var o;for(o in n)o!=At&&D(n,o)&&i.push(o);while(e.length>r)D(n,o=e[r++])&&(~Pt(i,o)||i.push(o));return i};var jt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var Rt=Object.keys||function t(e){return Ot(e,jt)};var Nt=Object.getOwnPropertySymbols;var Ct={f:Nt};var Dt={}.propertyIsEnumerable;var Lt={f:Dt};var Ut=Object.assign;var Mt=!Ut||k(function(){var t={};var e={};var n=Symbol();var r="abcdefghijklmnopqrst";t[n]=7;r.split("").forEach(function(t){e[t]=t});return 7!=Ut({},t)[n]||Object.keys(Ut({},e)).join("")!=r})?function t(e,n){var r=X(e);var i=arguments.length;var o=1;var a=Ct.f;var s=Lt.f;while(i>o){var u=K(arguments[o++]);var c=a?Rt(u).concat(a(u)):Rt(u);var h=c.length;var f=0;var l;while(h>f)s.call(u,l=c[f++])&&(r[l]=u[l])}return r}:Ut;H(H.S+H.F,"Object",{assign:Mt});var Vt=y.Object.assign;var Ft=ot("match");var Bt=function(t){var e;return w(t)&&(void 0!==(e=t[Ft])?!!e:"RegExp"==$(t))};var Wt=function(t,e,n){if(Bt(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(z(t))};var qt=ot("match");var Ht=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{e[qt]=false;return!"/./"[t](e)}catch(t){}}return true};var Gt="startsWith";var $t=""[Gt];H(H.P+H.F*Ht(Gt),"String",{startsWith:function t(e){var n=Wt(this,e,Gt);var r=tt(Math.min(arguments.length>1?arguments[1]:void 0,n.length));var i=String(e);return $t?$t.call(n,i,r):n.slice(r,r+i.length)===i}});var Kt=y.String.startsWith;var zt=function t(e){var n=String(z(this));var r="";var i=Z(e);if(i<0||Infinity==i)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(n+=n))1&i&&(r+=n);return r};H(H.P,"String",{repeat:zt});var Xt=y.String.repeat;var Jt=m(function(t){var e=M("meta");var n=j.f;var r=0;var i=Object.isExtensible||function(){return true};var o=!k(function(){return i(Object.preventExtensions({}))});var a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})};var s=function(t,n){if(!w(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!D(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i};var u=function(t,n){if(!D(t,e)){if(!i(t))return true;if(!n)return false;a(t)}return t[e].w};var c=function(t){o&&h.NEED&&i(t)&&!D(t,e)&&a(t);return t};var h=t.exports={KEY:e,NEED:false,fastKey:s,getWeak:u,onFreeze:c}});var Yt=Jt.KEY;var Zt=Jt.NEED;var Qt=Jt.fastKey;var te=Jt.getWeak;var ee=Jt.onFreeze;var ne=j.f;var re=ot("toStringTag");var ie=function(t,e,n){t&&!D(t=n?t:t.prototype,re)&&ne(t,re,{configurable:true,value:e})};var oe=ot;var ae={f:oe};var se=false;var ue=j.f;var ce=function(t){var e=y.Symbol||(y.Symbol=se?{}:g.Symbol||{});"_"==t.charAt(0)||t in e||ue(e,t,{value:ae.f(t)})};var he=function(t){var e=Rt(t);var n=Ct.f;if(n){var r=n(t);var i=Lt.f;var o=0;var a;while(r.length>o)i.call(t,a=r[o++])&&e.push(a)}return e};var fe=x?Object.defineProperties:function t(e,n){_(e);var r=Rt(n);var i=r.length;var o=0;var a;while(i>o)j.f(e,a=r[o++],n[a]);return e};var le=g.document;var pe=le&&le.documentElement;var de=Tt("IE_PROTO");var ve=function(){};var me="prototype";var ge=function(){var t=I("iframe");var e=jt.length;var n="<";var r=">";var i;t.style.display="none";pe.appendChild(t);t.src="javascript:";i=t.contentWindow.document;i.open();i.write(n+"script"+r+"document.F=Object"+n+"/script"+r);i.close();ge=i.F;while(e--)delete ge[me][jt[e]];return ge()};var ye=Object.create||function t(e,n){var r;if(null!==e){ve[me]=_(e);r=new ve;ve[me]=null;r[de]=e}else r=ge();return void 0===n?r:fe(r,n)};var be=jt.concat("length","prototype");var we=Object.getOwnPropertyNames||function t(e){return Ot(e,be)};var _e={f:we};var ke=_e.f;var xe={}.toString;var Se="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var Ee=function(t){try{return ke(t)}catch(t){return Se.slice()}};var Ie=function t(e){return Se&&"[object Window]"==xe.call(e)?Ee(e):ke(_t(e))};var Te={f:Ie};var Pe=Object.getOwnPropertyDescriptor;var Ae=x?Pe:function t(e,n){e=_t(e);n=P(n,true);if(T)try{return Pe(e,n)}catch(t){}if(D(e,n))return R(!Lt.f.call(e,n),e[n])};var Oe={f:Ae};var je=Jt.KEY;var Re=Oe.f;var Ne=j.f;var Ce=Te.f;var De=g.Symbol;var Le=g.JSON;var Ue=Le&&Le.stringify;var Me="prototype";var Ve=ot("_hidden");var Fe=ot("toPrimitive");var Be={}.propertyIsEnumerable;var We=it("symbol-registry");var qe=it("symbols");var He=it("op-symbols");var Ge=Object[Me];var $e="function"==typeof De;var Ke=g.QObject;var ze=!Ke||!Ke[Me]||!Ke[Me].findChild;var Xe=x&&k(function(){return 7!=ye(Ne({},"a",{get:function(){return Ne(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Re(Ge,e);r&&delete Ge[e];Ne(t,e,n);r&&t!==Ge&&Ne(Ge,e,r)}:Ne;var Je=function(t){var e=qe[t]=ye(De[Me]);e._k=t;return e};var Ye=$e&&"symbol"==typeof De.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof De};var Ze=function t(e,n,r){e===Ge&&Ze(He,n,r);_(e);n=P(n,true);_(r);if(D(qe,n)){if(r.enumerable){D(e,Ve)&&e[Ve][n]&&(e[Ve][n]=false);r=ye(r,{enumerable:R(0,false)})}else{D(e,Ve)||Ne(e,Ve,R(1,{}));e[Ve][n]=true}return Xe(e,n,r)}return Ne(e,n,r)};var Qe=function t(e,n){_(e);var r=he(n=_t(n));var i=0;var o=r.length;var a;while(o>i)Ze(e,a=r[i++],n[a]);return e};var tn=function t(e,n){return void 0===n?ye(e):Qe(ye(e),n)};var en=function t(e){var n=Be.call(this,e=P(e,true));if(this===Ge&&D(qe,e)&&!D(He,e))return false;return!(n||!D(this,e)||!D(qe,e)||D(this,Ve)&&this[Ve][e])||n};var nn=function t(e,n){e=_t(e);n=P(n,true);if(e===Ge&&D(qe,n)&&!D(He,n))return;var r=Re(e,n);!r||!D(qe,n)||D(e,Ve)&&e[Ve][n]||(r.enumerable=true);return r};var rn=function t(e){var n=Ce(_t(e));var r=[];var i=0;var o;while(n.length>i)D(qe,o=n[i++])||o==Ve||o==je||r.push(o);return r};var on=function t(e){var n=e===Ge;var r=Ce(n?He:_t(e));var i=[];var o=0;var a;while(r.length>o)!D(qe,a=r[o++])||n&&!D(Ge,a)||i.push(qe[a]);return i};if(!$e){De=function t(){if(this instanceof De)throw TypeError("Symbol is not a constructor!");var e=M(arguments.length>0?arguments[0]:void 0);var n=function(t){this===Ge&&n.call(He,t);D(this,Ve)&&D(this[Ve],e)&&(this[Ve][e]=false);Xe(this,e,R(1,t))};x&&ze&&Xe(Ge,e,{configurable:true,set:n});return Je(e)};V(De[Me],"toString",function t(){return this._k});Oe.f=nn;j.f=Ze;_e.f=Te.f=rn;Lt.f=en;Ct.f=on;x&&!se&&V(Ge,"propertyIsEnumerable",en,true);ae.f=function(t){return Je(ot(t))}}H(H.G+H.W+H.F*!$e,{Symbol:De});for(var an="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),sn=0;an.length>sn;)ot(an[sn++]);for(var un=Rt(ot.store),cn=0;un.length>cn;)ce(un[cn++]);H(H.S+H.F*!$e,"Symbol",{for:function(t){return D(We,t+="")?We[t]:We[t]=De(t)},keyFor:function t(e){if(!Ye(e))throw TypeError(e+" is not a symbol!");for(var n in We)if(We[n]===e)return n},useSetter:function(){ze=true},useSimple:function(){ze=false}});H(H.S+H.F*!$e,"Object",{create:tn,defineProperty:Ze,defineProperties:Qe,getOwnPropertyDescriptor:nn,getOwnPropertyNames:rn,getOwnPropertySymbols:on});Le&&H(H.S+H.F*(!$e||k(function(){var t=De();return"[null]"!=Ue([t])||"{}"!=Ue({a:t})||"{}"!=Ue(Object(t))})),"JSON",{stringify:function t(e){var n=[e];var r=1;var i,o;while(arguments.length>r)n.push(arguments[r++]);o=i=n[1];if(!w(i)&&void 0===e||Ye(e))return;et(i)||(i=function(t,e){"function"==typeof o&&(e=o.call(this,t,e));if(!Ye(e))return e});n[1]=i;return Ue.apply(Le,n)}});De[Me][Fe]||N(De[Me],Fe,De[Me].valueOf);ie(De,"Symbol");ie(Math,"Math",true);ie(g.JSON,"JSON",true);var hn=ot("toStringTag");var fn="Arguments"==$(function(){return arguments}());var ln=function(t,e){try{return t[e]}catch(t){}};var pn=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=ln(e=Object(t),hn))?n:fn?$(e):"Object"==(r=$(e))&&"function"==typeof e.callee?"Arguments":r};var dn={};dn[ot("toStringTag")]="z";dn+""!="[object z]"&&V(Object.prototype,"toString",function t(){return"[object "+pn(this)+"]"},true);ce("asyncIterator");ce("observable");var vn=y.Symbol;var mn=function(t){return function(e,n){var r=String(z(e));var i=Z(n);var o=r.length;var a,s;if(i<0||i>=o)return t?"":void 0;a=r.charCodeAt(i);return a<55296||a>56319||i+1===o||(s=r.charCodeAt(i+1))<56320||s>57343?t?r.charAt(i):a:t?r.slice(i,i+2):s-56320+(a-55296<<10)+65536}};var gn={};var yn={};N(yn,ot("iterator"),function(){return this});var bn=function(t,e,n){t.prototype=ye(yn,{next:R(1,n)});ie(t,e+" Iterator")};var wn=Tt("IE_PROTO");var _n=Object.prototype;var kn=Object.getPrototypeOf||function(t){t=X(t);if(D(t,wn))return t[wn];if("function"==typeof t.constructor&&t instanceof t.constructor)return t.constructor.prototype;return t instanceof Object?_n:null};var xn=ot("iterator");var Sn=!([].keys&&"next"in[].keys());var En="@@iterator";var In="keys";var Tn="values";var Pn=function(){return this};var An=function(t,e,n,r,i,o,a){bn(n,e,r);var s=function(t){if(!Sn&&t in f)return f[t];switch(t){case In:return function e(){return new n(this,t)};case Tn:return function e(){return new n(this,t)}}return function e(){return new n(this,t)}};var u=e+" Iterator";var c=i==Tn;var h=false;var f=t.prototype;var l=f[xn]||f[En]||i&&f[i];var p=l||s(i);var d=i?c?s("entries"):p:void 0;var v="Array"==e&&f.entries||l;var m,g,y;if(v){y=kn(v.call(new t));if(y!==Object.prototype&&y.next){ie(y,u,true);se||"function"==typeof y[xn]||N(y,xn,Pn)}}if(c&&l&&l.name!==Tn){h=true;p=function t(){return l.call(this)}}se&&!a||!Sn&&!h&&f[xn]||N(f,xn,p);gn[e]=p;gn[u]=Pn;if(i){m={values:c?p:s(Tn),keys:o?p:s(In),entries:d};if(a)for(g in m)g in f||V(f,g,m[g]);else H(H.P+H.F*(Sn||h),e,m)}return m};var On=mn(true);An(String,"String",function(t){this._t=String(t);this._i=0},function(){var t=this._t;var e=this._i;var n;if(e>=t.length)return{value:void 0,done:true};n=On(t,e);this._i+=n.length;return{value:n,done:false}});var jn=function(t,e){return{value:e,done:!!t}};var Rn=An(Array,"Array",function(t,e){this._t=_t(t);this._i=0;this._k=e},function(){var t=this._t;var e=this._k;var n=this._i++;if(!t||n>=t.length){this._t=void 0;return jn(1)}if("keys"==e)return jn(0,n);if("values"==e)return jn(0,t[n]);return jn(0,[n,t[n]])},"values");gn.Arguments=gn.Array;lt("keys");lt("values");lt("entries");var Nn=ot("iterator");var Cn=ot("toStringTag");var Dn=gn.Array;var Ln={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var Un=Rt(Ln),Mn=0;Mn<Un.length;Mn++){var Vn=Un[Mn];var Fn=Ln[Vn];var Bn=g[Vn];var Wn=Bn&&Bn.prototype;var qn;if(Wn){Wn[Nn]||N(Wn,Nn,Dn);Wn[Cn]||N(Wn,Cn,Vn);gn[Vn]=Dn;if(Fn)for(qn in Rn)Wn[qn]||V(Wn,qn,Rn[qn],true)}}var Hn=ae.f("iterator")}).call(e,n("../node_modules/timers-browserify/main.js").setImmediate,n("../node_modules/webpack/buildin/global.js"))},"./node_modules/@firebase/polyfill/node_modules/whatwg-fetch/fetch.js":function(t,e){(function(t){"use strict";if(t.fetch)return;var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{new Blob;return true}catch(t){return false}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer){var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var r=function(t){return t&&DataView.prototype.isPrototypeOf(t)};var i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1}}function o(t){"string"!==typeof t&&(t=String(t));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){"string"!==typeof t&&(t=String(t));return t}function s(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};e.iterable&&(n[Symbol.iterator]=function(){return n});return n}function u(t){this.map={};t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}u.prototype.append=function(t,e){t=o(t);e=a(e);var n=this.map[t];this.map[t]=n?n+","+e:e};u.prototype["delete"]=function(t){delete this.map[o(t)]};u.prototype.get=function(t){t=o(t);return this.has(t)?this.map[t]:null};u.prototype.has=function(t){return this.map.hasOwnProperty(o(t))};u.prototype.set=function(t,e){this.map[o(t)]=a(e)};u.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};u.prototype.keys=function(){var t=[];this.forEach(function(e,n){t.push(n)});return s(t)};u.prototype.values=function(){var t=[];this.forEach(function(e){t.push(e)});return s(t)};u.prototype.entries=function(){var t=[];this.forEach(function(e,n){t.push([n,e])});return s(t)};e.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function c(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=true}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)};t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader;var n=h(e);e.readAsArrayBuffer(t);return n}function l(t){var e=new FileReader;var n=h(e);e.readAsText(t);return n}function p(t){var e=new Uint8Array(t);var n=new Array(e.length);for(var r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);e.set(new Uint8Array(t));return e.buffer}function v(){this.bodyUsed=false;this._initBody=function(t){this._bodyInit=t;if(t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t)){this._bodyArrayBuffer=d(t.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};if(e.blob){this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}}this.text=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};e.formData&&(this.formData=function(){return this.text().then(b)});this.json=function(){return this.text().then(JSON.parse)};return this}var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}function y(t,e){e=e||{};var n=e.body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url;this.credentials=t.credentials;e.headers||(this.headers=new u(t.headers));this.method=t.method;this.mode=t.mode;if(!n&&null!=t._bodyInit){n=t._bodyInit;t.bodyUsed=true}}else this.url=String(t);this.credentials=e.credentials||this.credentials||"omit";!e.headers&&this.headers||(this.headers=new u(e.headers));this.method=g(e.method||this.method||"GET");this.mode=e.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})};function b(t){var e=new FormData;t.trim().split("&").forEach(function(t){if(t){var n=t.split("=");var r=n.shift().replace(/\+/g," ");var i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}});return e}function w(t){var e=new u;var n=t.replace(/\r?\n[\t ]+/g," ");n.split(/\r?\n/).forEach(function(t){var n=t.split(":");var r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}});return e}v.call(y.prototype);function _(t,e){e||(e={});this.type="default";this.status=void 0===e.status?200:e.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in e?e.statusText:"OK";this.headers=new u(e.headers);this.url=e.url||"";this._initBody(t)}v.call(_.prototype);_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};_.error=function(){var t=new _(null,{status:0,statusText:""});t.type="error";return t};var k=[301,302,303,307,308];_.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};t.Headers=u;t.Request=y;t.Response=_;t.fetch=function(t,n){return new Promise(function(r,i){var o=new y(t,n);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:w(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;r(new _(e,t))};a.onerror=function(){i(new TypeError("Network request failed"))};a.ontimeout=function(){i(new TypeError("Network request failed"))};a.open(o.method,o.url,true);"include"===o.credentials?a.withCredentials=true:"omit"===o.credentials&&(a.withCredentials=false);"responseType"in a&&e.blob&&(a.responseType="blob");o.headers.forEach(function(t,e){a.setRequestHeader(e,t)});a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})};t.fetch.polyfill=true})("undefined"!==typeof self?self:this)},"./node_modules/@ndhoule/after/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/arity/index.js");var i=Object.prototype.toString;var o=function(t){return"function"===typeof t};var a=function(t){var e=typeof t;return"number"===e||"object"===e&&"[object Number]"===i.call(t)};var s=function t(e,n){if(!a(e))throw new TypeError("Expected a number but received "+typeof e);if(!o(n))throw new TypeError("Expected a function but received "+typeof n);var i=0;return r(n.length,function(){i+=1;if(i<e)return;return n.apply(this,arguments)})};t.exports=s},"./node_modules/@ndhoule/arity/index.js":function(t,e,n){"use strict";var r=Object.prototype.toString;var i=function(t){return"function"===typeof t};var o=function(t){var e=typeof t;return"number"===e||"object"===e&&"[object Number]"===r.call(t)};var a=function t(e){var n=[];for(var r=1;r<=e;r+=1)n.push("arg"+r);return n};var s=function t(e){var n=a(e).join(", ");var r="".concat("  return function(",n,") {\n","    return func.apply(this, arguments);\n","  };");return new Function("func",r)};var u=[function(t){return function(){return t.apply(this,arguments)}},function(t){return function(e){return t.apply(this,arguments)}},function(t){return function(e,n){return t.apply(this,arguments)}},function(t){return function(e,n,r){return t.apply(this,arguments)}},function(t){return function(e,n,r,i){return t.apply(this,arguments)}},function(t){return function(e,n,r,i,o){return t.apply(this,arguments)}}];var c=function t(e,n){if(!i(n))throw new TypeError("Expected a function but got "+typeof n);e=Math.max(o(e)?e:0,0);u[e]||(u[e]=s(e));return u[e](n)};t.exports=c},"./node_modules/@ndhoule/clone/index.js":function(t,e,n){"use strict";var r=n("./node_modules/component-type/index.js");var i=function t(e){var n=r(e);if("object"===n){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=t(e[o]));return i}if("array"===n){var i=new Array(e.length);for(var a=0,s=e.length;a<s;a++)i[a]=t(e[a]);return i}if("regexp"===n){var u="";u+=e.multiline?"m":"";u+=e.global?"g":"";u+=e.ignoreCase?"i":"";return new RegExp(e.source,u)}if("date"===n)return new Date(e.getTime());return e};t.exports=i},"./node_modules/@ndhoule/defaults/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/drop/index.js");var i=n("./node_modules/@ndhoule/rest/index.js");var o=Object.prototype.hasOwnProperty;var a=Object.prototype.toString;var s=function t(e){return Boolean(e)&&"object"===typeof e};var u=function t(e){return Boolean(e)&&"[object Object]"===a.call(e)};var c=function t(e,n,r,i){o.call(n,i)&&void 0===e[i]&&(e[i]=r);return n};var h=function(t,e,n,r){o.call(e,r)&&(u(t[r])&&u(n)?t[r]=l(t[r],n):void 0===t[r]&&(t[r]=n));return e};var f=function(t,e){if(!s(e))return e;t=t||c;var n=r(2,arguments);for(var i=0;i<n.length;i+=1)for(var o in n[i])t(e,n[i],n[i][o],o);return e};var l=function t(e){return f.apply(null,[h,e].concat(i(arguments)))};var p=function(t){return f.apply(null,[null,t].concat(i(arguments)))};t.exports=p;t.exports.deep=l},"./node_modules/@ndhoule/drop/index.js":function(t,e,n){"use strict";var r=Math.max;var i=function t(e,n){var i=n?n.length:0;if(!i)return[];var o=r(Number(e)||0,0);var a=r(i-o,0);var s=new Array(a);for(var u=0;u<a;u+=1)s[u]=n[u+o];return s};t.exports=i},"./node_modules/@ndhoule/each/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/keys/index.js");var i=Object.prototype.toString;var o=function t(e){var n=typeof e;return"number"===n||"object"===n&&"[object Number]"===i.call(e)};var a="function"===typeof Array.isArray?Array.isArray:function t(e){return"[object Array]"===i.call(e)};var s=function t(e){return null!=e&&(a(e)||"function"!==e&&o(e.length))};var u=function t(e,n){for(var r=0;r<n.length;r+=1)if(false===e(n[r],r,n))break};var c=function t(e,n){var i=r(n);for(var o=0;o<i.length;o+=1)if(false===e(n[i[o]],i[o],n))break};var h=function t(e,n){return(s(n)?u:c).call(this,e,n)};t.exports=h},"./node_modules/@ndhoule/every/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/each/index.js");var i=function t(e,n){if("function"!==typeof e)throw new TypeError("`predicate` must be a function but was a "+typeof e);var i=true;r(function(t,n,r){i=!!e(t,n,r);if(!i)return false},n);return i};t.exports=i},"./node_modules/@ndhoule/extend/index.js":function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;var i=function t(e){var n=Array.prototype.slice.call(arguments,1);for(var i=0;i<n.length;i+=1)for(var o in n[i])r.call(n[i],o)&&(e[o]=n[i][o]);return e};t.exports=i},"./node_modules/@ndhoule/foldl/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/each/index.js");var i=function t(e,n,i){if("function"!==typeof e)throw new TypeError("Expected a function but received a "+typeof e);r(function(t,r,i){n=e(n,t,r,i)},i);return n};t.exports=i},"./node_modules/@ndhoule/includes/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/each/index.js");var i=String.prototype.indexOf;var o=function t(e,n){if(e===n)return 0!==e||1/e===1/n;return e!==e&&n!==n};var a=function t(e,n){var a=false;if("string"===typeof n)return-1!==i.call(n,e);r(function(t){if(o(t,e)){a=true;return false}},n);return a};t.exports=a},"./node_modules/@ndhoule/keys/index.js":function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;var i=String.prototype.charAt;var o=Object.prototype.toString;var a=function(t,e){return i.call(t,e)};var s=function t(e,n){return r.call(e,n)};var u=function t(e){return"[object String]"===o.call(e)};var c=function t(e){return null!=e&&"function"!==typeof e&&"number"===typeof e.length};var h=function t(e,n){n=n||s;var r=[];for(var i=0,o=e.length;i<o;i+=1)n(e,i)&&r.push(String(i));return r};var f=function t(e,n){n=n||s;var r=[];for(var i in e)n(e,i)&&r.push(String(i));return r};var l=function t(e){if(null==e)return[];if(u(e))return h(e,a);if(c(e))return h(e,s);return f(e)};t.exports=l},"./node_modules/@ndhoule/pick/index.js":function(t,e,n){"use strict";var r=Object.prototype.toString;var i=function(t){return null!=t};var o=function(t){return"[object Array]"===r.call(t)};var a=function(t){return"string"===typeof t||"[object String]"===r.call(t)};var s=function(t){return null!=t&&"object"===typeof t};var u=function t(e,n){if(!i(n)||!s(n))return{};a(e)&&(e=[e]);o(e)||(e=[]);var r={};for(var u=0;u<e.length;u+=1)a(e[u])&&e[u]in n&&(r[e[u]]=n[e[u]]);return r};t.exports=u},"./node_modules/@ndhoule/rest/index.js":function(t,e,n){"use strict";var r=Math.max;var i=function t(e){if(null==e||!e.length)return[];var n=new Array(r(e.length-2,0));for(var i=1;i<e.length;i+=1)n[i-1]=e[i];return n};t.exports=i},"./node_modules/@segment/alias/index.js":function(t,e,n){var r=n("./node_modules/component-type/index.js");var i=n("./node_modules/component-clone/index.js");t.exports=o;function o(t,e){switch(r(e)){case"object":return a(i(t),e);case"function":return s(i(t),e)}}function a(t,e){for(var n in e){if(void 0===t[n])continue;t[e[n]]=t[n];delete t[n]}return t}function s(t,e){var n={};for(var r in t)n[e(r)]=t[r];return n}},"./node_modules/@segment/analytics.js-core/lib/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@segment/analytics.js-core/lib/analytics.js");var i=new r;i.VERSION=n("./node_modules/@segment/analytics.js-core/package.json").version;t.exports=i},"./node_modules/@segment/analytics.js-integration-mixpanel/lib/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@segment/alias/index.js");var i=n("./node_modules/@segment/convert-dates/lib/index.js");var o=n("./node_modules/obj-case/index.js").del;var a=n("./node_modules/@ndhoule/includes/index.js");var s=n("./node_modules/@segment/analytics.js-integration/lib/index.js");var u=n("./node_modules/@segment/to-iso-string/lib/index.js");var c=n("./node_modules/@ndhoule/pick/index.js");var h=n("./node_modules/is/index.js");var f=n("./node_modules/component-indexof/index.js");var l=t.exports=s("Mixpanel").global("mixpanel").option("eventIncrements",[]).option("propIncrements",[]).option("peopleProperties",[]).option("superProperties",[]).option("cookieName","").option("crossSubdomainCookie",false).option("secureCookie",false).option("persistence","cookie").option("nameTag",true).option("pageview",false).option("people",false).option("token","").option("setAllTraitsByDefault",true).option("consolidatedPageCalls",true).option("trackAllPages",false).option("trackNamedPages",false).option("trackCategorizedPages",false).tag('<script src="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js">');var p={cookieName:"cookie_name",crossSubdomainCookie:"cross_subdomain_cookie",secureCookie:"secure_cookie"};l.prototype.initialize=function(){(function(t,e){if(!e.__SV){var n=window;try{var r,i,o,a=n.location,s=a.hash;r=function(t,e){return(i=t.match(RegExp(e+"=([^&]*)")))?i[1]:null};s&&r(s,"state")&&(o=JSON.parse(decodeURIComponent(r(s,"state"))),"mpeditor"===o.action&&(n.sessionStorage.setItem("_mpcehash",s),history.replaceState(o.desiredHash||"",t.title,a.pathname+a.search)))}catch(t){}var u,c;window.mixpanel=e;e._i=[];e.init=function(t,n,r){function i(t,e){var n=e.split(".");2==n.length&&(t=t[n[0]],e=n[1]);t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var o=e;"undefined"!==typeof r?o=e[r]=[]:r="mixpanel";o.people=o.people||[];o.toString=function(t){var e="mixpanel";"mixpanel"!==r&&(e+="."+r);t||(e+=" (stub)");return e};o.people.toString=function(){return o.toString(1)+".people (stub)"};u="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");for(c=0;c<u.length;c++)i(o,u[c]);e._i.push([t,n,r])};e.__SV=1.2}})(document,window.mixpanel||[]);this.options.eventIncrements=v(this.options.eventIncrements);this.options.propIncrements=v(this.options.propIncrements);var t=r(this.options,p);t.loaded=function(t){t.register({mp_lib:"Segment: web"})};window.mixpanel.init(t.token,t);this.load(this.ready)};l.prototype.loaded=function(){return!!(window.mixpanel&&window.mixpanel.config)};l.prototype.page=function(t){var e=t.category();var n=t.name();var r=this.options;if(r.consolidatedPageCalls){this.track(t.track());return}if(r.trackAllPages){this.track(t.track());return}if(r.trackCategorizedPages&&e){if(n){this.track(t.track(t.fullName()));return}this.track(t.track(e));return}n&&r.trackNamedPages&&this.track(t.track(n))};var d={created:"$created",email:"$email",firstName:"$first_name",lastName:"$last_name",lastSeen:"$last_seen",name:"$name",username:"$username",phone:"$phone"};l.prototype.identify=function(t){var e=t.username();var n=t.email();var r=t.userId();var a=this.options.setAllTraitsByDefault;var s=this.options.people;var f=g(this.options.peopleProperties);var l=this.options.superProperties;r&&window.mixpanel.identify(r);var p=n||e||r;p&&window.mixpanel.name_tag(p);var v=t.traits(d);v.$created&&o(v,"createdAt");v=i(v,u);var y={};var b={};for(var w in v){if(!v.hasOwnProperty(w))continue;var k=v[w];if(Array.isArray(k)&&k.length>0){y[w]=k;var x=window.mixpanel.get_property(w);x&&Array.isArray(x)&&(v[w]=_(x,k))}else b[w]=k}if(a){window.mixpanel.register(v);if(s){window.mixpanel.people.set(b);window.mixpanel.people.union(y)}}else{var S=m(l);var E=c(S||[],v);h.empty(E)||window.mixpanel.register(E);if(s){var I=m(f);var T=c(I||[],b);var P=c(I||[],y);h.empty(T)||window.mixpanel.people.set(T);h.empty(P)||window.mixpanel.people.union(P)}}};l.prototype.track=function(t){var e=this.options.eventIncrements||this.options.increments;var n=this.options.propIncrements;var r=t.event().toLowerCase();var o=this.options.people;var s=t.properties();var f=t.revenue();var l=c(this.options.superProperties,s);delete s.distinct_id;delete s.ip;delete s.mp_name_tag;delete s.mp_note;delete s.token;s=i(s,u);y(s);if(o){if(a(r,e)){window.mixpanel.people.increment(t.event());window.mixpanel.people.set("Last "+t.event(),new Date)}for(var p in s){if(!Object.prototype.hasOwnProperty.call(s,p))continue;var d=s[p];a(p.toLowerCase(),n)&&window.mixpanel.people.increment(p,d)}f&&window.mixpanel.people.track_charge(f)}var v;if(s.link_query){v=s.link_query;delete s.link_query;window.mixpanel.track_links(v,t.event(),s)}else if(s.form_query){v=s.form_query;delete s.form_query;window.mixpanel.track_forms(v,t.event(),s)}else window.mixpanel.track(t.event(),s);h.empty(l)||window.mixpanel.register(l)};l.prototype.alias=function(t){var e=window.mixpanel;var n=t.to();if(e.get_distinct_id&&e.get_distinct_id()===n)return;if(e.get_property&&e.get_property("$people_distinct_id")===n)return;e.alias(n,t.from())};function v(t){var e=new Array(t.length);for(var n=0;n<t.length;++n)e[n]=String(t[n]).toLowerCase();return e}function m(t){var e=new Array(t.length);for(var n=0;n<t.length;++n)d.hasOwnProperty(t[n])?e.push(d[t[n]]):e.push(t[n]);return e}function g(t){var e=[];for(var n in d)d.hasOwnProperty(n)&&e.push(n);for(var r=0;r<e.length;++r)f(t,e[r])<0&&t.push(e[r]);return t}function y(t){for(var e in t){var n=t[e];if(!t.hasOwnProperty(e)||!Array.isArray(n))continue;var r=b(e,n);if(0!==Object.keys(r).length){w(t,r);delete t[e]}}}function b(t,e){var n={};for(var r=0;r<e.length;r++){var i=e[r];if("object"!==typeof i)return{};for(var o in i){if(!i.hasOwnProperty(o))continue;var a=t+"_"+o+"s";a in n?n[a].push(i[o]):n[a]=[i[o]]}}return n}function w(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]=n in t?t[n].concat(r):r}}function _(t,e){var n={};var r;for(r=0;r<t.length;r++)n[t[r]]=t[r];for(r=0;r<e.length;r++)n[e[r]]=e[r];return Object.keys(n)}},"./node_modules/@segment/analytics.js-integration-sentry/lib/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@segment/analytics.js-integration/lib/index.js");var i=n("./node_modules/is/index.js");var o=n("./node_modules/@ndhoule/foldl/index.js");var a=t.exports=r("Sentry").global("Raven").global("RavenConfig").option("config","").option("serverName",null).option("release",null).option("ignoreErrors",[]).option("ignoreUrls",[]).option("whitelistUrls",[]).option("includePaths",[]).option("maxMessageLength",null).option("logger",null).option("customVersionProperty",null).tag('<script src="https://cdn.ravenjs.com/3.24.1/raven.min.js" crossorigin="anonymous">');a.prototype.initialize=function(){var t=this.options.config;var e=this.options.customVersionProperty?window[this.options.customVersionProperty]:null;var n={logger:this.options.logger,release:e||this.options.release,serverName:this.options.serverName,whitelistUrls:this.options.whitelistUrls,ignoreErrors:this.options.ignoreErrors,ignoreUrls:this.options.ignoreUrls,includePaths:this.options.includePaths,maxMessageLength:this.options.maxMessageLength};window.RavenConfig={dsn:t,config:s(n)};this.load(this.ready)};a.prototype.loaded=function(){return i.object(window.Raven)};a.prototype.identify=function(t){window.Raven.setUserContext(t.traits())};function s(t){return o(function(t,e,n){null===e||""===e||i.array(e)||(t[n]=e);if(i.array(e)){var r=[];for(var o=0;o<e.length;o++)null!==e[o]&&""!==e[o]&&r.push(e[o]);i.empty(r)||(t[n]=r)}return t},{},t)}},"./node_modules/@segment/analytics.js-integration/lib/index.js":function(t,e,n){"use strict";var r=n("./node_modules/component-bind/index.js");var i=n("./node_modules/@ndhoule/clone/index.js");var o=n("./node_modules/debug/src/browser.js");var a=n("./node_modules/@ndhoule/defaults/index.js");var s=n("./node_modules/@ndhoule/extend/index.js");var u=n("./node_modules/slug-component/index.js");var c=n("./node_modules/@segment/analytics.js-integration/lib/protos.js");var h=n("./node_modules/@segment/analytics.js-integration/lib/statics.js");function f(t){function e(n){if(n&&n.addIntegration)return n.addIntegration(e);this.debug=o("analytics:integration:"+u(t));this.options=a(i(n)||{},this.defaults);this._queue=[];this.once("ready",r(this,this.flush));e.emit("construct",this);this.ready=r(this,this.ready);this._wrapInitialize();this._wrapPage();this._wrapTrack()}e.prototype.defaults={};e.prototype.globals=[];e.prototype.templates={};e.prototype.name=t;s(e,h);s(e.prototype,c);return e}t.exports=f},"./node_modules/@segment/analytics.js-integration/lib/protos.js":function(t,e,n){"use strict";var r=n("./node_modules/component-emitter/index.js");var i=n("./node_modules/@ndhoule/after/index.js");var o=n("./node_modules/@ndhoule/each/index.js");var a=n("./node_modules/analytics-events/index.js");var s=n("./node_modules/@ndhoule/every/index.js");var u=n("./node_modules/@segment/fmt/lib/index.js");var c=n("./node_modules/@ndhoule/foldl/index.js");var h=n("./node_modules/is/index.js");var f=n("./node_modules/load-iframe/index.js");var l=n("./node_modules/@segment/load-script/index.js");var p=n("./node_modules/next-tick/index.js");var d=n("./node_modules/to-no-case/index.js");var v=Object.prototype.hasOwnProperty;var m=function t(){};var g=window.onerror;var y=null;r(e);e.initialize=function(){var t=this.ready;p(t)};e.loaded=function(){return false};e.page=function(t){};e.track=function(t){};e.map=function(t,e){var n=d(e);var r=b(t);if("unknown"===r)return[];return c(function(t,e,i){var o;var a;if("map"===r){o=i;a=e}if("array"===r){o=e;a=e}if("mixed"===r){o=e.key;a=e.value}d(o)===n&&t.push(a);return t},[],t)};e.invoke=function(t){if(!this[t])return;var e=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(t,e);var n;try{this.debug("%s with %o",t,e);n=this[t].apply(this,e)}catch(n){this.debug("error %o calling %s with %o",n,t,e)}return n};e.queue=function(t,e){if("page"===t&&this._assumesPageview&&!this._initialized)return this.page.apply(this,e);this._queue.push({method:t,args:e})};e.flush=function(){this._ready=true;var t=this;o(function(e){t[e.method].apply(t,e.args)},this._queue);this._queue.length=0};e.reset=function(){for(var t=0;t<this.globals.length;t++)window[this.globals[t]]=void 0;window.onerror=g;window.onload=y};e.load=function(t,e,n){if("function"===typeof t){n=t;e=null;t=null}if(t&&"object"===typeof t){n=e;e=t;t=null}if("function"===typeof e){n=e;e=null}t=t||"library";e=e||{};e=this.locals(e);var r=this.templates[t];if(!r)throw new Error(u('template "%s" not defined.',t));var i=x(r,e);n=n||m;var a=this;var s;switch(r.type){case"img":i.width=1;i.height=1;s=_(i,n);break;case"script":s=l(i,function(t){if(!t)return n();a.debug('error loading "%s" error="%s"',a.name,t)});delete i.src;o(function(t,e){s.setAttribute(e,t)},i);break;case"iframe":s=f(i,n);break;default:}return s};e.locals=function(t){t=t||{};var e=Math.floor((new Date).getTime()/36e5);t.hasOwnProperty("cache")||(t.cache=e);o(function(e,n){t.hasOwnProperty(n)||(t[n]=e)},this.options);return t};e.ready=function(){this.emit("ready")};e._wrapInitialize=function(){var t=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=true;var e=t.apply(this,arguments);this.emit("initialize");return e};this._assumesPageview&&(this.initialize=i(2,this.initialize))};e._wrapPage=function(){var t=this.page;this.page=function(){if(this._assumesPageview&&!this._initialized)return this.initialize.apply(this,arguments);return t.apply(this,arguments)}};e._wrapTrack=function(){var t=this.track;this.track=function(e){var n=e.event();var r;var i;for(var o in a)if(v.call(a,o)){var s=a[o];if(!this[o])continue;if(!s.test(n))continue;i=this[o].apply(this,arguments);r=true;break}r||(i=t.apply(this,arguments));return i}};function b(t){if(h.array(t))return s(w,t)?"mixed":"array";if(h.object(t))return"map";return"unknown"}function w(t){if(!h.object(t))return false;if(!h.string(t.key))return false;if(!v.call(t,"value"))return false;return true}function _(t,e){e=e||function(){};var n=new Image;n.onerror=k(e,"failed to load pixel",n);n.onload=function(){e()};n.src=t.src;n.width=1;n.height=1;return n}function k(t,e,n){return function(r){r=r||window.event;var i=new Error(e);i.event=r;i.source=n;t(i)}}function x(t,e){return c(function(t,n,r){t[r]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,function(t,n){return e[n]});return t},{},t.attrs)}},"./node_modules/@segment/analytics.js-integration/lib/statics.js":function(t,e,n){"use strict";var r=n("./node_modules/component-emitter/index.js");var i=n("./node_modules/domify/index.js");var o=n("./node_modules/@ndhoule/each/index.js");var a=n("./node_modules/@ndhoule/includes/index.js");r(e);e.option=function(t,e){this.prototype.defaults[t]=e;return this};e.mapping=function(t){this.option(t,[]);this.prototype[t]=function(e){return this.map(this.options[t],e)};return this};e.global=function(t){this.prototype.globals.push(t);return this};e.assumesPageview=function(){this.prototype._assumesPageview=true;return this};e.readyOnLoad=function(){this.prototype._readyOnLoad=true;return this};e.readyOnInitialize=function(){this.prototype._readyOnInitialize=true;return this};e.tag=function(t,e){if(null==e){e=t;t="library"}this.prototype.templates[t]=s(e);return this};function s(t){t=t.replace(' src="',' data-src="');var e=i(t);var n={};o(function(e){var r="data-src"===e.name?"src":e.name;if(!a(e.name+"=",t))return;n[r]=e.value},e.attributes);return{type:e.tagName.toLowerCase(),attrs:n}}},"./node_modules/@segment/convert-dates/lib/index.js":function(t,e,n){"use strict";var r=n("./node_modules/@ndhoule/clone/index.js");var i=n("./node_modules/@ndhoule/each/index.js");var o=n("./node_modules/component-type/index.js");function a(t,e){t=r(t);i(function(n,r){"date"===o(n)&&(t[r]=e(n));"object"!==o(n)&&"array"!==o(n)||(t[r]=a(n,e))},t);return t}t.exports=a},"./node_modules/@segment/fmt/lib/index.js":function(t,e,n){"use strict";(function(e){var n=e.JSON&&"function"===typeof JSON.stringify?JSON.stringify:String;function r(t){var e=Array.prototype.slice.call(arguments,1);var n=0;return t.replace(/%([a-z])/gi,function(t,i){return r[i]?r[i](e[n++]):t+i})}r.o=n;r.s=String;r.d=parseInt;t.exports=r}).call(e,n("../node_modules/webpack/buildin/global.js"))},"./node_modules/@segment/load-script/index.js":function(t,e,n){"use strict";var r=n("./node_modules/script-onload/index.js");var i=n("./node_modules/next-tick/index.js");var o=n("./node_modules/component-type/index.js");function a(t,e){if(!t)throw new Error("Can't load nothing...");"string"===o(t)&&(t={src:t});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=(n?"https:":"http:")+t.src);n&&t.https?t.src=t.https:!n&&t.http&&(t.src=t.http);var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src=t.src;"function"===o(e)&&r(a,e);i(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)});return a}t.exports=a},"./node_modules/@segment/to-iso-string/lib/index.js":function(t,e,n){"use strict";function r(t){var e=t.toString();return 1===e.length?"0"+e:e}function i(t){return t.getUTCFullYear()+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}t.exports=i},"./node_modules/analytics-events/index.js":function(t,e){t.exports={promotionViewed:/^[ _]?promotion[ _]?viewed?[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,promotionClicked:/^[ _]?promotion[ _]?clicked?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,productsSearched:/^[ _]?products[ _]?searched[ _]?$/i,productListViewed:/^[ _]?product[ _]?list[ _]?viewed[ _]?$/i,productListFiltered:/^[ _]?product[ _]?list[ _]?filtered[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,productClicked:/^[ _]?product[ _]?clicked[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,productViewed:/^[ _]?product[ _]?viewed[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,productAdded:/^[ _]?product[ _]?added[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,productRemoved:/^[ _]?product[ _]?removed[ _]?$/i,removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,cartViewed:/^[ _]?cart[ _]?viewed[ _]?$/i,orderStarted:/^[ _]?order[ _]?started[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,orderUpdated:/^[ _]?order[ _]?updated[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,orderCompleted:/^[ _]?order[ _]?completed[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,orderRefunded:/^[ _]?order[ _]?refunded[ _]?$/i,refundedOrder:/^[ _]?refunded[ _]?order[ _]?$/i,orderCancelled:/^[ _]?order[ _]?cancelled[ _]?$/i,paymentInfoAdded:/^[ _]?payment[ _]?info[ _]?added[ _]?$/i,checkoutStarted:/^[ _]?checkout[ _]?started[ _]?$/i,checkoutStepViewed:/^[ _]?checkout[ _]?step[ _]?viewed[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,checkoutStepCompleted:/^[ _]?checkout[ _]?step[ _]?completed[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i,couponEntered:/^[ _]?coupon[ _]?entered[ _]?$/i,couponApplied:/^[ _]?coupon[ _]?applied[ _]?$/i,couponDenied:/^[ _]?coupon[ _]?denied[ _]?$/i,couponRemoved:/^[ _]?coupon[ _]?removed[ _]?$/i,productAddedToWishlist:/^[ _]?product[ _]?added[ _]?to[ _]?wishlist[ _]?$/i,wishlistProductRemoved:/^[ _]?wishlist[ _]?product[ _]?removed[ _]?$/i,wishlistProductAddedToCart:/^[ _]?wishlist[ _]?product[ _]?added[ _]?to[ _]?cart[ _]?$/i,productShared:/^[ _]?product[ _]?shared[ _]?$/i,cartShared:/^[ _]?cart[ _]?shared[ _]?$/i,productRemoved:/^[ _]?product[ _]?removed[ _]?$/i,applicationInstalled:/^[ _]?application[ _]?installed[ _]?$/i,applicationUpdated:/^[ _]?application[ _]?updated[ _]?$/i,applicationOpened:/^[ _]?application[ _]?opened[ _]?$/i,applicationBackgrounded:/^[ _]?application[ _]?backgrounded[ _]?$/i,applicationUninstalled:/^[ _]?application[ _]?uninstalled[ _]?$/i,installAttributed:/^[ _]?install[ _]?attributed[ _]?$/i,deepLinkOpened:/^[ _]?deep[ _]?link[ _]?opened[ _]?$/i,pushNotificationReceived:/^[ _]?push[ _]?notification[ _]?received[ _]?$/i,pushNotificationTapped:/^[ _]?push[ _]?notification[ _]?received[ _]?$/i,pushNotificationBounced:/^[ _]?push[ _]?notification[ _]?bounced[ _]?$/i}},"./node_modules/analytics.js-integration-hotjar/lib/index.js":function(t,e,n){"use strict";var r=n("./node_modules/analytics.js-integration-hotjar/node_modules/@segment/analytics.js-integration/lib/index.js");var i=t.exports=r("Hotjar").global("hj").global("_hjSettings").option("hjid").option("hjsv").option("tagEvents",true).option("recordVisitors",true).option("identifyTags",["Logged In User"]);i.prototype.initialize=function(){var t=this.options.hjid;var e=this.options.hjsv;window.hj=window.hj||function(){(window.hj.q=window.hj.q||[]).push(arguments)};window._hjSettings={hjid:t,hjsv:e};this.options.recordVisitors&&a();this.ready()};i.prototype.loaded=function(){return!!window.hj};i.prototype.identify=function(){var t=this.options.identifyTags;this.options.recordVisitors||a();this.options.identifyTags&&window.hj("tagRecording",t)};i.prototype.track=function(t){var e=t.event();var n=this.options.tagEvents;if(!n)return;window.hj("tagRecording",[e])};var o;function a(){if(o)return;var t=document.getElementsByTagName("head")[0];o=document.createElement("script");o.async=1;o.src="https://static.hotjar.com/c/hotjar-"+window._hjSettings.hjid+".js?sv="+window._hjSettings.hjsv;t.appendChild(o)}},"./node_modules/component-bind/index.js":function(t,e){var n=[].slice;t.exports=function(t,e){"string"==typeof e&&(e=t[e]);if("function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},"./node_modules/component-emitter/index.js":function(t,e,n){true;t.exports=r;function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}r.prototype.on=r.prototype.addEventListener=function(t,e){this._callbacks=this._callbacks||{};(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e);return this};r.prototype.once=function(t,e){function n(){this.off(t,n);e.apply(this,arguments)}n.fn=e;this.on(t,n);return this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length){delete this._callbacks["$"+t];return this}var r;for(var i=0;i<n.length;i++){r=n[i];if(r===e||r.fn===e){n.splice(i,1);break}}return this};r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};r.prototype.listeners=function(t){this._callbacks=this._callbacks||{};return this._callbacks["$"+t]||[]};r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"./node_modules/component-indexof/index.js":function(t,e){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},"./node_modules/component-type/index.js":function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(null===t)return"null";if(void 0===t)return"undefined";if(t!==t)return"nan";if(t&&1===t.nodeType)return"element";if(r(t))return"buffer";t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t);return typeof t};function r(t){return!!(null!=t&&(t._isBuffer||t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},"./node_modules/domify/index.js":function(t,e){t.exports=o;var n=false;var r;if("undefined"!==typeof document){r=document.createElement("div");r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';n=!r.getElementsByTagName("link").length;r=void 0}var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:n?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"];i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"];i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function o(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var o=e.createElement("html");o.innerHTML=t;return o.removeChild(o.lastChild)}var a=i[r]||i._default;var s=a[0];var u=a[1];var c=a[2];var o=e.createElement("div");o.innerHTML=u+t+c;while(s--)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);var h=e.createDocumentFragment();while(o.firstChild)h.appendChild(o.removeChild(o.firstChild));return h}},"./node_modules/load-iframe/index.js":function(t,e,n){var r=n("./node_modules/is/index.js");var i=n("./node_modules/script-onload/index.js");var o=n("./node_modules/next-tick/index.js");t.exports=function t(e,n){if(!e)throw new Error("Cant load nothing...");r.string(e)&&(e={src:e});var a="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=a?"https:"+e.src:"http:"+e.src);a&&e.https?e.src=e.https:!a&&e.http&&(e.src=e.http);var s=document.createElement("iframe");s.src=e.src;s.width=e.width||1;s.height=e.height||1;s.style.display="none";r.fn(n)&&i(s,n);o(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t)});return s}},"./node_modules/next-tick/index.js":function(t,e,n){"use strict";(function(e,n){var r,i;r=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");return t};i=function(t){var e=document.createTextNode(""),n,i=0;new t(function(){var t;if(!n)return;t=n;n=null;if("function"===typeof t){t();return}t.forEach(function(t){t()})}).observe(e,{characterData:true});return function(t){r(t);if(n){"function"===typeof n?n=[n,t]:n.push(t);return}n=t;e.data=i=++i%2}};t.exports=function(){if("undefined"!==typeof e&&e&&"function"===typeof e.nextTick)return e.nextTick;if("object"===typeof document&&document){if("function"===typeof MutationObserver)return i(MutationObserver);if("function"===typeof WebKitMutationObserver)return i(WebKitMutationObserver)}if("function"===typeof n)return function(t){n(r(t))};if("function"===typeof setTimeout)return function(t){setTimeout(r(t),0)};return null}()}).call(e,n("../node_modules/process/browser.js"),n("../node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/obj-case/index.js":function(t,e){var n=function(t){return t};t.exports=r(i);t.exports.find=t.exports;t.exports.replace=function(t,e,n,i){r(a).call(this,t,e,n,i);return t};t.exports.del=function(t,e,n){r(o).call(this,t,e,null,n);return t};function r(t){return function(e,n,r,i){normalize=i&&u(i.normalizer)?i.normalizer:s;n=normalize(n);var o;var a=false;while(!a)c();function c(){for(o in e){var t=normalize(o);if(0===n.indexOf(t)){var r=n.substr(t.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var i=e[o];if(null==i){a=true;return}if(!n.length){a=true;return}e=i;return}}}o=void 0;a=true}if(!o)return;if(null==e)return e;return t(e,o,r)}}function i(t,e){if(t.hasOwnProperty(e))return t[e]}function o(t,e){t.hasOwnProperty(e)&&delete t[e];return t}function a(t,e,n){t.hasOwnProperty(e)&&(t[e]=n);return t}function s(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function u(t){return"function"===typeof t}},"./node_modules/script-onload/index.js":function(t,e){t.exports=function(t,e){return t.addEventListener?n(t,e):r(t,e)};function n(t,e){t.addEventListener("load",function(t,n){e(null,n)},false);t.addEventListener("error",function(n){var r=new Error('script error "'+t.src+'"');r.event=n;e(r)},false)}function r(t,e){t.attachEvent("onreadystatechange",function(n){if(!/complete|loaded/.test(t.readyState))return;e(null,n)});t.attachEvent("onerror",function(n){var r=new Error('failed to load the script "'+t.src+'"');r.event=n||window.event;e(r)})}},"./node_modules/slug-component/index.js":function(t,e){t.exports=function(t,e){e||(e={});return t.toLowerCase().replace(e.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,e.separator||"-")}},"./node_modules/to-no-case/index.js":function(t,e){t.exports=i;var n=/\s/;var r=/[\W_]/;function i(t){if(n.test(t))return t.toLowerCase();if(r.test(t))return(a(t)||t).toLowerCase();return u(t).toLowerCase()}var o=/[\W_]+(.|$)/g;function a(t){return t.replace(o,function(t,e){return e?" "+e:""})}var s=/(.)([A-Z]+)/g;function u(t){return t.replace(s,function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")})}}});
//# space-part-48.26b83b99.js.map