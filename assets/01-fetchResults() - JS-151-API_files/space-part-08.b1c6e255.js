webpackJsonp([31],{"./node_modules/babel-runtime/core-js/object/define-property.js":function(e,o,r){e.exports={default:r("./node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js"),__esModule:true}},"./node_modules/babel-runtime/node_modules/core-js/library/fn/object/create.js":function(e,o,r){r("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.create.js");var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object;e.exports=function e(o,r){return t.create(o,r)}},"./node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js":function(e,o,r){r("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js");var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object;e.exports=function e(o,r,n){return t.defineProperty(o,r,n)}},"./node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js":function(e,o,r){r("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js");e.exports=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object.getPrototypeOf},"./node_modules/babel-runtime/node_modules/core-js/library/fn/object/set-prototype-of.js":function(e,o,r){r("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.set-prototype-of.js");e.exports=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object.setPrototypeOf},"./node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/iterator.js":function(e,o,r){r("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js");r("./node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js");e.exports=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-ext.js").f("iterator")},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js":function(e,o){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js":function(e,o){e.exports=function(){}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(o,r,i){var a=t(o);var u=n(a.length);var l=s(i,u);var d;if(e&&r!=r)while(u>l){d=a[l++];if(d!=d)return true}else for(;u>l;l++)if((e||l in a)&&a[l]===r)return e||l||0;return!e&&-1}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js":function(e,o){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,o,r){t(e);if(void 0===o)return e;switch(r){case 1:return function(r){return e.call(o,r)};case 2:return function(r,t){return e.call(o,r,t)};case 3:return function(r,t,n){return e.call(o,r,t,n)}}return function(){return e.apply(o,arguments)}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js":function(e,o){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,o){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js");e.exports=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")?function(e,o,r){return t.f(e,o,n(1,r))}:function(e,o,r){e[o]=r;return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_html.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js").document;e.exports=t&&t.documentElement},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==t(e)?e.split(""):Object(e)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js":function(e,o,r){"use strict";var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js");var i={};r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js")(i,r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js")("iterator"),function(){return this});e.exports=function(e,o,r){e.prototype=t(i,{next:n(1,r)});s(e,o+" Iterator")}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js":function(e,o,r){"use strict";var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_redefine.js");var i=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js");var a=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js");var u=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js");var l=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js");var d=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js");var c=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js");var m=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js")("iterator");var f=!([].keys&&"next"in[].keys());var b="@@iterator";var p="keys";var _="values";var v=function(){return this};e.exports=function(e,o,r,j,y,h,g){l(r,o,j);var w=function(e){if(!f&&e in O)return O[e];switch(e){case p:return function o(){return new r(this,e)};case _:return function o(){return new r(this,e)}}return function o(){return new r(this,e)}};var E=o+" Iterator";var x=y==_;var S=false;var O=e.prototype;var C=O[m]||O[b]||y&&O[y];var k=C||w(y);var P=y?x?w("entries"):k:void 0;var R="Array"==o&&O.entries||C;var D,I,L;if(R){L=c(R.call(new e));if(L!==Object.prototype&&L.next){d(L,E,true);t||a(L,m)||i(L,m,v)}}if(x&&C&&C.name!==_){S=true;k=function e(){return C.call(this)}}t&&!g||!f&&!S&&O[m]||i(O,m,k);u[o]=k;u[E]=v;if(y){D={values:x?k:w(_),keys:h?k:w(p),entries:P};if(g)for(I in D)I in O||s(O,I,D[I]);else n(n.P+n.F*(f||S),o,D)}return D}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js":function(e,o){e.exports=function(e,o){return{value:o,done:!!e}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js":function(e,o){e.exports={}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dps.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js");e.exports=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperties:function e(o,r){n(o);var i=s(r);var a=i.length;var u=0;var l;while(a>u)t.f(o,l=i[u++],r[l]);return o}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js").concat("length","prototype");o.f=Object.getOwnPropertyNames||function e(o){return t(o,n)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gops.js":function(e,o){o.f=Object.getOwnPropertySymbols},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");var i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=n(e);if(t(e,s))return e[s];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?i:null}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js")(false);var i=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,o){var r=n(e);var a=0;var u=[];var l;for(l in r)l!=i&&t(r,l)&&u.push(l);while(o.length>a)t(r,l=o[a++])&&(~s(u,l)||u.push(l));return u}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function e(o){return t(o,n)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js":function(e,o){o.f={}.propertyIsEnumerable},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js");e.exports=function(e,o){var r=(n.Object||{})[e]||Object[e];var i={};i[e]=o(r);t(t.S+t.F*s(function(){r(1)}),"Object",i)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-proto.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js");var s=function(e,o){n(e);if(!t(o)&&null!==o)throw TypeError(o+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,o,t){try{t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js")(Function.call,r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopd.js").f(Object.prototype,"__proto__").set,2);t(e,[]);o=!(e instanceof Array)}catch(e){o=true}return function e(r,n){s(r,n);o?r.__proto__=n:t(r,n);return r}}({},false):void 0),check:s}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js")("keys");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return t[e]||(t[e]=n(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return function(o,r){var s=String(n(o));var i=t(r);var a=s.length;var u,l;if(i<0||i>=a)return e?"":void 0;u=s.charCodeAt(i);return u<55296||u>56319||i+1===a||(l=s.charCodeAt(i+1))<56320||l>57343?e?s.charAt(i):u:e?s.slice(i,i+2):l-56320+(u-55296<<10)+65536}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js");var n=Math.max;var s=Math.min;e.exports=function(e,o){e=t(e);return e<0?n(e+o,0):s(e,o)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js":function(e,o){var r=Math.ceil;var t=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?t:r)(e)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js");var n=Math.min;e.exports=function(e){return e>0?n(t(e),9007199254740991):0}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(t(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js":function(e,o,r){"use strict";var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js");var i=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js");e.exports=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js")(Array,"Array",function(e,o){this._t=i(e);this._i=0;this._k=o},function(){var e=this._t;var o=this._k;var r=this._i++;if(!e||r>=e.length){this._t=void 0;return n(1)}if("keys"==o)return n(0,r);if("values"==o)return n(0,e[r]);return n(0,[r,e[r]])},"values");s.Arguments=s.Array;t("keys");t("values");t("entries")},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.create.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js");t(t.S,"Object",{create:r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js")})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js");t(t.S+t.F*!r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js"),"Object",{defineProperty:r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js").f})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js");r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js")("getPrototypeOf",function(){return function e(o){return n(t(o))}})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.set-prototype-of.js":function(e,o,r){var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js");t(t.S,"Object",{setPrototypeOf:r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-proto.js").set})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js":function(e,o,r){"use strict";var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js")(true);r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js")(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var o=this._i;var r;if(o>=e.length)return{value:void 0,done:true};r=t(e,o);this._i+=r.length;return{value:r,done:false}})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js":function(e,o,r){r("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js");var t=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js");var n=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js");var s=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js");var i=r("./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js")("toStringTag");var a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var u=0;u<a.length;u++){var l=a[u];var d=t[l];var c=d&&d.prototype;c&&!c[i]&&n(c,i,l);s[l]=s.Array}},"./node_modules/react-sticky/lib/index.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});o.Channel=o.StickyContainer=o.Sticky=void 0;var t=r("./node_modules/react-sticky/lib/sticky.js");var n=l(t);var s=r("./node_modules/react-sticky/lib/container.js");var i=l(s);var a=r("./node_modules/react-sticky/lib/channel.js");var u=l(a);function l(e){return e&&e.__esModule?e:{default:e}}o.Sticky=n.default;o.StickyContainer=i.default;o.Channel=u.default;o.default=n.default},"./space/components/Body/index.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t,n,s;var i=r("./node_modules/react/index.js");var a=f(i);var u=r("./node_modules/aphrodite/no-important.js");var l=r("./styleguide/index.js");var d=r("./space/components/styles/layout.js");var c=m(d);function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);o.default=e;return o}function b(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function p(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function _(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var v=u.StyleSheet.create({body:{width:"100%",minHeight:"100vh",color:l.colors.BLACK,background:l.colors.GREY_LIGHTEST,display:"flex",flexDirection:"column"},bodyWithHeader:(t={},t["@media "+l.MEDIA.SMALLER_THAN_TABLET]={paddingTop:c.default.HEADER_MOBILE_HEIGHT},t),bodyContent:{width:"100%",margin:"0 auto",display:"flex",flex:"1",minHeight:"100%",color:l.colors.GREY_DARKEST}});var j=(s=n=function(e){_(o,e);function o(){b(this,o);return p(this,e.apply(this,arguments))}o.prototype.render=function e(){var o=this.props,r=o.header,t=o.children;return a.createElement("div",{className:(0,u.css)(v.body,r&&v.bodyWithHeader)},r,a.createElement("div",{className:(0,u.css)(v.bodyContent)},t))};return o}(a.Component),n.defaultProps={header:null},s);o.default=j},"./space/components/Content/RouteContent.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t,n,s,i,a,u,l,d,c;var m=r("./node_modules/react/index.js");var f=k(m);var b=r("./node_modules/react-redux/es/index.js");var p=r("./node_modules/react-router-dom/es/index.js");var _=r("./core/index.js");var v=r("./flux/index.js");var j=r("./common/index.js");var y=r("./styleguide/index.js");var h=r("./space/components/Body/index.js");var g=C(h);var w=r("./space/components/Header/index.js");var E=r("./space/skeleton/index.js");var x=r("./space/components/Routing/index.js");var S=r("./space/components/Content/WholeContent.js");var O=C(S);function C(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);o.default=e;return o}function P(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function R(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function D(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var I=(0,x.contentRoutingConnect)(t=function(e){D(o,e);function o(){P(this,o);return R(this,e.apply(this,arguments))}o.prototype.render=function e(){var o=this.props,r=o.contentPath,t=o.contentContext;var n=t.draftID,s=t.revisionID,i=t.pageURL;var a=(0,x.shouldBeRedirected)(r);if(a)return f.createElement(p.Redirect,{to:a});if(void 0==n&&void 0===s&&void 0===i)return f.createElement(g.default,{header:f.createElement(w.Header,{noMenu:true})},f.createElement(j.ErrorPage.NotFound,null));var u={draftID:n,revisionID:s};return f.createElement(j.ScrollToTop,null,f.createElement(L,u))};return o}(f.Component))||t;var L=(n=y.Skeleton.connectToSkeleton(function(e){var o=e.isLoading;return{isShowingPlaceholder:o}}),s=(0,b.connect)(function(e){var o=e.space,r=e.userCanEdit;return{space:o,userCanEdit:r}}),i=v.Connectors.database(function(e){var o=e.isShowingPlaceholder,r=e.space,t=e.draftID,n=e.userCanEdit;var s=o||n;if(!t||!s)return{};return{draft:_.Draft.queryByID({spaceID:r.uid,draftID:t}).defaultsTo(E.mockedDraft)}}),a=v.Connectors.database(function(e){var o=e.space,r=e.draft,t=e.draftID,n=e.revisionID;if(t&&!r)return{};var s=n||r&&r.revisionCurrent||o.primaryRevision;return{revision:_.Revision.queryByID({spaceID:o.uid,revisionID:s}).defaultsTo(E.mockedRevision)}}),u=v.Connectors.database(function(e){var o=e.draft,r=e.revision,t=e.revisionID,n=e.space;if(t)return r&&r.parents.size>0?{ancestorRevision:_.Revision.queryByID({spaceID:n.uid,revisionID:r.parents.first()}).defaultsTo(null)}:{};if(o)return{ancestorRevision:_.Revision.queryByID({spaceID:n.uid,revisionID:o.revisionInitial}).defaultsTo(null)};return{}}),n(l=s(l=i(l=a(l=u(l=(c=d=function(e){D(o,e);function o(){P(this,o);return R(this,e.apply(this,arguments))}o.prototype.render=function e(){var o=this.props,r=o.userCanEdit,t=o.draftID,n=o.draft,s=o.draftFetched,i=o.revision,a=o.revisionFetched,u=o.ancestorRevision,l=o.ancestorRevisionFetched,d=o.isShowingPlaceholder;if(t&&!d&&!r)return f.createElement(g.default,{header:f.createElement(w.Header,{noMenu:true})},f.createElement(x.NeedLogin,null));if(s&&!n||a&&!i||l&&!u)return f.createElement(g.default,{header:f.createElement(w.Header,{noMenu:true})},f.createElement(j.ErrorPage.NotFound,null));return f.createElement(O.default,{revision:i,draft:n,ancestorRevision:u})};return o}(f.Component),d.defaultProps={draftID:void 0,revisionID:void 0},c))||l)||l)||l)||l)||l);o.default=I},"./space/components/Content/WholeContent.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t,n,s,i,a,u,l;var d=r("./node_modules/react/index.js");var c=V(d);r("./node_modules/immutable/dist/immutable.js");var m=r("./node_modules/react-redux/es/index.js");var f=r("./node_modules/react-router-dom/es/index.js");var b=r("./node_modules/aphrodite/no-important.js");var p=r("./node_modules/react-sticky/lib/index.js");var _=r("./flux/index.js");var v=r("./common/index.js");var j=r("./core/index.js");var y=r("./styleguide/index.js");var h=r("./space/models/StateEdition.js");var g=G(h);var w=r("./space/actions/edition.js");var E=r("./space/components/utils/BeforeUnload.js");var x=G(E);var S=r("./space/components/Header/index.js");var O=r("./space/components/Body/index.js");var C=G(O);var k=r("./space/components/ControlsBar/index.js");var P=G(k);var R=r("./space/components/Content/ConflictsPopup/index.js");var D=G(R);var I=r("./space/components/Routing/index.js");var L=r("./space/components/Content/ContentNavigation.js");var T=G(L);var M=r("./space/components/AssetsManager/index.js");var B=G(M);var U=r("./space/components/Page/WholePage.js");var A=G(U);var H=r("./space/components/Content/IntercomWidget.js");var N=G(H);function G(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);o.default=e;return o}function F(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function W(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function q(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var Y="content/";var z="You have unsaved changes, are you sure you want to discard them?";var K=function(e){q(o,e);function o(){F(this,o);return W(this,e.apply(this,arguments))}o.prototype.render=function e(){return c.createElement(C.default,{header:c.createElement(S.Header,null)},c.createElement(v.GAProvider.TrackView,null,c.createElement(v.ErrorPage.NotFound,null)))};return o}(c.Component);var J=(t=y.Skeleton.connectToSkeleton(function(e){var o=e.isLoading;return{isShowingPlaceholder:o}}),n=(0,m.connect)(function(e,o){var r=e.space,t=e.edition,n=e.userCanEdit,s=e.diff;var i=o.revision,a=o.ancestorRevision,u=o.contentContext,l=o.isShowingPlaceholder;var d=t.revision||i;var c=u.versionID?d.versions.get(u.versionID):d.primaryVersion;var m=c&&c.page.getByURL(u.pageURL);if(l){c||(c=d.primaryVersion);m||(m=c.page)}var f=void 0;s.active&&!t.isEditing&&a&&m&&(f=Q({revision:d,ancestorRevision:a,version:c,page:m}));var b=t.getConflictsState();return{space:r,edition:t,workingRevision:d,page:m,userCanEdit:n,diffs:f,conflicts:b,version:c}}),s=_.Connectors.database(function(e){var o=e.space,r=e.page,t=e.version,n=e.edition,s=e.contentContext,i=e.isShowingPlaceholder;if(i||r||!t||n.isEditing)return{};return{pageRedirect:j.PageRedirect.queryByURL({spaceID:o.uid,versionID:t.uid,url:s.pageURL}).setOptions({waitFetched:false,optimistic:false})}}),i=y.Skeleton.connectToSkeleton(function(e){var o=e.isLoading;return{isShowingPlaceholder:o}}),(0,I.contentRoutingConnect)(a=t(a=n(a=s(a=i(a=(0,f.withRouter)(a=(l=u=function(e){q(o,e);function o(){var r,t,n;F(this,o);for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=(r=(t=W(this,e.call.apply(e,[this].concat(i))),t),t.onHistoryLeave=function(e){var o=t.props,r=o.contentContext,n=o.edition;if(e.state&&e.state.ignoreTransition)return null;var s=(0,I.getContentContext)(e.pathname);var i=r.editing&&!s.editing;var a=r.draftID!==s.draftID||r.revisionID!==s.revisionID;var u=n.hasChanges&&!(0,v.isModal)(e)&&(i||a);if(u)return z;return null},t.onBeforeUnload=function(){var e=t.props.edition;if(e.hasChanges)return z;return null},r),W(t,n)}o.prototype.componentDidMount=function e(){var o=this.props,r=o.contentContext,t=o.revision,n=o.dispatch;var s=this.props,i=s.history,a=s.isShowingPlaceholder;this.unblockHistory=i.block(this.onHistoryLeave);!a&&r.editing&&n((0,w.start)(t))};o.prototype.componentDidUpdate=function e(o){this.updateURL(o);this.updateEditingState(o)};o.prototype.componentWillUnmount=function e(){this.unblockHistory()};o.prototype.updateEditingState=function e(o){var r=this.props,t=r.dispatch,n=r.isShowingPlaceholder,s=r.revision,i=r.contentContext,a=r.edition,u=r.navigate;var l=Boolean(i.editing);var d=Boolean(a.isEditing);var c=o.edition.isEditing;if(n)return;if(l==d)return;var m=d!==c;if(l&&!d)m?u({toEdit:false}):t((0,w.start)(s));else if(!l&&d)if(m&&i.draftID)u({toEdit:true});else{t((0,w.discard)());o.draft&&t((0,w.cleanupDraftLeftover)(o.draft))}};o.prototype.updateURL=function e(o){var r=this.props,t=r.isShowingPlaceholder,n=r.version,s=r.contentContext,i=r.page,a=r.navigate;if(t||n===o.version||s.pageURL!==o.contentContext.pageURL||i||null==o.page)return;if(null==n){a({toPrimaryVersion:true});return}var u=n.page.getByID(o.page.uid);if(u){a({toPage:n.page.getURLOf(u)});return}var l=n.page.getParentOf(o.page);if(l&&l.isDocument){a({toPage:n.page.getURLOf(l)});return}a({toRootPage:true})};o.prototype.render=function e(){var r;var t=o.STYLES;var n=this.props,s=n.edition,i=n.space,a=n.revision,u=n.draft,l=n.workingRevision,d=n.page,m=n.version,_=n.userCanEdit,j=n.diffs,h=n.conflicts,g=n.pageRedirect,w=n.pageRedirectFetched,E=n.contentContext,O=n.isShowingPlaceholder;var k=s.isEditing;var R=!k;if(g){var L=m.page.getByID(g.pageID);if(!L)return c.createElement(K,null);var M=m.page.getURLOf(L);return c.createElement(f.Redirect,{to:(0,I.getContentRoute)(E,{toPage:M})})}if(!d&&E.pageURL.startsWith(Y)){var U=E.pageURL.slice(Y.length);return c.createElement(f.Redirect,{to:(0,I.getContentRoute)(E,{toPage:U})})}if(false!==w){if(!d)return c.createElement(K,null);if(d.isGroup){var H=d.pages.find(function(e){return e.isDocument});if(H)return c.createElement(f.Redirect,{to:(0,I.getContentRoute)(E,{toPage:m.page.getURLOf(H)})});return c.createElement(K,null)}}if(!O&&E.editing&&!_)return c.createElement(f.Redirect,{to:"/"+E.pageURL});if(!O&&E.editing&&!(u&&u.isOpened))return c.createElement(f.Redirect,{to:(0,I.getContentRoute)(E,{toEdit:false})});var G=j||{},V=G.ancestorPage,F=G.versionDiffs,W=G.pageRootDiff;var q=d&&h&&h.getConflict(m,d);return c.createElement(C.default,{header:c.createElement(S.Header,{readOnly:R})},c.createElement(x.default,{onBeforeUnload:this.onBeforeUnload}),c.createElement(y.PlaceholderInteractionBlocker,{styles:[t.wholeContent]},c.createElement(p.StickyContainer,{className:(0,b.css)(t.wholeContentBody)},c.createElement(T.default,{readOnly:R,draft:u,currentPage:d,workingRevision:l,version:m,versionDiffs:F,pageRootDiff:W}),d&&c.createElement(v.GAProvider.TrackView,{dimensions:(r={},r[v.GAProvider.DIMENSIONS.REVISION]=a.uid,r[v.GAProvider.DIMENSIONS.VERSION]=m&&m.uid,r[v.GAProvider.DIMENSIONS.PAGE]=d.uid,r)},c.createElement(A.default,{page:d,readOnly:R,revision:a,version:m,pageToDiff:V,pageConflict:q,workingRevision:l}))),c.createElement(P.default,{draft:u,revision:a}),c.createElement(D.default,{revision:a}),i.intercomID&&!_&&c.createElement(N.default,{appID:i.intercomID}),!R&&c.createElement(B.default,{revision:l})))};return o}(c.Component),u.defaultProps={pageURL:"/",draft:void 0,page:void 0},u.STYLES=b.StyleSheet.create({wholeContent:{width:"100%",minHeight:"100%",position:"relative",display:"flex",flexDirection:"column"},wholeContentBody:{flex:"1",display:"flex",alignItems:"stretch",transition:"margin-bottom ease 200ms"}}),l))||a)||a)||a)||a)||a)||a);function Q(e){var o=e.revision,r=e.ancestorRevision,t=e.version,n=e.page;var s=o.diffVersions(r);var i=void 0;if(t){var a=t.uid;var u=s.find(function(e){return e.uid===a});i=u&&u.original}var l=void 0;var d=void 0;if(t&&i){l=o.diffPages(i.page,t.page);if(n){var c=l.findByID(n.uid);d=c&&c.original}}return{versionDiffs:s,ancestorVersion:i,pageRootDiff:l,ancestorPage:d}}o.default=J},"./space/components/ControlsBar/index.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t=r("./space/components/ControlsBar/ControlsBar.js");Object.defineProperty(o,"default",{enumerable:true,get:function e(){return n(t).default}});function n(e){return e&&e.__esModule?e:{default:e}}},"./space/components/Header/index.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});o.Header=void 0;var t=r("./space/components/Header/Header.js");var n=s(t);function s(e){return e&&e.__esModule?e:{default:e}}o.Header=n.default},"./space/components/utils/BeforeUnload.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t=r("./node_modules/react/index.js");var n=s(t);function s(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);o.default=e;return o}function i(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function a(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function u(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var l=function(e){u(o,e);function o(){var r,t,n;i(this,o);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=(r=(t=a(this,e.call.apply(e,[this].concat(u))),t),t.onBeforeUnload=function(e){var o=t.props.onBeforeUnload;var r=o(e);if(null==r)return null;e.returnValue=r;return r},r),a(t,n)}o.prototype.componentDidMount=function e(){window.addEventListener("beforeunload",this.onBeforeUnload)};o.prototype.componentWillUnmount=function e(){window.removeEventListener("beforeunload",this.onBeforeUnload)};o.prototype.render=function e(){return null};return o}(n.Component);o.default=l},"./space/models/StateEdition.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t=function(){function e(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||false;t.configurable=true;"value"in t&&(t.writable=true);Object.defineProperty(e,t.key,t)}}return function(o,r,t){r&&e(o.prototype,r);t&&e(o,t);return o}}();var n=r("./node_modules/immutable/dist/immutable.js");var s=r("./node_modules/immutable-undo/dist/index.js");var i=d(s);var a=r("./node_modules/warning/browser.js");var u=d(a);var l=r("./core/index.js");function d(e){return e&&e.__esModule?e:{default:e}}function c(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function m(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function f(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var b=5e3;var p=function(e){f(o,e);function o(){c(this,o);return m(this,e.apply(this,arguments))}o.prototype.start=function e(o,r){return this.merge({history:new i.default,lastSnapshot:Date.now(),working:l.WorkingState.createFromBase(o,r)})};o.prototype.startConflictResolution=function e(o){return this.merge({history:new i.default,lastSnapshot:Date.now(),working:o,beforeConflicts:this})};o.prototype.cancelConflictResolution=function e(o){var r=this.beforeConflicts;return r?r.set("beforeConflicts",null):this};o.prototype.restore=function e(o){return this.merge({history:new i.default,lastSnapshot:Date.now(),working:o})};o.prototype.discard=function e(){return this.merge({working:null})};o.prototype.push=function e(o){return this.merge({working:o,history:this.history.push(this.working)})};o.prototype.undo=function e(){var o=this.history,r=this.working;if(!this.canUndo)return this;return this.merge({history:o.undo(r),working:o.previous})};o.prototype.redo=function e(){var o=this.history,r=this.working;if(!this.canRedo)return this;return this.merge({history:o.redo(r),working:o.next})};o.prototype.getConflictsState=function e(){return this.working&&this.working.conflicts};o.prototype.getPageConflict=function e(o,r){var t=this.getConflictsState();return t&&t.getConflict(o,r)};o.prototype.isPageResolved=function e(o,r){var t=this.getConflictsState();if(!t)return true;var n=this.working.documents.getEditorState(o,r);return t.isPageResolved(o,r,n&&n.document)};o.prototype.areConflictsResolved=function e(){var o=this;var r=this.getConflictsState();return!r||this.working.revision.versions.every(function(e){return e.page.toFlatMap().every(function(r){return o.isPageResolved(e,r)})})};o.prototype.markPageAsResolved=function e(o,r,t){if(!this.working)return this;return this.push(this.working.change().markAsResolved(o,r,t).state)};o.prototype.toggleShowingOnlyConflicts=function e(){var o=this.working;if(!o)return this;return this.merge({working:o.change().toggleShowingOnlyConflicts().state})};o.prototype.setEditorState=function e(o,r,t,n){var s=this.history,i=this.working,a=this.lastSnapshot;if(!i){(0,u.default)(false,"StateEdition.setEditorState was called despite working state being missing.");return this}var l=i.documents.getEditorState(o,r);var d=!l;var c=!d&&n.document!==t.document;var m=n.history!==t.history&&(n.history.undos.count()!==t.history.undos.count()||n.history.redos.count()!==t.history.redos.count());var f=Date.now();var p=f-a>b;var _=c&&(m||p);return this.merge({working:i.change().setEditedState(o,r,n).state,history:_?s.push(l?i:i.change().clearEditedDocument(o,r).state):s,lastSnapshot:_?f:a})};t(o,[{key:"revision",get:function e(){return this.working?this.working.revision:null}},{key:"isEditing",get:function e(){return Boolean(this.working)}},{key:"isResolvingConflicts",get:function e(){return Boolean(this.getConflictsState())}},{key:"isShowingOnlyConflicts",get:function e(){var o=this.getConflictsState();return Boolean(o&&o.showingOnlyConflicts)}},{key:"canUndo",get:function e(){return this.history.canUndo}},{key:"canRedo",get:function e(){return this.history.canRedo}},{key:"hasChanges",get:function e(){return this.isEditing&&(this.canRedo||this.canUndo)}}]);return o}((0,n.Record)({working:null,history:new i.default({strategy:i.default.smooth}),lastSnapshot:Date.now(),beforeConflicts:null}));o.default=p}});
//# space-part-08.b1c6e255.js.map