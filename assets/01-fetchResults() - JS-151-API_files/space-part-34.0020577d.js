webpackJsonp([26],{"./core/diffing/merge.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mergeLeafsProperty=void 0;var n=r("./node_modules/immutable/dist/immutable.js");var o=r("./core/diffing/DiffChange.js");var i=c(o);var s=r("./core/diffing/Patch.js");var a=c(s);var u=r("./core/diffing/MergeConflict.js");var l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,n){var o=i.default.computeDiff(e,t,n),s=o.changes;var u=i.default.computeDiff(e,r,n),l=u.changes;var c=a.default.createFromDiffs(s);var f=a.default.createFromDiffs(l);var d=p(c,f,n.mergeLeafs),h=d.patches,_=d.conflicts;var m=a.default.applyPatches(e,h,n);return{result:m,conflicts:_}}function d(e,t,r,o){return t&&(0,n.is)(t[e],r[e])?o[e]:r[e]}function p(e,t,r){var o=(0,n.Set)(e.keySeq());var i=(0,n.Set)(t.keySeq());var s=[];var a=(0,n.OrderedMap)(o.intersect(i).toList().map(function(n){var o=e.get(n);var i=t.get(n);var a=h(o,i,r),u=a.patch,c=a.isConflict;c&&s.push(new l.default({head:o,base:i}));return[n,u]}));var u=(0,n.OrderedMap)().merge(e).merge(t).merge(a);var c=u.map(function(e){if(e.isRemove)return e.path.push(e.uid);if(e.isMove)return e.movedFrom;return false}).filter(Boolean);var f=u.filterNot(function(e){var t=c.some(function(t){return e.path.isSuperset(t)});return t});return{patches:f,conflicts:(0,n.List)(s)}}function h(e,t,r){if(e.isRemove&&t.isPureMove)return{patch:e,isConflict:false};if(t.isRemove&&e.isPureMove)return{patch:t,isConflict:false};if(e.isRemove)return{patch:t,isConflict:!t.isRemove};if(t.isRemove)return{patch:e,isConflict:!e.isRemove};if(e.isAdd&&t.isAdd)return{patch:e,isConflict:true};var n=void 0;n=t.isMove&&!e.isMove?t:e;var o=!t.isPureMove;var i=!e.isPureMove;var s=e.before||t.before;n=i&&o?n.merge({value:r(s,e.value,t.value),isSelfModified:true}):!i&&o?n.merge({value:t.value,isSelfModified:true}):n.merge({value:e.value,isSelfModified:e.isSelfModified});var a=i&&o||e.isRemove||t.isRemove||e.isAdd||t.isAdd;return{patch:n,isConflict:a}}t.default=f;t.mergeLeafsProperty=d},"./core/diffing/mergeDocuments.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r("./node_modules/@gitbook/slate/lib/slate.es.js");var i=r("./node_modules/immutable/dist/immutable.js");var s=r("./core/diffing/merge.js");var a=c(s);var u=r("./core/edition/index.js");var l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f={getIdentifier:function e(t){return t.key},isVariant:function e(t,r){return t.key==r.key},isEqual:function e(t,r){if(t.type!=r.type||t.object!=r.object||!h(t.data,r.data))return false;if(l.default.Conflict.isConflictContainer(t))return true;if("inline"===t.object||"block"===t.object)return t.nodes.size===r.nodes.size&&t.nodes.every(function(t,n){return e(t,r.nodes.get(n))});if("text"===t.object)return p(t,r);return true},hasChildren:function e(t){return l.default.Conflict.isConflictContainer(t)},getChildren:function e(t){return t.nodes},getThreshold:function e(t,r){return 0}};var d=n({},f,{setChildren:function e(t,r){return t.set("nodes",r)},mergeLeafs:function e(t,r,n){return r.merge({data:(0,s.mergeLeafsProperty)("data",t,r,n)})}});function p(e,t){if(e===t)return true;var r=e.getLeaves();var n=t.getLeaves();return r.size===n.size&&r.every(function(e,t){var r=n.get(t);return e.text===r.text&&(0,i.is)(e.marks,r.marks)})}function h(e,t){if(e===t)return true;if(!e||!t)return false;return(0,i.is)((0,i.fromJS)(e.toJS()),(0,i.fromJS)(t.toJS()))}function _(e,t,r){var n=(0,a.default)(e.nodes,t.nodes,r.nodes,d),o=n.result,i=n.conflicts;var s=e.merge({nodes:o});return m(s,i)}function m(e,t){var r=o.Value.create({document:e}).change();t.forEach(function(e){var t=e.head;var n=t.uid;var o=r.value.document.getParent(n);var i=o.nodes.findIndex(function(e){return e.key===n});r.removeNodeByKey(n,{normalize:false});v(r,e,"base",o,i);v(r,e,"head",o,i+1)});return r.value.document}function v(e,t,r,n,o){var i=t[r];var s=i.isRemove?i.before:i.value;var a=l.default.Conflict.annotateBlock(s,t,r);return e.insertNodeByKey(n.key,o,a,{normalize:false})}t.default=_},"./core/diffing/pages.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.diffPages=t.mergePages=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r("./node_modules/immutable/dist/immutable.js");var i=r("./core/diffing/DiffChange.js");var s=l(i);var a=r("./core/diffing/merge.js");var u=l(a);function l(e){return e&&e.__esModule?e:{default:e}}var c={getIdentifier:function e(t){return t.uid},isVariant:function e(t,r){return t.uid==r.uid},isEqual:function e(t,r){return t.compare(r)},hasChildren:function e(t){return t.isDocument||t.isGroup},getChildren:function e(t){return t.pages},getThreshold:function e(t,r){return 0}};var f=n({},c,{setChildren:function e(t,r){return t.merge({pages:r})},mergeLeafs:function e(t,r,n){return r.merge({title:(0,a.mergeLeafsProperty)("title",t,r,n),description:(0,a.mergeLeafsProperty)("description",t,r,n),documentURL:(0,a.mergeLeafsProperty)("documentURL",t,r,n),href:(0,a.mergeLeafsProperty)("href",t,r,n),path:(0,a.mergeLeafsProperty)("path",t,r,n)})}});function d(e,t){var r=s.default.computeDiff((0,o.List)([e]),(0,o.List)([t.merge({uid:e.uid})]),c),n=r.changes;return n.get(0)}function p(e,t,r){var n=(0,u.default)((0,o.List)([e]),(0,o.List)([t.merge({uid:e.uid})]),(0,o.List)([r.merge({uid:e.uid})]),f),i=n.result,s=n.conflicts;return{page:i.first(),conflicts:s}}t.mergePages=p;t.diffPages=d},"./core/diffing/toDiffEditorState.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r("./node_modules/@gitbook/slate/lib/slate.es.js");var o=r("./node_modules/immutable/dist/immutable.js");var i=r("./core/constants/DOC_BLOCKS.js");var s=f(i);var a=r("./core/constants/DOC_MARKS.js");var u=f(a);var l=r("./core/diffing/DiffChange.js");var c=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var d={added:u.default.DIFF_ADDED,removed:u.default.DIFF_REMOVED,modified:u.default.DIFF_MODIFIED,identical:void 0};function p(e){return n.Value.create({document:n.Document.create({nodes:h(e)})})}function h(e){return e.map(function(e){var t=e.getMostRecent().object;switch(t){case"block":return _(e);case"inline":return m(e);case"text":return b(e);default:throw new Error("Unknown object "+t)}})}function _(e){var t=e.getMostRecent();var r=g(t,e);if(e.type===c.default.TYPES.IDENTICAL)return e.modified;if(e.type===c.default.TYPES.MODIFIED&&!e.isSelfModified&&t.type!==s.default.CODE_TAB)return r;switch(t.type){case s.default.TABLE_ROW:case s.default.TABLE_CELL:case s.default.CODE_LINE:return y(r,e.type);case s.default.CODE_TAB:if(e.type===c.default.TYPES.MODIFIED)return y(r,e.type);return y(r.set("nodes",r.nodes.map(function(t){return y(t,e.type)})),e.type);case s.default.LIST_ITEM:if(e.type===c.default.TYPES.MODIFIED)return r;return x(r,e.type);default:break}return v(r,e.type)}function m(e){var t=e.getMostRecent();var r=g(t,e);if(e.type===c.default.TYPES.IDENTICAL)return e.modified;if(e.type===c.default.TYPES.MODIFIED&&!e.isSelfModified)return r;return x(r,e.type)}function v(e,t){return n.Block.create({type:s.default.DIFF_BLOCK,data:n.Data.create({type:t}),nodes:(0,o.List)([e])})}function y(e,t){return e.set("data",e.data.merge({diff:t}))}function g(e,t){return e.set("nodes",t.isChildrenModified()?h(t.children):e.nodes)}function b(e){switch(e.type){case c.default.TYPES.IDENTICAL:return e.modified;case c.default.TYPES.ADDED:case c.default.TYPES.REMOVED:return P(e.getMostRecent(),e.type);case c.default.TYPES.MODIFIED:return n.Text.create({leaves:e.children.map(j)});default:throw new Error("Invalid diff")}}function j(e){var t=e.getMostRecent();if(e.type===c.default.TYPES.IDENTICAL)return t;return t.set("marks",t.marks.add(n.Mark.create({type:d[e.type]})))}function x(e,t){return e.mapDescendants(function(e){if("text"===e.object)return P(e,t);return e})}function P(e,t){return e.addMark(0,e.text.length,n.Mark.create({type:d[t]})).set("key",t+"-"+e.key)}t.default=p},"./core/diffing/versions.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mergeVersions=t.diffVersions=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r("./node_modules/immutable/dist/immutable.js");var i=r("./core/models/Page.js");var s=d(i);var a=r("./core/diffing/DiffChange.js");var u=d(a);var l=r("./core/diffing/merge.js");var c=d(l);var f=r("./core/diffing/pages.js");function d(e){return e&&e.__esModule?e:{default:e}}var p={getIdentifier:function e(t){return t.uid},isVariant:function e(t,r){return t.uid==r.uid},isEqual:function e(t,r){return(0,o.is)(t,r)},hasChildren:function e(t){return false},getChildren:function e(t){return(0,o.List)()},getThreshold:function e(t,r){return.3}};function h(e,t){return u.default.computeDiff(e.toList(),t.toList(),p).changes}function _(e,t,r){var i={};var a=n({},p,{setChildren:function e(t,r){return t},mergeLeafs:function e(t,r,n){var o=t?t.page:s.default.create({uid:r.uid});var a=(0,f.mergePages)(o,r.page,n.page),u=a.page,c=a.conflicts;c.size>0&&(i[r.uid]=c);return r.merge({title:(0,l.mergeLeafsProperty)("title",t,r,n),page:u})}});var u=(0,c.default)(e.toList(),t.toList(),r.toList(),a),d=u.result;return{versions:(0,o.OrderedMap)(d.map(function(e){return[e.uid,e]})),conflicts:(0,o.Map)(i)}}t.diffVersions=h;t.mergeVersions=_},"./core/models/DocumentStats.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i,s;var a=r("./node_modules/immutable/dist/immutable.js");r("./node_modules/@gitbook/slate/lib/slate.es.js");var u=r("./node_modules/word-count/index.js");var l=d(u);var c=r("./core/constants/DOC_BLOCKS.js");var f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(s=i=function(e){_(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.create=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;return new t(n({},r))};t.deserialize=function e(r){return t.create(n({},r))};t.prototype.serialize=function e(){return{words:this.words,images:this.images,codeLines:this.codeLines,revisions:this.revisions}};t.createFromDocument=function e(r){return t.create().updateFromDocument(r)};t.prototype.updateFromDocument=function e(t){var r=[f.default.HEADING_1,f.default.HEADING_2,f.default.HEADING_3,f.default.PARAGRAPH,f.default.LIST_ITEM];var n=t.getBlocks().reduce(function(e,t){if(r.indexOf(t.type)>=0)return e+(0,l.default)(t.getText());return e},0);return this.merge({words:n,images:t.getBlocksByType(f.default.IMAGE).count(),codeLines:t.getBlocksByType(f.default.CODE_LINE).count()})};t.prototype.incrementRevisions=function e(){return this.merge({revisions:this.revisions+1})};o(t,[{key:"estimatedReadingTime",get:function e(){var r=0;for(var n=0;n<this.images;n+=1){var o=t.TIME_PER_IMAGE_MAX-n;r+=o>t.TIME_PER_IMAGE_MIN?o:t.TIME_PER_IMAGE_MIN}var i=this.words*t.TIME_PER_WORD;var s=r;var a=this.codeLines*t.TIME_PER_CODE_LINE;return i+s+a}}]);return t}((0,a.Record)({words:0,images:0,codeLines:0,revisions:0})),i.TIME_PER_WORD=60/275,i.TIME_PER_CODE_LINE=2,i.TIME_PER_IMAGE_MAX=12,i.TIME_PER_IMAGE_MIN=3,s);t.default=m},"./core/models/GitHubFileState.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r("./node_modules/immutable/dist/immutable.js");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(e){s(t,e);function t(){o(this,t);return i(this,e.apply(this,arguments))}t.create=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;return new t(r)};t.deserialize=function e(r){return t.create(r)};t.prototype.serialize=function e(){return{sha:this.sha,filePath:this.filePath}};return t}((0,n.Record)({sha:"",filePath:""}));t.default=a},"./core/models/Page.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i,s;var a=r("./node_modules/warning/browser.js");var u=j(a);var l=r("./node_modules/limax/lib/limax.js");var c=j(l);var f=r("./node_modules/is-absolute-url/index.js");var d=j(f);var p=r("./node_modules/immutable/dist/immutable.js");var h=r("./node_modules/immutablejs-record-memoize/dist/index.js");var _=j(h);var m=r("./core/models/DocumentStats.js");var v=j(m);var y=r("./core/models/GitHubFileState.js");var g=j(y);var b=r("./core/models/database/index.js");function j(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O="document";var M="link";var D="group";var E=(s=i=function(e){w(t,e);function t(){x(this,t);return P(this,e.apply(this,arguments))}t.isValidTitle=function e(r){return r.length>0&&r.length<t.TITLE_LIMIT};t.isValidHref=function e(t){return(0,d.default)(t)};t.create=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;var n=r.kind;null==n&&(n=r.href&&!r.documentURL?M:O);if(n===O)return t.createDocument(r);if(n===D)return t.createGroup(r);if(n===M)return t.createLink(r);throw new Error('Cannot create Page of unknown kind "'+n+'"')};t.createDocument=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;(0,u.default)(!r.href,'Page of kind "'+O+'" must not have a href');return new t({pages:(0,p.List)(r.pages||[]).map(function(e){return t.create(e)}),isPathUntouched:null!=r.isPathUntouched&&r.isPathUntouched,kind:O,uid:r.uid||(0,b.genKey)(),title:t.normalizeTitle(r.title||""),description:t.normalizeDescription(r.description||""),createdAt:new Date(r.createdAt||Date.now()),lastModifiedAt:new Date(r.lastModifiedAt||Date.now()),modifiedBy:(0,p.OrderedSet)(r.modifiedBy||[]),github:r.github?g.default.create(r.github):null,path:t.normalizePath(r.path||r.title||""),documentURL:r.documentURL||null,stats:v.default.create(r.stats||{})})};t.createLink=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;(0,u.default)(!r.documentURL,'Page of kind "'+M+'" must not have a documentURL');(0,u.default)(0===(0,p.List)(r.pages||[]).size,'Page of kind "'+M+'" must not have children pages');return new t({kind:M,uid:r.uid||(0,b.genKey)(),title:t.normalizeTitle(r.title||""),href:r.href,createdAt:new Date(r.createdAt||Date.now()),lastModifiedAt:new Date(r.lastModifiedAt||Date.now()),modifiedBy:(0,p.OrderedSet)(r.modifiedBy||[]),github:r.github?g.default.create(r.github):null})};t.createGroup=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;(0,u.default)(!r.href,'Page of kind "'+D+'" must not have a href');(0,u.default)(!r.documentURL,'Page of kind "'+D+'" must not have a documentURL');return new t({pages:(0,p.List)(r.pages||[]).map(function(e){return t.create(e)}),isPathUntouched:null!=r.isPathUntouched&&r.isPathUntouched,kind:D,uid:r.uid||(0,b.genKey)(),title:t.normalizeTitle(r.title||""),description:t.normalizeDescription(r.description||""),createdAt:new Date(r.createdAt||Date.now()),lastModifiedAt:new Date(r.lastModifiedAt||Date.now()),modifiedBy:(0,p.OrderedSet)(r.modifiedBy||[]),github:r.github?g.default.create(r.github):null,path:t.normalizePath(r.path||r.title||"","")})};t.createUntitled=function e(){return t.create({title:"Untitled",isPathUntouched:true})};t.deserializeTree=function e(r){var o=function e(t,r){return n({},t,{pages:(t.pages||[]).map(function(e){return r[e]}).map(function(t){return e(t,r)})})};return t.deserialize(o(r.pages[r.entryPage],r.pages))};t.deserialize=function e(r){return t.create(n({},r,{pages:(r.pages||[]).map(function(e){return t.deserialize(e)}),github:"document"===r.kind&&r.github?g.default.deserialize(r.github):null,stats:r.stats?v.default.deserialize(r.stats):null}))};t.prototype.serializeTree=function e(){return{entryPage:this.uid,pages:this.toFlatMap().map(function(e){return e.serialize()}).toObject()}};t.prototype.serialize=function e(){return{uid:this.uid,kind:this.kind,title:this.title,path:this.path,href:this.href,description:this.description,documentURL:this.documentURL,createdAt:this.createdAt.getTime(),lastModifiedAt:this.lastModifiedAt.getTime(),modifiedBy:this.modifiedBy.toArray(),github:this.isDocument&&this.github?this.github.serialize():null,stats:this.stats?this.stats.serialize():null,pages:this.pages.isEmpty()?null:this.pages.map(function(e){return e.uid}).toArray()}};t.prototype.regenerateUID=function e(){return this.merge({uid:(0,b.genKey)()})};t.prototype.toJSON=function e(){var t=this.toObject();t.pages=t.pages.toArray().map(function(e){return e.toJSON()});return t};t.prototype.compare=function e(t){return this.uid===t.uid&&this.title===t.title&&this.description===t.description&&this.path===t.path&&this.href===t.href&&this.documentURL===t.documentURL};t.prototype.toFlatMap=function e(){var t;return this.pages.reduce(function(e,t){return e.merge(t.toFlatMap())},(0,p.OrderedMap)((t={},t[this.uid]=this,t)))};t.prototype.toFlatArray=function e(){return this.toFlatMap().toArray()};t.prototype.toGitHubPathsMap=function e(){return this.toFlatMap().filter(function(e){return!!e.github}).mapEntries(function(e){var t=e[0],r=e[1];return[r.github.filePath,t]}).toMap()};t.prototype.getParentMap=function e(){var t=this.toFlatMap();var r={};t.forEach(function(e){return e.pages.forEach(function(t){r[t.uid]=e.uid})});return(0,p.Map)(r)};t.prototype.getURLMap=function e(){var t=this;var r=this.toFlatMap();var n={};r.forEach(function(e){if(e.isGroup||e.isLink)return;var r=t.getURLOf(e);"string"==typeof r&&(n[r]=e.uid)});return(0,p.Map)(n)};t.prototype.getByID=function e(t){return this.findPage(function(e){var r=e.uid;return r===t})};t.prototype.findPage=function e(t){if(t(this))return this;return this.toFlatMap().find(function(e){return t(e)})||null};t.prototype.findClosestDocumentPage=function e(t,r){var n=this.getFlatIndex(t);var o=this.getPageAtFlatIndex(n+r);if(!o)return null;if("document"===o.kind)return o;return this.findClosestDocumentPage(o,r)};t.prototype.getByURL=function e(t){var r=t.replace(/^\//,"").split("/");if(!r[0])return this;var n=r[0];var o=r.slice(1).join("/");var i=this.pages.find(function(e){return e.path===n});if(!i)return null;return i.getByURL(o)};t.prototype.getChildAt=function e(t){var r=this.pages;return r.get(t)};t.prototype.getIndexOf=function e(t){return this.pages.findIndex(function(e){return e.uid==t.uid})};t.prototype.getChild=function e(t){var r=this.pages;return r.find(function(e){return e.path===t})};t.prototype.getNewPath=function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var o="-"+n;var i=n>0?""+r.slice(0,t.PATH_LIMIT-o.length)+o:r;if(this.getChild(i))return this.getNewPath(r,n+1);return i};t.prototype.getParentsOf=function e(t){var r=this.toFlatMap();var n=this.getParentMap();if(!r.get(t.uid))return null;var o=r.get(n.get(t.uid));var i=new p.List;while(o){i=i.unshift(o);o=r.get(n.get(o.uid))}return i};t.prototype.getParentOf=function e(t){var r=this.getParentsOf(t);return r?r.last():null};t.prototype.getFlatIndex=function e(t){return this.toFlatMap().toList().indexOf(t)};t.prototype.getPageAtFlatIndex=function e(t){var r=this.toFlatMap().toList();if(t<0||t>=r.size)return null;return r.get(t)};t.prototype.getURLOf=function e(t){if(t.isLink)throw new Error('Cannot .getURLOf() a page with kind "'+t.kind+'"');var r=this.getParentsOf(t);if(!r)return null;return r.push(t).shift().map(function(e){return e.path}).join("/")};t.prototype.getURLOfParentOf=function e(t){var r=this.getParentsOf(t);if(!r)return null;return r.shift().map(function(e){return e.path}).join("/")};t.prototype.getURLRelativeTo=function e(t){if(this.isLink)throw new Error('Cannot .getURLRelativeTo() a page with kind "'+this.kind+'"');if(!this.path)throw new Error('Missing path for page with kind "'+this.kind+'"');if(!this.path)throw new Error("Missing path to getURLRelativeTo() for page "+this.uid+' of kind "'+this.kind+'"');if(t)return t+"/"+this.path;return this.path};t.prototype.hasChildPage=function e(t){return this.hasChildPageWith(t,function(e,t){return e.uid==t.uid})};t.prototype.hasChildPageWith=function e(t,r){return this.pages.some(function(e){return r(e,t)})};t.prototype.hasPage=function e(t){return Boolean(this.getByID(t.uid))};t.prototype.markAsModifiedBy=function e(t){return this.merge({lastModifiedAt:new Date,modifiedBy:(0,p.OrderedSet)([t.uid]).concat(this.modifiedBy),stats:this.stats&&this.stats.incrementRevisions()})};t.prototype.setPage=function e(t){return this.updatePage(t,function(e){return t})};t.prototype.updatePage=function e(t,r){var n="string"==typeof t?t:t.uid;var o=false;var i=function e(t){if(o)return t;if(t.uid===n){o=true;return r(t)}return t.merge({pages:t.pages.map(e)})};return i(this)};t.prototype.updateChildPage=function e(t){return this.set("pages",this.pages.map(function(e){return e.uid===t.uid?t:e}))};t.prototype.updatePagePath=function e(r,n){var o=r.uid;return this.updatePage(o,function(e){return e.merge({path:t.normalizePath(n),isPathUntouched:false})})};t.prototype.updatePageTitle=function e(r,n){var o=t.normalizeTitle(n);if(!o)return this;var i=t.normalizePath(o);var s=this.getParentOf(r);return this.updatePage(r.uid,function(e){var t=e.path;e.isLink?t=null:e.isPathUntouched&&e.path!=i&&s&&(t=s.getNewPath(i));return e.merge({title:o,path:t})})};t.prototype.updatePageDescription=function e(r,n){return this.updatePage(r.uid,function(e){return e.merge({description:t.normalizeDescription(n)})})};t.prototype.removePage=function e(t){var r=this.pages;return this.merge({pages:r.map(function(e){return e.uid==t.uid?null:e.removePage(t)}).filter(Boolean)})};t.prototype.insertChildPage=function e(t,r){return this.merge({pages:this.pages.insert(t,r.merge({path:r.isLink?null:this.getNewPath(r.path)}))})};t.prototype.createChildPage=function e(t){return this.insertChildPage(this.pages.size,t)};t.prototype.setPages=function e(t){return this.merge({pages:(0,p.List)()}).insertPages(0,t)};t.prototype.isChildInGroup=function e(t){if(t.isGroup)return true;var r=this.getParentsOf(t);return null!=r&&r.some(function(e){return e.isGroup})};t.prototype.insertPages=function e(t,r){var n=this.pages.size-t;return r.reduce(function(e,t){return e.insertChildPage(e.pages.size-n,t)},this)};t.prototype.insertPage=function e(t,r,n){var o=this.pages;if(this.uid==t.uid)return this.insertChildPage(r,n);return this.merge({pages:o.map(function(e){return e.insertPage(t,r,n)})})};t.prototype.unwrapPageChildren=function e(t){var r=this.getParentOf(t);if(!r)return this;var n=this.pages.findIndex(function(e){return e.uid===t.uid});var o=r.merge({pages:this.pages.slice(0,n).concat(t.pages).concat(this.pages.slice(n+1))});return this.setPage(o)};t.prototype.movePage=function e(t,r,n){var o=t;r.hasPage(o)||(o=o.merge({path:o.isLink?null:r.getNewPath(o.path)}));if(o.hasPage(r))return this.unwrapPageChildren(o).insertPage(r,n,o.merge({pages:(0,p.List)()}));return this.removePage(o).insertPage(r,n,o)};t.prototype.movePageBefore=function e(t,r){var n=this.getParentOf(r);if(!n)return this;var o=n.getIndexOf(t);var i=n.getIndexOf(r);var s=o>=0&&i>o?i-1:i;return this.movePage(t,n,s)};t.prototype.mapPages=function e(t){return this.toFlatMap().reduce(function(e,r){return e.updatePage(r,t)},this)};t.normalizePath=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined";var n=(0,c.default)(t,{tone:false,custom:{".":".","+":"+"},separateNumbers:false}).slice(0,100);return n||r};t.normalizeURL=function e(r){return r.split("/").map(function(e){return t.normalizePath(e,"")}).join("/")};t.normalizeTitle=function e(r){return k(r).trim().slice(0,t.TITLE_LIMIT)};t.normalizeDescription=function e(r){return k(r).trim().slice(0,t.DESCRIPTION_LIMIT)};t.getParentURL=function e(t){return t.split("/").slice(0,-1).join("/")};o(t,[{key:"isLink",get:function e(){return this.kind===M}},{key:"isDocument",get:function e(){return this.kind===O}},{key:"isGroup",get:function e(){return this.kind===D}}]);return t}((0,p.Record)({uid:"",title:"",kind:O,description:"",path:null,href:null,documentURL:null,createdAt:new Date,lastModifiedAt:new Date,pages:(0,p.List)(),modifiedBy:(0,p.OrderedSet)(),github:null,isPathUntouched:false,stats:null})),i.PATH_LIMIT=100,i.TITLE_LIMIT=100,i.DESCRIPTION_LIMIT=200,i.KIND_DOCUMENT=O,i.KIND_LINK=M,i.KIND_GROUP=D,s);function k(e){return e.replace(/(\r\n|\r|\n)/g," ")}(0,_.default)(E.prototype,["toFlatMap","getParentMap"],{takesArguments:false});(0,_.default)(E.prototype,["getByURL","getURLOf"],{takesArguments:true});t.default=E},"./core/models/database/DatabaseModel.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o=r("./node_modules/immutable/dist/immutable.js");var i=r("./core/models/database/DatabaseQuery.js");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var r,l;var c=(l=r=function(t){u(r,t);function r(){s(this,r);return a(this,t.apply(this,arguments))}r.prototype.serialize=function e(){throw new Error("serialize() not implemented on this model")};r.deserialize=function e(t){throw new Error("deserialize() not implemented on this model")};r.query=function t(r){return new i.CollectionQuery({kind:e,collectionKeys:Array.isArray(r)?r:[r]})};n(r,[{key:"kind",get:function t(){return e}}]);return r}((0,o.Record)(t)),r.KIND=e,l);return c}t.default=l},"./core/models/database/DatabaseQuery.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DocumentQuery=t.CollectionQuery=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i,s,a,u;var l=r("./node_modules/warning/browser.js");var c=d(l);var f=r("./node_modules/immutable/dist/immutable.js");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){_(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}return t}((0,f.Record)({optimistic:true,waitFetched:true,placeholder:true,ignoreErrors:false,background:false}));var v=(s=i=function(e){_(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.prototype.serialize=function e(){return{kind:this.kind,collection:this.collectionKeys,filters:this.filters.toJS()}};t.prototype.isDocumentQuery=function e(){return false};t.prototype.isCollectionQuery=function e(){return true};t.prototype.where=function e(t,r){(0,c.default)(this.filters.isEmpty(),"Only one filter is supported with the RTDB, it will be supported with Firestore");return this.merge({filters:this.filters.set(t,r)})};t.prototype.doc=function e(t){return new y({kind:this.kind,collectionKeys:this.collectionKeys,documentKey:t,options:this.options})};t.prototype.setOptions=function e(t){return this.merge({options:this.options.merge(t)})};t.prototype.matchDocument=function e(t){if(t.kind!==this.kind)return false;if(this.filters.isEmpty())return true;var r=t.serialize();return this.filters.every(function(e,t){return r[t]==e})};t.prototype.defaultsTo=function e(t){return this.merge({defaultValue:t}).setOptions({waitFetched:false})};o(t,[{key:"path",get:function e(){return this.collectionKeys.join("/")}},{key:"cacheKey",get:function e(){var t=this.filters.entrySeq().sortBy(function(e){var t=e[0];return t}).reduce(function(e,t){var r=t[0],n=t[1];return e+"@"+r+"="+n},"");return this.kind+"://"+this.path+","+t}}]);return t}((0,f.Record)({kind:"",collectionKeys:[],options:new m,filters:(0,f.Map)(),defaultValue:(0,f.OrderedMap)()})),i.deserialize=g,s);var y=(u=a=function(e){_(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.prototype.serialize=function e(){return n({},this.parent().serialize(),{doc:this.documentKey})};t.prototype.isDocumentQuery=function e(){return true};t.prototype.isCollectionQuery=function e(){return false};t.prototype.parent=function e(){return new v({kind:this.kind,collectionKeys:this.collectionKeys})};t.prototype.collection=function e(t,r){return new v({kind:t,collectionKeys:this.collectionKeys.concat([this.documentKey]).concat(Array.isArray(r)?r:[r]),options:this.options})};t.prototype.setOptions=function e(t){return this.merge({options:this.options.merge(t)})};t.prototype.defaultsTo=function e(t){return this.merge({defaultValue:t}).setOptions({waitFetched:false})};o(t,[{key:"path",get:function e(){return this.collectionKeys.concat([this.documentKey]).join("/")}},{key:"cacheKey",get:function e(){return this.kind+"://"+this.path}}]);return t}((0,f.Record)({kind:"",collectionKeys:[],documentKey:"",options:new m,defaultValue:null})),a.deserialize=g,u);function g(e){var t=new v({kind:e.kind,collectionKeys:e.collection,documentKey:e.doc});return e.doc?t.doc(e.doc):t}t.CollectionQuery=v;t.DocumentQuery=y},"./core/models/database/DatabaseUpdate.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r("./core/models/database/DatabaseQuery.js");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){o(this,e);this.operations=[]}e.prototype.merge=function e(){var t=this;for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];n.forEach(function(e){t.operations=t.operations.concat(e.operations)});return this};e.prototype.filter=function e(t){this.operations=this.operations.filter(function(e){return t(e)});return this};e.prototype.set=function e(t,r){this.operations.push({type:"set",query:t,doc:r});return this};e.prototype.update=function e(t,r){this.operations.push({type:"update",query:t,properties:r});return this};e.prototype.updateProperty=function e(t,r,n){this.operations.push({type:"update_property",query:t,property:r,value:n});return this};e.prototype.delete=function e(t){this.operations.push({type:"delete",query:t});return this};e.prototype.deleteCollection=function e(t){this.operations.push({type:"delete_collection",query:t});return this};e.prototype.toPathMap=function e(){var t=this.operations;var r={};t.forEach(function(e){var t=e.query.path;if("set"===e.type&&e.doc){var n=e.doc.serialize();r[t]=n}else"update"===e.type&&e.properties?Object.keys(e.properties).forEach(function(n){r[t+"/"+n]=e.properties[n]}):"update_property"===e.type?r[t+"/"+e.property]=e.value:"delete"!==e.type&&"delete_collection"!==e.type||(r[t]=null)});return r};return e}();t.default=i},"./core/models/database/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CollectionQuery=t.DocumentQuery=t.DatabaseUpdate=t.DatabaseModel=void 0;var n=r("./core/models/database/keys.js");Object.keys(n).forEach(function(e){if("default"===e||"__esModule"===e)return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return n[e]}})});var o=r("./core/models/database/DatabaseModel.js");var i=l(o);var s=r("./core/models/database/DatabaseUpdate.js");var a=l(s);var u=r("./core/models/database/DatabaseQuery.js");function l(e){return e&&e.__esModule?e:{default:e}}t.DatabaseModel=i.default;t.DatabaseUpdate=a.default;t.DocumentQuery=u.DocumentQuery;t.CollectionQuery=u.CollectionQuery},"./core/models/database/keys.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unescapeKey=t.escapeKey=t.genKey=void 0;var n=r("./node_modules/firebase-key/dist/esm5/index.js");function o(){return(0,n.key)()}function i(e){return e.replace(/%/g,"%25").replace(/\./g,"%2E").replace(/#/g,"%23").replace(/\$/g,"%24").replace(/\//g,"%2F").replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function s(e){return e.replace(/%25/g,"%").replace(/%2E/g,".").replace(/%23/g,"#").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%5B/g,"[").replace(/%5D/g,"]")}t.genKey=o;t.escapeKey=i;t.unescapeKey=s},"./node_modules/d/auto-bind.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/copy.js"),o=r("./node_modules/es5-ext/object/normalize-options.js"),i=r("./node_modules/es5-ext/object/valid-callable.js"),s=r("./node_modules/es5-ext/object/map.js"),a=r("./node_modules/es5-ext/object/valid-callable.js"),u=r("./node_modules/es5-ext/object/valid-value.js"),l=Function.prototype.bind,c=Object.defineProperty,f=Object.prototype.hasOwnProperty,d;d=function(e,t,r){var o=u(t)&&a(t.value),i;i=n(t);delete i.writable;delete i.value;i.get=function(){if(!r.overwriteDefinition&&f.call(this,e))return o;t.value=l.call(o,r.resolveContext?r.resolveContext(this):this);c(this,e,t);return this[e]};return i};e.exports=function(e){var t=o(arguments[1]);null!=t.resolveContext&&i(t.resolveContext);return s(e,function(e,r){return d(r,e,t)})}},"./node_modules/d/index.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/assign/index.js"),o=r("./node_modules/es5-ext/object/normalize-options.js"),i=r("./node_modules/es5-ext/object/is-callable.js"),s=r("./node_modules/es5-ext/string/#/contains/index.js"),a;a=e.exports=function(e,t){var r,i,a,u,l;if(arguments.length<2||"string"!==typeof e){u=t;t=e;e=null}else u=arguments[2];if(null==e){r=a=true;i=false}else{r=s.call(e,"c");i=s.call(e,"e");a=s.call(e,"w")}l={value:t,configurable:r,enumerable:i,writable:a};return u?n(o(u),l):l};a.gs=function(e,t,r){var a,u,l,c;if("string"!==typeof e){l=r;r=t;t=e;e=null}else l=arguments[3];if(null==t)t=void 0;else if(i(t)){if(null==r)r=void 0;else if(!i(r)){l=r;r=void 0}}else{l=t;t=r=void 0}if(null==e){a=true;u=false}else{a=s.call(e,"c");u=s.call(e,"e")}c={get:t,set:r,configurable:a,enumerable:u};return l?n(o(l),c):c}},"./node_modules/es5-ext/array/#/clear.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/valid-value.js");e.exports=function(){n(this).length=0;return this}},"./node_modules/es5-ext/array/#/e-index-of.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/number/is-nan/index.js"),o=r("./node_modules/es5-ext/number/to-pos-integer.js"),i=r("./node_modules/es5-ext/object/valid-value.js"),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,u=Math.abs,l=Math.floor;e.exports=function(e){var t,r,c,f;if(!n(e))return s.apply(this,arguments);r=o(i(this).length);c=arguments[1];c=isNaN(c)?0:c>=0?l(c):o(this.length)-l(u(c));for(t=c;t<r;++t)if(a.call(this,t)){f=this[t];if(n(f))return t}return-1}},"./node_modules/es5-ext/array/from/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/array/from/is-implemented.js")()?Array.from:r("./node_modules/es5-ext/array/from/shim.js")},"./node_modules/es5-ext/array/from/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e=Array.from,t,r;if("function"!==typeof e)return false;t=["raz","dwa"];r=e(t);return Boolean(r&&r!==t&&"dwa"===r[1])}},"./node_modules/es5-ext/array/from/shim.js":function(e,t,r){"use strict";var n=r("./node_modules/es6-symbol/index.js").iterator,o=r("./node_modules/es5-ext/function/is-arguments.js"),i=r("./node_modules/es5-ext/function/is-function.js"),s=r("./node_modules/es5-ext/number/to-pos-integer.js"),a=r("./node_modules/es5-ext/object/valid-callable.js"),u=r("./node_modules/es5-ext/object/valid-value.js"),l=r("./node_modules/es5-ext/object/is-value.js"),c=r("./node_modules/es5-ext/string/is-string.js"),f=Array.isArray,d=Function.prototype.call,p={configurable:true,enumerable:true,writable:true,value:null},h=Object.defineProperty;e.exports=function(e){var t=arguments[1],r=arguments[2],_,m,v,y,g,b,j,x,P,w;e=Object(u(e));l(t)&&a(t);if(this&&this!==Array&&i(this))_=this;else{if(!t){if(o(e)){g=e.length;if(1!==g)return Array.apply(null,e);y=new Array(1);y[0]=e[0];return y}if(f(e)){y=new Array(g=e.length);for(m=0;m<g;++m)y[m]=e[m];return y}}y=[]}if(!f(e))if(void 0!==(P=e[n])){j=a(P).call(e);_&&(y=new _);x=j.next();m=0;while(!x.done){w=t?d.call(t,r,x.value,m):x.value;if(_){p.value=w;h(y,m,p)}else y[m]=w;x=j.next();++m}g=m}else if(c(e)){g=e.length;_&&(y=new _);for(m=0,v=0;m<g;++m){w=e[m];if(m+1<g){b=w.charCodeAt(0);b>=55296&&b<=56319&&(w+=e[++m])}w=t?d.call(t,r,w,v):w;if(_){p.value=w;h(y,v,p)}else y[v]=w;++v}g=v}if(void 0===g){g=s(e.length);_&&(y=new _(g));for(m=0;m<g;++m){w=t?d.call(t,r,e[m],m):e[m];if(_){p.value=w;h(y,m,p)}else y[m]=w}}if(_){p.value=null;y.length=g}return y}},"./node_modules/es5-ext/function/is-arguments.js":function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===o}},"./node_modules/es5-ext/function/is-function.js":function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(r("./node_modules/es5-ext/function/noop.js"));e.exports=function(e){return"function"===typeof e&&n.call(e)===o}},"./node_modules/es5-ext/function/noop.js":function(e,t,r){"use strict";e.exports=function(){}},"./node_modules/es5-ext/number/to-pos-integer.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/number/to-integer.js"),o=Math.max;e.exports=function(e){return o(0,n(e))}},"./node_modules/es5-ext/object/_iterate.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/valid-callable.js"),o=r("./node_modules/es5-ext/object/valid-value.js"),i=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(r,l){var c,f=arguments[2],d=arguments[3];r=Object(o(r));n(l);c=a(r);d&&c.sort("function"===typeof d?i.call(d,r):void 0);"function"!==typeof e&&(e=c[e]);return s.call(e,c,function(e,n){if(!u.call(r,e))return t;return s.call(l,f,r[e],e,r,n)})}}},"./node_modules/es5-ext/object/assign/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/assign/is-implemented.js")()?Object.assign:r("./node_modules/es5-ext/object/assign/shim.js")},"./node_modules/es5-ext/object/copy.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/array/from/index.js"),o=r("./node_modules/es5-ext/object/assign/index.js"),i=r("./node_modules/es5-ext/object/valid-value.js");e.exports=function(e){var t=Object(i(e)),r=arguments[1],s=Object(arguments[2]);if(t!==e&&!r)return t;var a={};r?n(r,function(t){(s.ensure||t in e)&&(a[t]=e[t])}):o(a,e);return a}},"./node_modules/es5-ext/object/for-each.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/_iterate.js")("forEach")},"./node_modules/es5-ext/object/is-value.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/function/noop.js")();e.exports=function(e){return e!==n&&null!==e}},"./node_modules/es5-ext/object/map.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/valid-callable.js"),o=r("./node_modules/es5-ext/object/for-each.js"),i=Function.prototype.call;e.exports=function(e,t){var r={},s=arguments[2];n(t);o(e,function(e,n,o,a){r[n]=i.call(t,s,e,n,o,a)});return r}},"./node_modules/es5-ext/object/normalize-options.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/is-value.js");var o=Array.prototype.forEach,i=Object.create;var s=function(e,t){var r;for(r in e)t[r]=e[r]};e.exports=function(e){var t=i(null);o.call(arguments,function(e){if(!n(e))return;s(Object(e),t)});return t}},"./node_modules/es5-ext/object/primitive-set.js":function(e,t,r){"use strict";var n=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);n.call(arguments,function(e){t[e]=true});return t}},"./node_modules/es5-ext/object/set-prototype-of/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/set-prototype-of/is-implemented.js")()?Object.setPrototypeOf:r("./node_modules/es5-ext/object/set-prototype-of/shim.js")},"./node_modules/es5-ext/object/valid-callable.js":function(e,t,r){"use strict";e.exports=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e}},"./node_modules/es5-ext/object/valid-value.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/is-value.js");e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},"./node_modules/es5-ext/string/is-string.js":function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call("");e.exports=function(e){return"string"===typeof e||e&&"object"===typeof e&&(e instanceof String||n.call(e)===o)||false}},"./node_modules/es6-iterator/for-of.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/function/is-arguments.js"),o=r("./node_modules/es5-ext/object/valid-callable.js"),i=r("./node_modules/es5-ext/string/is-string.js"),s=r("./node_modules/es6-iterator/get.js"),a=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var r,c=arguments[2],f,d,p,h,_,m,v;a(e)||n(e)?r="array":i(e)?r="string":e=s(e);o(t);d=function(){p=true};if("array"===r){l.call(e,function(e){u.call(t,c,e,d);if(p)return true});return}if("string"===r){_=e.length;for(h=0;h<_;++h){m=e[h];if(h+1<_){v=m.charCodeAt(0);v>=55296&&v<=56319&&(m+=e[++h])}u.call(t,c,m,d);if(p)break}return}f=e.next();while(!f.done){u.call(t,c,f.value,d);if(p)return;f=e.next()}}},"./node_modules/es6-iterator/index.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/array/#/clear.js"),o=r("./node_modules/es5-ext/object/assign/index.js"),i=r("./node_modules/es5-ext/object/valid-callable.js"),s=r("./node_modules/es5-ext/object/valid-value.js"),a=r("./node_modules/d/index.js"),u=r("./node_modules/d/auto-bind.js"),l=r("./node_modules/es6-symbol/index.js"),c=Object.defineProperty,f=Object.defineProperties,d;e.exports=d=function(e,t){if(!(this instanceof d))return new d(e,t);f(this,{__list__:a("w",s(e)),__context__:a("w",t),__nextIndex__:a("w",0)});if(!t)return;i(t.on);t.on("_add",this._onAdd);t.on("_delete",this._onDelete);t.on("_clear",this._onClear)};f(d.prototype,o({constructor:a(d),_next:a(function(){var e;if(!this.__list__)return;if(this.__redo__){e=this.__redo__.shift();if(void 0!==e)return e}if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}),next:a(function(){return this._createResult(this._next())}),_createResult:a(function(e){if(void 0===e)return{done:true,value:void 0};return{done:false,value:this._resolve(e)}}),_resolve:a(function(e){return this.__list__[e]}),_unBind:a(function(){this.__list__=null;delete this.__redo__;if(!this.__context__)return;this.__context__.off("_add",this._onAdd);this.__context__.off("_delete",this._onDelete);this.__context__.off("_clear",this._onClear);this.__context__=null}),toString:a(function(){return"[object Iterator]"})},u({_onAdd:a(function(e){if(e>=this.__nextIndex__)return;++this.__nextIndex__;if(!this.__redo__){c(this,"__redo__",a("c",[e]));return}this.__redo__.forEach(function(t,r){t>=e&&(this.__redo__[r]=++t)},this);this.__redo__.push(e)}),_onDelete:a(function(e){var t;if(e>=this.__nextIndex__)return;--this.__nextIndex__;if(!this.__redo__)return;t=this.__redo__.indexOf(e);-1!==t&&this.__redo__.splice(t,1);this.__redo__.forEach(function(t,r){t>e&&(this.__redo__[r]=--t)},this)}),_onClear:a(function(){this.__redo__&&n.call(this.__redo__);this.__nextIndex__=0})})));c(d.prototype,l.iterator,a(function(){return this}));c(d.prototype,l.toStringTag,a("","Iterator"))},"./node_modules/es6-iterator/valid-iterable.js":function(e,t,r){"use strict";var n=r("./node_modules/es6-iterator/is-iterable.js");e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},"./node_modules/es6-map/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es6-map/is-implemented.js")()?Map:r("./node_modules/es6-map/polyfill.js")},"./node_modules/es6-map/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e,t,r;if("function"!==typeof Map)return false;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return false}if("[object Map]"!==String(e))return false;if(3!==e.size)return false;if("function"!==typeof e.clear)return false;if("function"!==typeof e.delete)return false;if("function"!==typeof e.entries)return false;if("function"!==typeof e.forEach)return false;if("function"!==typeof e.get)return false;if("function"!==typeof e.has)return false;if("function"!==typeof e.keys)return false;if("function"!==typeof e.set)return false;if("function"!==typeof e.values)return false;t=e.entries();r=t.next();if(false!==r.done)return false;if(!r.value)return false;if("raz"!==r.value[0])return false;if("one"!==r.value[1])return false;return true}},"./node_modules/es6-map/is-native-implemented.js":function(e,t,r){"use strict";e.exports=function(){if("undefined"===typeof Map)return false;return"[object Map]"===Object.prototype.toString.call(new Map)}()},"./node_modules/es6-map/lib/iterator-kinds.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/primitive-set.js")("key","value","key+value")},"./node_modules/es6-map/lib/iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/set-prototype-of/index.js"),o=r("./node_modules/d/index.js"),i=r("./node_modules/es6-iterator/index.js"),s=r("./node_modules/es6-symbol/index.js").toStringTag,a=r("./node_modules/es6-map/lib/iterator-kinds.js"),u=Object.defineProperties,l=i.prototype._unBind,c;c=e.exports=function(e,t){if(!(this instanceof c))return new c(e,t);i.call(this,e.__mapKeysData__,e);t&&a[t]||(t="key+value");u(this,{__kind__:o("",t),__values__:o("w",e.__mapValuesData__)})};n&&n(c,i);c.prototype=Object.create(i.prototype,{constructor:o(c),_resolve:o(function(e){if("value"===this.__kind__)return this.__values__[e];if("key"===this.__kind__)return this.__list__[e];return[this.__list__[e],this.__values__[e]]}),_unBind:o(function(){this.__values__=null;l.call(this)}),toString:o(function(){return"[object Map Iterator]"})});Object.defineProperty(c.prototype,s,o("c","Map Iterator"))},"./node_modules/es6-map/polyfill.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/array/#/clear.js"),o=r("./node_modules/es5-ext/array/#/e-index-of.js"),i=r("./node_modules/es5-ext/object/set-prototype-of/index.js"),s=r("./node_modules/es5-ext/object/valid-callable.js"),a=r("./node_modules/es5-ext/object/valid-value.js"),u=r("./node_modules/d/index.js"),l=r("./node_modules/event-emitter/index.js"),c=r("./node_modules/es6-symbol/index.js"),f=r("./node_modules/es6-iterator/valid-iterable.js"),d=r("./node_modules/es6-iterator/for-of.js"),p=r("./node_modules/es6-map/lib/iterator.js"),h=r("./node_modules/es6-map/is-native-implemented.js"),_=Function.prototype.call,m=Object.defineProperties,v=Object.getPrototypeOf,y;e.exports=y=function(){var e=arguments[0],t,r,n;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");n=h&&i&&Map!==y?i(new Map,v(this)):this;null!=e&&f(e);m(n,{__mapKeysData__:u("c",t=[]),__mapValuesData__:u("c",r=[])});if(!e)return n;d(e,function(e){var n=a(e)[0];e=e[1];if(-1!==o.call(t,n))return;t.push(n);r.push(e)},n);return n};if(h){i&&i(y,Map);y.prototype=Object.create(Map.prototype,{constructor:u(y)})}l(m(y.prototype,{clear:u(function(){if(!this.__mapKeysData__.length)return;n.call(this.__mapKeysData__);n.call(this.__mapValuesData__);this.emit("_clear")}),delete:u(function(e){var t=o.call(this.__mapKeysData__,e);if(-1===t)return false;this.__mapKeysData__.splice(t,1);this.__mapValuesData__.splice(t,1);this.emit("_delete",t,e);return true}),entries:u(function(){return new p(this,"key+value")}),forEach:u(function(e){var t=arguments[1],r,n;s(e);r=this.entries();n=r._next();while(void 0!==n){_.call(e,t,this.__mapValuesData__[n],this.__mapKeysData__[n],this);n=r._next()}}),get:u(function(e){var t=o.call(this.__mapKeysData__,e);if(-1===t)return;return this.__mapValuesData__[t]}),has:u(function(e){return-1!==o.call(this.__mapKeysData__,e)}),keys:u(function(){return new p(this,"key")}),set:u(function(e,t){var r=o.call(this.__mapKeysData__,e),n;if(-1===r){r=this.__mapKeysData__.push(e)-1;n=true}this.__mapValuesData__[r]=t;n&&this.emit("_add",r,e);return this}),size:u.gs(function(){return this.__mapKeysData__.length}),values:u(function(){return new p(this,"value")}),toString:u(function(){return"[object Map]"})}));Object.defineProperty(y.prototype,c.iterator,u(function(){return this.entries()}));Object.defineProperty(y.prototype,c.toStringTag,u("c","Map"))},"./node_modules/es6-symbol/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es6-symbol/is-implemented.js")()?Symbol:r("./node_modules/es6-symbol/polyfill.js")},"./node_modules/event-emitter/index.js":function(e,t,r){"use strict";var n=r("./node_modules/d/index.js"),o=r("./node_modules/es5-ext/object/valid-callable.js"),i=Function.prototype.apply,s=Function.prototype.call,a=Object.create,u=Object.defineProperty,l=Object.defineProperties,c=Object.prototype.hasOwnProperty,f={configurable:true,enumerable:false,writable:true},d,p,h,_,m,v,y;d=function(e,t){var r;o(t);if(c.call(this,"__ee__"))r=this.__ee__;else{r=f.value=a(null);u(this,"__ee__",f);f.value=null}r[e]?"object"===typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t;return this};p=function(e,t){var r,n;o(t);n=this;d.call(this,e,r=function(){h.call(n,e,r);i.call(t,this,arguments)});r.__eeOnceListener__=t;return this};h=function(e,t){var r,n,i,s;o(t);if(!c.call(this,"__ee__"))return this;r=this.__ee__;if(!r[e])return this;n=r[e];if("object"===typeof n)for(s=0;i=n[s];++s)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[s?0:1]:n.splice(s,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this};_=function(e){var t,r,n,o,a;if(!c.call(this,"__ee__"))return;o=this.__ee__[e];if(!o)return;if("object"===typeof o){r=arguments.length;a=new Array(r-1);for(t=1;t<r;++t)a[t-1]=arguments[t];o=o.slice();for(t=0;n=o[t];++t)i.call(n,this,a)}else switch(arguments.length){case 1:s.call(o,this);break;case 2:s.call(o,this,arguments[1]);break;case 3:s.call(o,this,arguments[1],arguments[2]);break;default:r=arguments.length;a=new Array(r-1);for(t=1;t<r;++t)a[t-1]=arguments[t];i.call(o,this,a)}};m={on:d,once:p,off:h,emit:_};v={on:n(d),once:n(p),off:n(h),emit:n(_)};y=l({},v);e.exports=t=function(e){return null==e?a(y):l(Object(e),v)};t.methods=m},"./node_modules/immutablejs-record-memoize/dist/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r("./node_modules/es6-map/index.js");var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var s={};var a={};var u=void 0;function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=r.takesArguments,i=void 0===n||n;var s=true;var l=false;var d=void 0;try{var p=function t(){var r=_.value;var n=e[r];if(!n)throw new Error('Object does not have a property named "'+r+'".');e[r]=function(){this.__cache||(this.__cache=new o.default);var e=void 0;var t=[];for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];if(i){t=[r].concat(l);e=c(this.__cache,t)}else e=this.__cache.get(r);if(e!==u)return e===a?void 0:e;var p=n.apply(this,l);var h=void 0===p?a:p;i?this.__cache=f(this.__cache,t,h):this.__cache.set(r,h);return p}};for(var h=t[Symbol.iterator](),_;!(s=(_=h.next()).done);s=true)p()}catch(e){l=true;d=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw d}}}function c(e,t){var r=true;var n=false;var o=void 0;try{for(var i=t[Symbol.iterator](),a;!(r=(a=i.next()).done);r=true){var l=a.value;e=e.get(l);if(e===u)return u}}catch(e){n=true;o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return e.get(s)}function f(e,t,r){var n=e;var i=void 0;var a=true;var l=false;var c=void 0;try{for(var f=t[Symbol.iterator](),d;!(a=(d=f.next()).done);a=true){var p=d.value;i=n.get(p);if(i===u){i=new o.default;n.set(p,i)}n=i}}catch(e){l=true;c=e}finally{try{!a&&f.return&&f.return()}finally{if(l)throw c}}i.set(s,r);return e}t.default=l},"./node_modules/limax/lib/limax.js":function(e,t,r){"use strict";const n=r("./node_modules/speakingurl/index.js");const o=r("./node_modules/pinyin/lib/web-pinyin.js");const i=r("./node_modules/hepburn/lib/hepburn.js");function s(e){e=e||[];return Array.isArray(e)?e:Object.keys(e)}e.exports=function(e,t){const r="string"===typeof t?{separator:t}:t||{};e=e.replace(/(\S)['\u2018\u2019\u201A\u201B\u2032\u2035\u0301](\S)/g,"$1$2");false!==r.separateNumbers&&(e=e.replace(/([^\d\s])([0-9]+)([^\d\s])/g,"$1 $2 $3"));let a=false;const u=r.lang||"";if(u.toLowerCase().startsWith("ja")||i.containsKana(e)){e=i.fromKana(e);e=e.replace(/([^A-Za-z0-9\- ]+)/g,"")}else if(u.toLowerCase().startsWith("zh")||/[\u4e00-\u9fa5]+/.test(e)){const t="boolean"!==typeof r.tone||r.tone;a=t;e=o(e,{style:t?o.STYLE_TONE2:o.STYLE_NORMAL}).join(" ");const n=s(r.custom).map(function(e){return`\\${e}`}).join("");const i=new RegExp(`([^0-9A-Za-z ${n}]+)`,"g");e=e.replace(i,"");e=e.replace(/([^1-4]) ([A-Za-z]) /g,"$1$2")}const l=r.replacement||r.separator;const c=n(e,{lang:u||"en",separator:"string"===typeof l?l:"-",maintainCase:r.maintainCase||false,custom:r.custom||{}});return a?c.replace(/([^0-9])-([0-9])/g,"$1$2"):c}},"./node_modules/word-count/index.js":function(e,t){var r=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g;e.exports=function(e){var t=e.match(r);var n=0;if(!t)return 0;for(var o=0;o<t.length;o++)t[o].charCodeAt(0)>=19968?n+=t[o].length:n+=1;return n}}});
//# space-part-34.0020577d.js.map