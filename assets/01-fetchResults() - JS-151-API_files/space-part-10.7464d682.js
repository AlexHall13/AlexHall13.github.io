webpackJsonp([61],{"./node_modules/@gitbook/slate-base64-serializer/lib/slate-base64-serializer.es.js":function(e,t,r){"use strict";var n=r("./node_modules/@gitbook/slate/lib/slate.es.js");var o=r("./node_modules/isomorphic-base64/browser.js");var a=r.n(o);function s(e){var t=JSON.stringify(e);var r=Object(o["btoa"])(encodeURIComponent(t));return r}function i(e){var t=decodeURIComponent(Object(o["atob"])(e));var r=JSON.parse(t);return r}function u(e,t){var r=i(e);var o=n["Value"].fromJSON(r,t);return o}function c(e,t){var r=i(e);var o=n["Node"].fromJSON(r,t);return o}function l(e,t){var r=e.toJSON(t);var n=s(r);return n}function f(e,t){var r=e.toJSON(t);var n=s(r);return n}var d={deserialize:u,deserializeNode:c,serialize:l,serializeNode:f};t["a"]=d},"./node_modules/@gitbook/slate-dev-environment/lib/slate-dev-environment.es.js":function(e,t,r){"use strict";r.d(t,"c",function(){return J});r.d(t,"g",function(){return V});r.d(t,"d",function(){return H});r.d(t,"b",function(){return U});r.d(t,"a",function(){return W});r.d(t,"e",function(){return q});r.d(t,"f",function(){return G});r.d(t,"h",function(){return $});var n=r("./node_modules/is-in-browser/dist/module.js");var o=function(){function e(e,t){var r=[];var n=true;var o=false;var a=void 0;try{for(var s=e[Symbol.iterator](),i;!(n=(i=s.next()).done);n=true){r.push(i.value);if(t&&r.length===t)break}}catch(e){o=true;a=e}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var a=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]];var s=[["beforeinput",function(e){return"onbeforeinput"in e}]];var i=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]];var u=void 0;var c={};var l=void 0;if(n["default"]){var f=window.navigator.userAgent;var d=true;var v=false;var y=void 0;try{for(var h=a[Symbol.iterator](),p;!(d=(p=h.next()).done);d=true){var g=p.value;var m=o(g,2);var k=m[0];var b=m[1];if(b.test(f)){u=k;break}}}catch(e){v=true;y=e}finally{try{!d&&h.return&&h.return()}finally{if(v)throw y}}var O=true;var A=false;var _=void 0;try{for(var w=i[Symbol.iterator](),x;!(O=(x=w.next()).done);O=true){var j=x.value;var T=o(j,2);var N=T[0];var K=T[1];if(K.test(f)){l=N;break}}}catch(e){A=true;_=e}finally{try{!O&&w.return&&w.return()}finally{if(A)throw _}}var B=window.document.createElement("div");B.contentEditable=true;var C=true;var E=false;var F=void 0;try{for(var S=s[Symbol.iterator](),L;!(C=(L=S.next()).done);C=true){var P=L.value;var D=o(P,2);var z=D[0];var I=D[1];c[z]=I(B)}}catch(e){E=true;F=e}finally{try{!C&&S.return&&S.return()}finally{if(E)throw F}}}var R="chrome"===u;var M="opera"===u;var J="firefox"===u;var V="safari"===u;var H="ie"===u;var U="edge"===u;var W="android"===l;var q="ios"===l;var G="macos"===l;var Y="windows"===l;var $=c},"./node_modules/@gitbook/slate-dev-logger/lib/slate-dev-logger.es.js":function(e,t,r){"use strict";(function(e){var r="undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}var a=n;var s=o;"function"===typeof r.setTimeout&&(a=setTimeout);"function"===typeof r.clearTimeout&&(s=clearTimeout);function i(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout){a=setTimeout;return setTimeout(e,0)}try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function u(e){if(s===clearTimeout)return clearTimeout(e);if((s===o||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var c=[];var l=false;var f;var d=-1;function v(){if(!l||!f)return;l=false;f.length?c=f.concat(c):d=-1;c.length&&y()}function y(){if(l)return;var e=i(v);l=true;var t=c.length;while(t){f=c;c=[];while(++d<t)f&&f[d].run();d=-1;t=c.length}f=null;l=false;u(e)}function h(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t));1!==c.length||l||i(y)}function p(e,t){this.fun=e;this.array=t}p.prototype.run=function(){this.fun.apply(null,this.array)};var g="browser";var m="browser";var k=true;var b={};var O=[];var A="";var _={};var w={};var x={};function j(){}var T=j;var N=j;var K=j;var B=j;var C=j;var E=j;var F=j;function S(e){throw new Error("process.binding is not supported")}function L(){return"/"}function P(e){throw new Error("process.chdir is not supported")}function D(){return 0}var z=r.performance||{};var I=z.now||z.mozNow||z.msNow||z.oNow||z.webkitNow||function(){return(new Date).getTime()};function R(e){var t=.001*I.call(z);var r=Math.floor(t);var n=Math.floor(t%1*1e9);if(e){r-=e[0];n-=e[1];if(n<0){r--;n+=1e9}}return[r,n]}var M=new Date;function J(){var e=new Date;var t=e-M;return t/1e3}var V={nextTick:h,title:g,browser:k,env:b,argv:O,version:A,versions:_,on:T,addListener:N,once:K,off:B,removeListener:C,removeAllListeners:E,emit:F,binding:S,cwd:L,chdir:P,umask:D,hrtime:R,platform:m,release:w,config:x,uptime:J};var H="undefined"!==typeof V&&V.env&&true;var U="undefined"!=typeof console&&"function"==typeof console.log&&"function"==typeof console.warn&&"function"==typeof console.error;function W(e,t){if(!H)return;if(U){var r;for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];(r=console)[e].apply(r,[t].concat(o))}}function q(e){if(U){var t;for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=console).error.apply(t,[e].concat(n))}}function G(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];W.apply(void 0,["warn","Warning: "+e].concat(r))}function Y(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];W.apply(void 0,["warn","Deprecation ("+e+"): "+t].concat(n))}var $={deprecate:Y,error:q,warn:G};t["a"]=$}).call(t,r("../node_modules/webpack/buildin/global.js"))},"./node_modules/@gitbook/slate-hotkeys/lib/slate-hotkeys.es.js":function(e,t,r){"use strict";var n=r("./node_modules/is-hotkey/lib/index.js");var o=r.n(n);var a=r("./node_modules/@gitbook/slate-dev-environment/lib/slate-dev-environment.es.js");var s=a["e"]||a["f"];var i=Object(n["isKeyHotkey"])("mod+b");var u=Object(n["isKeyHotkey"])("mod+i");var c=Object(n["isKeyHotkey"])("enter");var l=Object(n["isKeyHotkey"])("shift+enter");var f=function e(t){return c(t)||l(t)};var d=Object(n["isKeyHotkey"])("backspace");var v=Object(n["isKeyHotkey"])("shift+backspace");var y=Object(n["isKeyHotkey"])("delete");var h=Object(n["isKeyHotkey"])("shift+delete");var p=function e(t){return d(t)||v(t)};var g=function e(t){return y(t)||h(t)};var m=Object(n["isKeyHotkey"])("ctrl+h");var k=Object(n["isKeyHotkey"])("ctrl+d");var b=function e(t){return p(t)||s&&m(t)};var O=function e(t){return g(t)||s&&k(t)};var A=function e(t){return Object(n["isKeyHotkey"])("cmd+shift+backspace",t)||Object(n["isKeyHotkey"])("cmd+backspace",t)};var _=Object(n["isKeyHotkey"])("ctrl+k");var w=function e(t){return s&&A(t)};var x=function e(t){return s&&_(t)};var j=function e(t){return Object(n["isKeyHotkey"])("shift+option+backspace",t)||Object(n["isKeyHotkey"])("option+backspace",t)};var T=Object(n["isKeyHotkey"])("ctrl+backspace");var N=function e(t){return Object(n["isKeyHotkey"])("shift+option+delete",t)||Object(n["isKeyHotkey"])("option+delete",t)};var K=Object(n["isKeyHotkey"])("ctrl+delete");var B=function e(t){return s?j(t):T(t)};var C=function e(t){return s?N(t):K(t)};var E=Object(n["isKeyHotkey"])("shift+right");var F=Object(n["isKeyHotkey"])("shift+left");var S=Object(n["isKeyHotkey"])("right");var L=Object(n["isKeyHotkey"])("left");var P=function e(t){return S(t)&&!E(t)};var D=function e(t){return L(t)&&!F(t)};var z=Object(n["isKeyHotkey"])("option+up");var I=Object(n["isKeyHotkey"])("option+down");var R=function e(t){return s&&z(t)};var M=function e(t){return s&&I(t)};var J=Object(n["isKeyHotkey"])("option+shift+up");var V=Object(n["isKeyHotkey"])("option+shift+down");var H=function e(t){return s&&J(t)};var U=function e(t){return s&&V(t)};var W=Object(n["isKeyHotkey"])("mod+z");var q=Object(n["isKeyHotkey"])("mod+shift+z");var G=Object(n["isKeyHotkey"])("mod+y");var Y=function e(t){return s?q(t):G(t)};var $=Object(n["isKeyHotkey"])("ctrl+t");var X=function e(t){return s&&$(t)};var Q=function e(t){return i(t)||b(t)||O(t)||w(t)||x(t)||B(t)||C(t)||u(t)||Y(t)||f(t)||X(t)||W(t)};var Z=function e(t){return"ArrowDown"==t.key||"ArrowLeft"==t.key||"ArrowRight"==t.key||"ArrowUp"==t.key||"Backspace"==t.key||"Enter"==t.key};var ee={isBold:i,isCollapseCharBackward:D,isCollapseCharForward:P,isCollapseLineBackward:R,isCollapseLineForward:M,isComposing:Z,isContentEditable:Q,isDeleteCharBackward:b,isDeleteCharForward:O,isDeleteLineBackward:w,isDeleteLineForward:x,isDeleteWordBackward:B,isDeleteWordForward:C,isExtendCharBackward:F,isExtendCharForward:E,isExtendLineBackward:H,isExtendLineForward:U,isItalic:u,isRedo:Y,isSplitBlock:f,isUndo:W};t["a"]=ee},"./node_modules/@gitbook/slate-plain-serializer/lib/slate-plain-serializer.es.js":function(e,t,r){"use strict";var n=r("./node_modules/@gitbook/slate/lib/slate.es.js");var o=r("./node_modules/immutable/dist/immutable.js");var a=r.n(o);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=t.defaultBlock,a=void 0===r?"line":r,i=t.defaultMarks,u=void 0===i?[]:i,c=t.toJSON,l=void 0!==c&&c;o["Set"].isSet(u)&&(u=u.toArray());a=n["Node"].createProperties(a);u=u.map(n["Mark"].createProperties);var f={object:"value",document:{object:"document",data:{},nodes:e.split("\n").map(function(e){return s({},a,{object:"block",isVoid:false,data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:u}]}]})})}};var d=l?f:n["Value"].fromJSON(f);return d}function u(e){return c(e.document)}function c(e){return"document"==e.object||"block"==e.object&&n["Block"].isBlockList(e.nodes)?e.nodes.map(c).join("\n"):e.text}var l={deserialize:i,serialize:u};t["a"]=l},"./node_modules/@gitbook/slate-react/node_modules/lodash/_Symbol.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_root.js");var o=n.Symbol;e.exports=o},"./node_modules/@gitbook/slate-react/node_modules/lodash/_baseGetTag.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_Symbol.js"),o=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_getRawTag.js"),a=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_objectToString.js");var s="[object Null]",i="[object Undefined]";var u=n?n.toStringTag:void 0;function c(e){if(null==e)return void 0===e?i:s;return u&&u in Object(e)?o(e):a(e)}e.exports=c},"./node_modules/@gitbook/slate-react/node_modules/lodash/_freeGlobal.js":function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r("../node_modules/webpack/buildin/global.js"))},"./node_modules/@gitbook/slate-react/node_modules/lodash/_getRawTag.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_Symbol.js");var o=Object.prototype;var a=o.hasOwnProperty;var s=o.toString;var i=n?n.toStringTag:void 0;function u(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var n=true}catch(e){}var o=s.call(e);n&&(t?e[i]=r:delete e[i]);return o}e.exports=u},"./node_modules/@gitbook/slate-react/node_modules/lodash/_objectToString.js":function(e,t){var r=Object.prototype;var n=r.toString;function o(e){return n.call(e)}e.exports=o},"./node_modules/@gitbook/slate-react/node_modules/lodash/_root.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_freeGlobal.js");var o="object"==typeof self&&self&&self.Object===Object&&self;var a=n||o||Function("return this")();e.exports=a},"./node_modules/@gitbook/slate-react/node_modules/lodash/debounce.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/isObject.js"),o=r("./node_modules/@gitbook/slate-react/node_modules/lodash/now.js"),a=r("./node_modules/@gitbook/slate-react/node_modules/lodash/toNumber.js");var s="Expected a function";var i=Math.max,u=Math.min;function c(e,t,r){var c,l,f,d,v,y,h=0,p=false,g=false,m=true;if("function"!=typeof e)throw new TypeError(s);t=a(t)||0;if(n(r)){p=!!r.leading;g="maxWait"in r;f=g?i(a(r.maxWait)||0,t):f;m="trailing"in r?!!r.trailing:m}function k(t){var r=c,n=l;c=l=void 0;h=t;d=e.apply(n,r);return d}function b(e){h=e;v=setTimeout(_,t);return p?k(e):d}function O(e){var r=e-y,n=e-h,o=t-r;return g?u(o,f-n):o}function A(e){var r=e-y,n=e-h;return void 0===y||r>=t||r<0||g&&n>=f}function _(){var e=o();if(A(e))return w(e);v=setTimeout(_,O(e))}function w(e){v=void 0;if(m&&c)return k(e);c=l=void 0;return d}function x(){void 0!==v&&clearTimeout(v);h=0;c=y=l=v=void 0}function j(){return void 0===v?d:w(o())}function T(){var e=o(),r=A(e);c=arguments;l=this;y=e;if(r){if(void 0===v)return b(y);if(g){v=setTimeout(_,t);return k(y)}}void 0===v&&(v=setTimeout(_,t));return d}T.cancel=x;T.flush=j;return T}e.exports=c},"./node_modules/@gitbook/slate-react/node_modules/lodash/isObject.js":function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},"./node_modules/@gitbook/slate-react/node_modules/lodash/isObjectLike.js":function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},"./node_modules/@gitbook/slate-react/node_modules/lodash/isSymbol.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_baseGetTag.js"),o=r("./node_modules/@gitbook/slate-react/node_modules/lodash/isObjectLike.js");var a="[object Symbol]";function s(e){return"symbol"==typeof e||o(e)&&n(e)==a}e.exports=s},"./node_modules/@gitbook/slate-react/node_modules/lodash/now.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/_root.js");var o=function(){return n.Date.now()};e.exports=o},"./node_modules/@gitbook/slate-react/node_modules/lodash/throttle.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/debounce.js"),o=r("./node_modules/@gitbook/slate-react/node_modules/lodash/isObject.js");var a="Expected a function";function s(e,t,r){var s=true,i=true;if("function"!=typeof e)throw new TypeError(a);if(o(r)){s="leading"in r?!!r.leading:s;i="trailing"in r?!!r.trailing:i}return n(e,t,{leading:s,maxWait:t,trailing:i})}e.exports=s},"./node_modules/@gitbook/slate-react/node_modules/lodash/toNumber.js":function(e,t,r){var n=r("./node_modules/@gitbook/slate-react/node_modules/lodash/isObject.js"),o=r("./node_modules/@gitbook/slate-react/node_modules/lodash/isSymbol.js");var a=NaN;var s=/^\s+|\s+$/g;var i=/^[-+]0x[0-9a-f]+$/i;var u=/^0b[01]+$/i;var c=/^0o[0-7]+$/i;var l=parseInt;function f(e){if("number"==typeof e)return e;if(o(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=u.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):i.test(e)?a:+e}e.exports=f},"./node_modules/@gitbook/slate-schema-violations/lib/slate-schema-violations.es.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"CHILD_OBJECT_INVALID",function(){return n});r.d(t,"CHILD_REQUIRED",function(){return o});r.d(t,"CHILD_TYPE_INVALID",function(){return a});r.d(t,"CHILD_UNKNOWN",function(){return s});r.d(t,"FIRST_CHILD_OBJECT_INVALID",function(){return i});r.d(t,"FIRST_CHILD_TYPE_INVALID",function(){return u});r.d(t,"LAST_CHILD_OBJECT_INVALID",function(){return c});r.d(t,"LAST_CHILD_TYPE_INVALID",function(){return l});r.d(t,"NODE_DATA_INVALID",function(){return f});r.d(t,"NODE_IS_VOID_INVALID",function(){return d});r.d(t,"NODE_MARK_INVALID",function(){return v});r.d(t,"NODE_TEXT_INVALID",function(){return y});r.d(t,"PARENT_OBJECT_INVALID",function(){return h});r.d(t,"PARENT_TYPE_INVALID",function(){return p});var n="child_object_invalid";var o="child_required";var a="child_type_invalid";var s="child_unknown";var i="first_child_object_invalid";var u="first_child_type_invalid";var c="last_child_object_invalid";var l="last_child_type_invalid";var f="node_data_invalid";var d="node_is_void_invalid";var v="node_mark_invalid";var y="node_text_invalid";var h="parent_object_invalid";var p="parent_type_invalid"},"./node_modules/@gitbook/slate/lib/slate.es.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"Block",function(){return J});r.d(t,"Change",function(){return Tt});r.d(t,"Changes",function(){return bt});r.d(t,"Character",function(){return pe});r.d(t,"Data",function(){return U});r.d(t,"Document",function(){return ie});r.d(t,"History",function(){return Ve});r.d(t,"Inline",function(){return H});r.d(t,"Leaf",function(){return me});r.d(t,"Mark",function(){return ne});r.d(t,"Node",function(){return Oe});r.d(t,"Operation",function(){return at});r.d(t,"Operations",function(){return Nt});r.d(t,"Range",function(){return ce});r.d(t,"Schema",function(){return Xe});r.d(t,"Stack",function(){return Ge});r.d(t,"Text",function(){return be});r.d(t,"Value",function(){return nt});r.d(t,"resetKeyGenerator",function(){return C});r.d(t,"setKeyGenerator",function(){return B});r.d(t,"resetMemoization",function(){return ee});r.d(t,"useMemoization",function(){return te});var n=r("./node_modules/is-plain-object/index.js");var o=r.n(n);var a=r("./node_modules/@gitbook/slate/node_modules/@gitbook/slate-dev-logger/lib/slate-dev-logger.es.js");var s=r("./node_modules/immutable/dist/immutable.js");var i=r.n(s);var u=r("./node_modules/direction/index.js");var c=r.n(u);var l=r("./node_modules/esrever/esrever.js");var f=r.n(l);var d=r("./node_modules/@gitbook/slate/node_modules/debug/src/browser.js");var v=r.n(d);var y=r("./node_modules/lodash/isEqual.js");var h=r.n(y);var p=r("./node_modules/lodash/mergeWith.js");var g=r.n(p);var m=r("./node_modules/@gitbook/slate-schema-violations/lib/slate-schema-violations.es.js");var k=r("./node_modules/lodash/pick.js");var b=r.n(k);var O=r("./node_modules/lodash/omit.js");var A=r.n(O);var _=r("./node_modules/is-empty/lib/index.js");var w=r.n(_);var x={BLOCK:"@@__SLATE_BLOCK__@@",CHANGE:"@@__SLATE_CHANGE__@@",CHARACTER:"@@__SLATE_CHARACTER__@@",DOCUMENT:"@@__SLATE_DOCUMENT__@@",HISTORY:"@@__SLATE_HISTORY__@@",INLINE:"@@__SLATE_INLINE__@@",LEAF:"@@__SLATE_LEAF__@@",MARK:"@@__SLATE_MARK__@@",OPERATION:"@@__SLATE_OPERATION__@@",RANGE:"@@__SLATE_RANGE__@@",SCHEMA:"@@__SLATE_SCHEMA__@@",STACK:"@@__SLATE_STACK__@@",TEXT:"@@__SLATE_TEXT__@@",VALUE:"@@__SLATE_VALUE__@@"};function j(e,t){return!!(t&&t[x[e]])}var T=void 0;var N=void 0;function K(){return N()}function B(e){N=e}function C(){T=0;N=function e(){return""+T++}}C();var E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var F=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var P=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var D=function(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r};var z=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var I=function(){function e(e,t){var r=[];var n=true;var o=false;var a=void 0;try{for(var s=e[Symbol.iterator](),i;!(n=(i=s.next()).done);n=true){r.push(i.value);if(t&&r.length===t)break}}catch(e){o=true;a=e}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var R=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};var M={data:new s["Map"],isVoid:false,key:void 0,nodes:new s["List"],type:void 0};var J=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,type:this.type,isVoid:this.isVoid,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"block"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return!this.isVoid&&!this.nodes.some(function(e){return!e.isEmpty})}},{key:"text",get:function e(){return this.getText()}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(r))return r;"string"==typeof r&&(r={type:r});if(o()(r))return t.fromJSON(r);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isBlock(r))return r;var n=r.data,o=void 0===n?{}:n,a=r.isVoid,i=void 0!==a&&a,u=r.key,c=void 0===u?K():u,l=r.nodes,f=void 0===l?[]:l,d=r.type;if("string"!=typeof d)throw new Error("`Block.fromJSON` requires a `type` string.");var v=new t({key:c,type:d,isVoid:!!i,data:Object(s["Map"])(o),nodes:t.createChildren(f)});return v}},{key:"isBlockList",value:function e(r){return s["List"].isList(r)&&r.every(function(e){return t.isBlock(e)})}}]);return t}(Object(s["Record"])(M));J.fromJS=J.fromJSON;J.isBlock=j.bind(null,"BLOCK");J.prototype[x.BLOCK]=true;var V={data:new s["Map"],isVoid:false,key:void 0,nodes:new s["List"],type:void 0};var H=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,type:this.type,isVoid:this.isVoid,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"inline"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return!this.isVoid&&!this.nodes.some(function(e){return!e.isEmpty})}},{key:"text",get:function e(){return this.getText()}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(r))return r;"string"==typeof r&&(r={type:r});if(o()(r))return t.fromJSON(r);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isInline(r))return r;var n=r.data,o=void 0===n?{}:n,a=r.isVoid,i=void 0!==a&&a,u=r.key,c=void 0===u?K():u,l=r.nodes,f=void 0===l?[]:l,d=r.type;if("string"!=typeof d)throw new Error("`Inline.fromJS` requires a `type` string.");var v=new t({key:c,type:d,isVoid:!!i,data:new s["Map"](o),nodes:t.createChildren(f)});return v}},{key:"isInlineList",value:function e(r){return s["List"].isList(r)&&r.every(function(e){return t.isInline(e)})}}]);return t}(Object(s["Record"])(V));H.fromJS=H.fromJSON;H.isInline=j.bind(null,"INLINE");H.prototype[x.INLINE]=true;var U=function(){function e(){F(this,e)}S(e,null,[{key:"create",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s["Map"].isMap(r))return r;if(o()(r))return e.fromJSON(r);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+r)}},{key:"fromJSON",value:function e(t){return new s["Map"](t)}}]);return e}();U.fromJS=U.fromJSON;var W=true;var q=0;var G={};var Y={};var $=void 0;function X(e,t){var r=function t(r){var n=e[r];if(!n)throw new Error('Object does not have a property named "'+r+'".');e[r]=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!W)return n.apply(this,t);if(q!==this.__cache_key){this.__cache_key=q;this.__cache=new Map;this.__cache_no_args={}}this.__cache||(this.__cache=new Map);this.__cache_no_args||(this.__cache_no_args={});var a=0!==t.length;var s=void 0;var i=void 0;if(a){i=[r].concat(t);s=Q(this.__cache,i)}else s=this.__cache_no_args[r];if(s!==$)return s===Y?void 0:s;var u=n.apply(this,t);var c=void 0===u?Y:u;a?this.__cache=Z(this.__cache,i,c):this.__cache_no_args[r]=c;return u}};var n=true;var o=false;var a=void 0;try{for(var s=t[Symbol.iterator](),i;!(n=(i=s.next()).done);n=true){var u=i.value;r(u)}}catch(e){o=true;a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}}function Q(e,t){var r=true;var n=false;var o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var i=s.value;e=e.get(i);if(e===$)return $}}catch(e){n=true;o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e.get(G)}function Z(e,t,r){var n=e;var o=void 0;var a=true;var s=false;var i=void 0;try{for(var u=t[Symbol.iterator](),c;!(a=(c=u.next()).done);a=true){var l=c.value;o=n.get(l);if(o===$){o=new Map;n.set(l,o)}n=o}}catch(e){s=true;i=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw i}}o.set(G,r);return e}function ee(){q++;q>=Number.MAX_SAFE_INTEGER&&(q=0)}function te(e){W=e}var re={data:new s["Map"],type:void 0};var ne=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getComponent",value:function e(t){return t.__getComponent(this)}},{key:"toJSON",value:function e(){var t={object:this.object,type:this.type,data:this.data.toJSON()};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"mark"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(r))return r;"string"==typeof r&&(r={type:r});if(o()(r))return t.fromJSON(r);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+r)}},{key:"createSet",value:function e(r){if(s["Set"].isSet(r)||Array.isArray(r)){var n=new s["Set"](r.map(t.create));return n}if(null==r)return Object(s["Set"])();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+r)}},{key:"createProperties",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(r))return{data:r.data,type:r.type};if("string"==typeof r)return{type:r};if(o()(r)){var n={};"type"in r&&(n.type=r.type);"data"in r&&(n.data=U.create(r.data));return n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.data,o=void 0===n?{}:n,a=r.type;if("string"!=typeof a)throw new Error("`Mark.fromJS` requires a `type` string.");var i=new t({type:a,data:new s["Map"](o)});return i}},{key:"isMarkSet",value:function e(r){return s["Set"].isSet(r)&&r.every(function(e){return t.isMark(e)})}}]);return t}(Object(s["Record"])(re));ne.fromJS=ne.fromJSON;ne.isMark=j.bind(null,"MARK");ne.prototype[x.MARK]=true;X(ne.prototype,["getComponent"]);var oe={};var ae=["deleteBackward","deleteCharBackward","deleteLineBackward","deleteWordBackward","deleteForward","deleteCharForward","deleteWordForward","deleteLineForward","setBlocks","setInlines","splitInline","unwrapBlock","unwrapInline","wrapBlock","wrapInline"];ae.forEach(function(e){oe[e]=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=t.value;var s=a.selection;var i=e+"AtRange";t[i].apply(t,[s].concat(n));e.match(/Backward$/)?t.collapseToStart():e.match(/Forward$/)&&t.collapseToEnd()}});oe.setBlock=function(){a["a"].deprecate("slate@0.33.0","The `setBlock` method of Slate changes has been renamed to `setBlocks`.");oe.setBlocks.apply(oe,arguments)};oe.setInline=function(){a["a"].deprecate("slate@0.33.0","The `setInline` method of Slate changes has been renamed to `setInlines`.");oe.setInlines.apply(oe,arguments)};oe.addMark=function(e,t){t=ne.create(t);var r=e.value;var n=r.document,o=r.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var a=o.marks.add(t);var s=o.set("marks",a);e.select(s)}else{var i=n.getActiveMarksAtRange(o).add(t);var u=o.set("marks",i);e.select(u)}};oe.addMarks=function(e,t){t.forEach(function(t){return e.addMark(t)})};oe.delete=function(e){var t=e.value;var r=t.selection;e.deleteAtRange(r);e.collapseToStart()};oe.insertBlock=function(e,t){t=J.create(t);var r=e.value;var n=r.selection;e.insertBlockAtRange(n,t);var o=e.value.document.getNode(t.key);o&&e.collapseToEndOf(o)};oe.insertFragment=function(e,t){if(!t.nodes.size)return;var r=e.value;var n=r,o=n.document,a=n.selection;var s=r,i=s.startText,u=s.endText,c=s.startInline;var l=t.getLastText();var f=t.getClosestInline(l.key);var d=t.nodes.first();var v=t.nodes.last();var y=o.getTexts().map(function(e){return e.key});var h=!c||a.hasEdgeAtStartOf(i)||a.hasEdgeAtEndOf(u);var p=t.hasBlocks(d.key)||t.hasBlocks(v.key);e.insertFragmentAtRange(a,t);r=e.value;o=r.document;var g=o.getTexts().filter(function(e){return!y.includes(e.key)});var m=h?g.last():g.takeLast(2).first();m&&(f||p)?e.select(a.collapseToEndOf(m)):m?e.select(a.collapseToStartOf(m).move(l.text.length)):e.select(a.collapseToStart().move(l.text.length))};oe.insertInline=function(e,t){t=H.create(t);var r=e.value;var n=r.selection;e.insertInlineAtRange(n,t);var o=e.value.document.getNode(t.key);o&&e.collapseToEndOf(o)};oe.insertText=function(e,t,r){var n=e.value;var o=n.document,a=n.selection;r=r||a.marks||o.getInsertMarksAtRange(a);e.insertTextAtRange(a,t,r);a.marks&&o!=e.value.document&&e.select({marks:null})};oe.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var r=e.value;var n=r.selection,o=r.document;var a=n.marks||o.getInsertMarksAtRange(n);e.splitBlockAtRange(n,t).collapseToEnd();a&&0!==a.size&&e.select({marks:a})};oe.removeMark=function(e,t){t=ne.create(t);var r=e.value;var n=r.document,o=r.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var a=o.marks.remove(t);var s=o.set("marks",a);e.select(s)}else{var i=n.getActiveMarksAtRange(o).remove(t);var u=o.set("marks",i);e.select(u)}};oe.replaceMark=function(e,t,r){e.removeMark(t);e.addMark(r)};oe.toggleMark=function(e,t){t=ne.create(t);var r=e.value;var n=r.activeMarks.has(t);n?e.removeMark(t):e.addMark(t)};oe.wrapText=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;var n=e.value;var o=n.selection;e.wrapTextAtRange(o,t,r);o.isCollapsed&&e.moveStart(0-t.length);e.moveEnd(0-r.length);o.isForward!=e.value.selection.isForward&&e.flip()};var se={data:new s["Map"],key:void 0,nodes:new s["List"]};var ie=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"document"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return!this.nodes.some(function(e){return!e.isEmpty})}},{key:"text",get:function e(){return this.getText()}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(r))return r;(s["List"].isList(r)||Array.isArray(r))&&(r={nodes:r});if(o()(r))return t.fromJSON(r);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isDocument(r))return r;var n=r.data,o=void 0===n?{}:n,a=r.key,i=void 0===a?K():a,u=r.nodes,c=void 0===u?[]:u;var l=new t({key:i,data:new s["Map"](o),nodes:t.createChildren(c)});return l}}]);return t}(Object(s["Record"])(se));ie.fromJS=ie.fromJSON;ie.isDocument=j.bind(null,"DOCUMENT");ie.prototype[x.DOCUMENT]=true;var ue={anchorKey:null,anchorOffset:0,focusKey:null,focusOffset:0,isBackward:null,isFocused:false,marks:null,isAtomic:false};var ce=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"hasAnchorAtStartOf",value:function e(t){if(0!=this.anchorOffset)return false;var r=ve(t);return this.anchorKey==r.key}},{key:"hasAnchorAtEndOf",value:function e(t){var r=ye(t);return this.anchorKey==r.key&&this.anchorOffset==r.text.length}},{key:"hasAnchorBetween",value:function e(t,r,n){return this.anchorOffset<=n&&r<=this.anchorOffset&&this.hasAnchorIn(t)}},{key:"hasAnchorIn",value:function e(t){return"text"==t.object?t.key==this.anchorKey:null!=this.anchorKey&&t.hasDescendant(this.anchorKey)}},{key:"hasFocusAtEndOf",value:function e(t){var r=ye(t);return this.focusKey==r.key&&this.focusOffset==r.text.length}},{key:"hasFocusAtStartOf",value:function e(t){if(0!=this.focusOffset)return false;var r=ve(t);return this.focusKey==r.key}},{key:"hasFocusBetween",value:function e(t,r,n){return r<=this.focusOffset&&this.focusOffset<=n&&this.hasFocusIn(t)}},{key:"hasFocusIn",value:function e(t){return"text"==t.object?t.key==this.focusKey:null!=this.focusKey&&t.hasDescendant(this.focusKey)}},{key:"isAtStartOf",value:function e(t){return this.isCollapsed&&this.hasAnchorAtStartOf(t)}},{key:"isAtEndOf",value:function e(t){return this.isCollapsed&&this.hasAnchorAtEndOf(t)}},{key:"focus",value:function e(){return this.merge({isFocused:true})}},{key:"blur",value:function e(){return this.merge({isFocused:false})}},{key:"deselect",value:function e(){return this.merge({anchorKey:null,anchorOffset:0,focusKey:null,focusOffset:0,isFocused:false,isBackward:false})}},{key:"flip",value:function e(){return this.merge({anchorKey:this.focusKey,anchorOffset:this.focusOffset,focusKey:this.anchorKey,focusOffset:this.anchorOffset,isBackward:null==this.isBackward?null:!this.isBackward})}},{key:"moveAnchor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;var r=this.anchorKey,n=this.focusKey,o=this.focusOffset,a=this.isBackward;var s=this.anchorOffset+t;return this.merge({anchorOffset:s,isBackward:r==n?s>o:a})}},{key:"moveFocus",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;var r=this.anchorKey,n=this.anchorOffset,o=this.focusKey,a=this.isBackward;var s=this.focusOffset+t;return this.merge({focusOffset:s,isBackward:o==r?n>s:a})}},{key:"moveAnchorTo",value:function e(t,r){var n=this.anchorKey,o=this.focusKey,a=this.focusOffset,s=this.isBackward;return this.merge({anchorKey:t,anchorOffset:r,isBackward:t==o?r>a:t==n?s:null})}},{key:"moveFocusTo",value:function e(t,r){var n=this.focusKey,o=this.anchorKey,a=this.anchorOffset,s=this.isBackward;return this.merge({focusKey:t,focusOffset:r,isBackward:t==o?a>r:t==n?s:null})}},{key:"moveAnchorOffsetTo",value:function e(t){return this.merge({anchorOffset:t,isBackward:this.anchorKey==this.focusKey?t>this.focusOffset:this.isBackward})}},{key:"moveFocusOffsetTo",value:function e(t){return this.merge({focusOffset:t,isBackward:this.anchorKey==this.focusKey?this.anchorOffset>t:this.isBackward})}},{key:"moveOffsetsTo",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.moveAnchorOffsetTo(t).moveFocusOffsetTo(r)}},{key:"moveToAnchor",value:function e(){return this.moveFocusTo(this.anchorKey,this.anchorOffset)}},{key:"moveToFocus",value:function e(){return this.moveAnchorTo(this.focusKey,this.focusOffset)}},{key:"moveAnchorToStartOf",value:function e(t){t=ve(t);return this.moveAnchorTo(t.key,0)}},{key:"moveAnchorToEndOf",value:function e(t){t=ye(t);return this.moveAnchorTo(t.key,t.text.length)}},{key:"moveFocusToStartOf",value:function e(t){t=ve(t);return this.moveFocusTo(t.key,0)}},{key:"moveFocusToEndOf",value:function e(t){t=ye(t);return this.moveFocusTo(t.key,t.text.length)}},{key:"moveToRangeOf",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;var n=this.isBackward?this.flip():this;return n.moveAnchorToStartOf(t).moveFocusToEndOf(r)}},{key:"normalize",value:function e(t){var r=this;var n=r.anchorKey,o=r.anchorOffset,s=r.focusKey,i=r.focusOffset,u=r.isBackward;var c="undefined"===typeof o?"undefined":E(o);var l="undefined"===typeof i?"undefined":E(i);"number"==c&&"number"==l||a["a"].warn('The range offsets should be numbers, but they were of type "'+c+'" and "'+l+'".');if(null==n||null==s)return r.merge({anchorKey:null,anchorOffset:0,focusKey:null,focusOffset:0,isBackward:false});var f=t.getDescendant(n);var d=t.getDescendant(s);if(!f||!d){a["a"].warn("The range was invalid and was reset. The range in question was:",r);var v=t.getFirstText();return r.merge({anchorKey:v?v.key:null,anchorOffset:0,focusKey:v?v.key:null,focusOffset:0,isBackward:false})}if("text"!=f.object){a["a"].warn("The range anchor was set to a Node that is not a Text node. This should not happen and can degrade performance. The node in question was:",f);var y=f.getTextAtOffset(o);var h=f.getOffset(y.key);o-=h;f=y}if("text"!=d.object){a["a"].warn("The range focus was set to a Node that is not a Text node. This should not happen and can degrade performance. The node in question was:",d);var p=d.getTextAtOffset(i);var g=d.getOffset(p.key);i-=g;d=p}null==u&&(u=f.key===d.key?o>i:!t.areDescendantsSorted(f.key,d.key));return r.merge({anchorKey:f.key,anchorOffset:o,focusKey:d.key,focusOffset:i,isBackward:u})}},{key:"toJSON",value:function e(){var t={object:this.object,anchorKey:this.anchorKey,anchorOffset:this.anchorOffset,focusKey:this.focusKey,focusOffset:this.focusOffset,isBackward:this.isBackward,isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(e){return e.toJSON()}),isAtomic:this.isAtomic};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"range"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isBlurred",get:function e(){return!this.isFocused}},{key:"isCollapsed",get:function e(){return this.anchorKey==this.focusKey&&this.anchorOffset==this.focusOffset}},{key:"isExpanded",get:function e(){return!this.isCollapsed}},{key:"isForward",get:function e(){return null==this.isBackward?null:!this.isBackward}},{key:"isSet",get:function e(){return null!=this.anchorKey&&null!=this.focusKey}},{key:"isUnset",get:function e(){return!this.isSet}},{key:"startKey",get:function e(){return this.isBackward?this.focusKey:this.anchorKey}},{key:"startOffset",get:function e(){return this.isBackward?this.focusOffset:this.anchorOffset}},{key:"endKey",get:function e(){return this.isBackward?this.anchorKey:this.focusKey}},{key:"endOffset",get:function e(){return this.isBackward?this.anchorOffset:this.focusOffset}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(r))return r;if(o()(r))return t.fromJSON(r);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"createProperties",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(r))return{anchorKey:r.anchorKey,anchorOffset:r.anchorOffset,focusKey:r.focusKey,focusOffset:r.focusOffset,isBackward:r.isBackward,isFocused:r.isFocused,marks:r.marks,isAtomic:r.isAtomic};if(o()(r)){var n={};"anchorKey"in r&&(n.anchorKey=r.anchorKey);"anchorOffset"in r&&(n.anchorOffset=r.anchorOffset);"anchorPath"in r&&(n.anchorPath=r.anchorPath);"focusKey"in r&&(n.focusKey=r.focusKey);"focusOffset"in r&&(n.focusOffset=r.focusOffset);"focusPath"in r&&(n.focusPath=r.focusPath);"isBackward"in r&&(n.isBackward=r.isBackward);"isFocused"in r&&(n.isFocused=r.isFocused);"marks"in r&&(n.marks=null==r.marks?null:ne.createSet(r.marks));"isAtomic"in r&&(n.isAtomic=r.isAtomic);return n}throw new Error("`Range.createProperties` only accepts objects or ranges, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.anchorKey,o=void 0===n?null:n,a=r.anchorOffset,i=void 0===a?0:a,u=r.focusKey,c=void 0===u?null:u,l=r.focusOffset,f=void 0===l?0:l,d=r.isBackward,v=void 0===d?null:d,y=r.isFocused,h=void 0!==y&&y,p=r.marks,g=void 0===p?null:p,m=r.isAtomic,k=void 0!==m&&m;var b=new t({anchorKey:o,anchorOffset:i,focusKey:c,focusOffset:f,isBackward:v,isFocused:h,marks:null==g?null:new s["Set"](g.map(ne.fromJSON)),isAtomic:k});return b}},{key:"isRange",value:function e(t){return!!(t&&t[x.RANGE])}}]);return t}(Object(s["Record"])(ue));ce.fromJS=ce.fromJSON;ce.prototype[x.RANGE]=true;var le=[["move",""],["move","To"],["move","ToStartOf"],["move","ToEndOf"]];le.forEach(function(e){var t=I(e,2),r=t[0],n=t[1];ce.prototype[""+r+n]=function(){var e;return(e=this[r+"Anchor"+n].apply(this,arguments))[r+"Focus"+n].apply(e,arguments)}});var fe=[["has","AtStartOf",true],["has","AtEndOf",true],["has","Between",true],["has","In",true],["collapseTo",""],["move",""],["moveTo",""],["move","To"],["move","OffsetTo"]];fe.forEach(function(e){var t=I(e,3),r=t[0],n=t[1],o=t[2];var a=r+"Anchor"+n;var s=r+"Focus"+n;ce.prototype[r+"Start"+n]=function(){return this.isBackward?this[s].apply(this,arguments):this[a].apply(this,arguments)};ce.prototype[r+"End"+n]=function(){return this.isBackward?this[a].apply(this,arguments):this[s].apply(this,arguments)};o&&(ce.prototype[r+"Edge"+n]=function(){return this[a].apply(this,arguments)||this[s].apply(this,arguments)})});var de=[["collapseTo","moveTo"],["collapseToAnchor","moveToAnchor"],["collapseToFocus","moveToFocus"],["collapseToStart","moveToStart"],["collapseToEnd","moveToEnd"],["collapseToStartOf","moveToStartOf"],["collapseToEndOf","moveToEndOf"],["extend","moveFocus"],["extendTo","moveFocusTo"],["extendToStartOf","moveFocusToStartOf"],["extendToEndOf","moveFocusToEndOf"]];de.forEach(function(e){var t=I(e,2),r=t[0],n=t[1];ce.prototype[r]=function(){return this[n].apply(this,arguments)}});function ve(e){return"text"==e.object?e:e.getFirstText()}function ye(e){return"text"==e.object?e:e.getLastText()}var he={marks:new s["Set"],text:""};var pe=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t={object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"character"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isCharacter(r))return r;"string"==typeof r&&(r={text:r});if(o()(r))return t.fromJSON(r);throw new Error("`Character.create` only accepts objects, strings or characters, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof r&&(r=r.split(""));if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Block.createList` only accepts strings, arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.text,o=r.marks,a=void 0===o?[]:o;if("string"!=typeof n)throw new Error("`Character.fromJSON` requires a block `text` string.");var i=new t({text:n,marks:new s["Set"](a)});return i}},{key:"isCharacterList",value:function e(r){return s["List"].isList(r)&&r.every(function(e){return t.isCharacter(e)})}}]);return t}(Object(s["Record"])(he));pe.fromJS=pe.fromJSON;pe.isCharacter=j.bind(null,"CHARACTER");pe.prototype[x.CHARACTER]=true;var ge={marks:Object(s["Set"])(),text:""};var me=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getCharacters",value:function e(){a["a"].deprecate("slate@0.34.0","The `characters` property of Slate objects is deprecated");var t=this.marks;var r=pe.createList(this.text.split("").map(function(e){return pe.create({text:e,marks:t})}));return r}},{key:"updateMark",value:function e(t,r){var n=this.marks;if(r.equals(t))return this;if(!n.has(t))return this;var o=n.withMutations(function(e){e.remove(t).add(r)});return this.set("marks",o)}},{key:"addMarks",value:function e(t){var r=this.marks;return this.set("marks",r.union(t))}},{key:"removeMark",value:function e(t){var r=this.marks;return this.set("marks",r.remove(t))}},{key:"toJSON",value:function e(){var t={object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"leaf"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isLeaf(r))return r;"string"==typeof r&&(r={text:r});if(o()(r))return t.fromJSON(r);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+r)}},{key:"createLeaves",value:function e(t){if(t.size<=1)return t;var r=false;var n=Object(s["List"])().withMutations(function(e){t.findLast(function(t,n){var o=e.first();if(o){if(o.marks.equals(t.marks)){r=true;e.set(0,o.set("text",""+t.text+o.text));return}if(""===o.text){r=true;e.set(0,t);return}if(""===t.text){r=true;return}}e.unshift(t)})});if(!r)return t;return n}},{key:"splitLeaves",value:function e(t,r){if(r<0)return[Object(s["List"])(),t];if(0===t.size)return[Object(s["List"])(),Object(s["List"])()];var n=0;var o=-1;var a=void 0,i=void 0;t.find(function(e){o++;var t=n;var s=e.text;n+=s.length;if(n<r)return false;if(t>r)return false;var u=r-t;a=e.set("text",s.slice(0,u));i=e.set("text",s.slice(u));return true});if(!a)return[t,Object(s["List"])()];if(""===a.text){if(0===o)return[s["List"].of(a),t];return[t.take(o),t.skip(o)]}if(""===i.text){if(o===t.size-1)return[t,s["List"].of(i)];return[t.take(o+1),t.skip(o+1)]}return[t.take(o).push(a),t.skip(o+1).unshift(i)]}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.text,o=void 0===n?"":n,a=r.marks,i=void 0===a?[]:a;var u=new t({text:o,marks:Object(s["Set"])(i.map(ne.fromJSON))});return u}},{key:"isLeafList",value:function e(r){return s["List"].isList(r)&&r.every(function(e){return t.isLeaf(e)})}}]);return t}(Object(s["Record"])(ge));me.fromJS=me.fromJSON;me.isLeaf=j.bind(null,"LEAF");me.prototype[x.LEAF]=true;var ke={leaves:Object(s["List"])(),key:void 0};var be=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getString",value:function e(){return this.leaves.reduce(function(e,t){return e+t.text},"")}},{key:"searchLeafAtOffset",value:function e(t){var r=0;var n=0;var o=-1;var a=this.leaves.find(function(e){o++;n=r;r=n+e.text.length;return r>=t});return{leaf:a,endOffset:r,index:o,startOffset:n}}},{key:"addMark",value:function e(t,r,n){var o=s["Set"].of(n);return this.addMarks(t,r,o)}},{key:"addMarks",value:function e(t,r,n){if(""===this.text&&0===r&&0===t){var o=this.leaves;var a=o.first();if(!a)return this.set("leaves",s["List"].of(me.fromJSON({text:"",marks:n})));var i=a.addMarks(n);if(i===a)return this;return this.set("leaves",s["List"].of(i))}if(""===this.text)return this;if(0===r)return this;if(t>=this.text.length)return this;var u=me.splitLeaves(this.leaves,t),c=I(u,2),l=c[0],f=c[1];var d=me.splitLeaves(f,r),v=I(d,2),y=v[0],h=v[1];var p=l.concat(y.map(function(e){return e.addMarks(n)}),h);return this.setLeaves(p)}},{key:"getDecorations",value:function e(t){return t.__getDecorations(this)}},{key:"getLeaves",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var n=this.leaves;if(0===n.size)return s["List"].of(me.create({}));if(!r||0===r.length)return n;if(0===this.text.length)return n;var o=this.key;r.forEach(function(e){var r=e.startKey,a=e.endKey,s=e.startOffset,i=e.endOffset,u=e.marks;var c=r==o;var l=a==o;if(c&&l){var f=c?s:0;var d=l?i-f:t.text.length-f;if(d<1)return;if(f>=t.text.length)return;if(0!==f||d<t.text.length){var v=me.splitLeaves(n,f),y=I(v,2),h=y[0],p=y[1];var g=me.splitLeaves(p,d),m=I(g,2),k=m[0],b=m[1];n=h.concat(k.map(function(e){return e.addMarks(u)}),b);return}}n=n.map(function(e){return e.addMarks(u)})});if(n===this.leaves)return n;return me.createLeaves(n)}},{key:"getActiveMarksBetweenOffsets",value:function e(t,r){if(t<=0&&r>=this.text.length)return this.getActiveMarks();if(t>=r)return Object(s["Set"])();if(""===this.text)return this.getActiveMarks();var n=null;var o=0;this.leaves.forEach(function(e){var a=o;o=a+e.text.length;if(o<=t)return;if(a>=r)return false;if(!n){n=e.marks;return}n=n.intersect(e.marks);if(n&&0===n.size)return false;return false});return n||Object(s["Set"])()}},{key:"getActiveMarks",value:function e(){var t=this;if(0===this.leaves.size)return Object(s["Set"])();var r=this.leaves.first().marks;if(0===r.size)return r;return r.withMutations(function(e){t.leaves.forEach(function(t){e.intersect(t.marks);if(0===e.size)return false})})}},{key:"getMarksBetweenOffsets",value:function e(t,r){if(t<=0&&r>=this.text.length)return this.getMarks();if(t>=r)return Object(s["Set"])();if(""===this.text)return this.getActiveMarks();var n=null;var o=0;this.leaves.forEach(function(e){var a=o;o=a+e.text.length;if(o<=t)return;if(a>=r)return false;if(!n){n=e.marks;return}n=n.union(e.marks)});return n||Object(s["Set"])()}},{key:"getMarks",value:function e(){var t=this.getMarksAsArray();return new s["OrderedSet"](t)}},{key:"getMarksAsArray",value:function e(){if(0===this.leaves.size)return[];var t=this.leaves.first().marks;if(1===this.leaves.size)return t.toArray();var r=[];this.leaves.forEach(function(e){r.push(e.marks.toArray())});return Array.prototype.concat.apply(t.toArray(),r)}},{key:"getMarksAtIndex",value:function e(t){var r=this.searchLeafAtOffset(t),n=r.leaf;if(!n)return Object(s["Set"])();return n.marks}},{key:"getNode",value:function e(t){return this.key==t?this:null}},{key:"hasNode",value:function e(t){return!!this.getNode(t)}},{key:"insertText",value:function e(t,r,n){if(""===this.text)return this.set("leaves",s["List"].of(me.create({text:r,marks:n})));if(0===r.length)return this;n||(n=Object(s["Set"])());var o=this.searchLeafAtOffset(t),a=o.startOffset,i=o.leaf,u=o.index;var c=t-a;var l=i.text.slice(0,c);var f=i.text.slice(c);var d=this.leaves;if(i.marks.equals(n))return this.set("leaves",d.set(u,i.set("text",l+r+f)));var v=d.splice(u,1,i.set("text",l),me.create({text:r,marks:n}),i.set("text",f));return this.setLeaves(v)}},{key:"regenerateKey",value:function e(){var t=K();return this.set("key",t)}},{key:"removeMark",value:function e(t,r,n){if(""===this.text&&0===t&&0===r){var o=this.leaves.first();if(!o)return this;var a=o.removeMark(n);if(a===o)return this;return this.set("leaves",s["List"].of(a))}if(r<=0)return this;if(t>=this.text.length)return this;var i=me.splitLeaves(this.leaves,t),u=I(i,2),c=u[0],l=u[1];var f=me.splitLeaves(l,r),d=I(f,2),v=d[0],y=d[1];var h=c.concat(v.map(function(e){return e.removeMark(n)}),y);return this.setLeaves(h)}},{key:"removeText",value:function e(t,r){if(r<=0)return this;if(t>=this.text.length)return this;if(1===r){var n=this.searchLeafAtOffset(t+1),o=n.leaf,a=n.index,i=n.startOffset;var u=t-i;if(o){if(1===o.text.length){var c=this.leaves.remove(a);return this.setLeaves(c)}var l=o.text.slice(0,u);var f=o.text.slice(u+r);var d=l+f;if(d.length>0)return this.set("leaves",this.leaves.set(a,o.set("text",d)))}}var v=me.splitLeaves(this.leaves,t),y=I(v,2),h=y[0],p=y[1];var g=me.splitLeaves(p,r)[1];var m=me.createLeaves(h.concat(g));if(1===m.size){var k=m.first();if(""===k.text)return this.set("leaves",s["List"].of(k.set("marks",this.getActiveMarks())))}return this.set("leaves",m)}},{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,leaves:this.getLeaves().toArray().map(function(e){return e.toJSON()})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"updateMark",value:function e(t,r,n,o){var a=n.merge(o);if(""===this.text&&0===r&&0===t){var i=this.leaves;var u=i.first();if(!u)return this;var c=u.updateMark(n,a);if(c===u)return this;return this.set("leaves",s["List"].of(c))}if(r<=0)return this;if(t>=this.text.length)return this;var l=me.splitLeaves(this.leaves,t),f=I(l,2),d=f[0],v=f[1];var y=me.splitLeaves(v,r),h=I(y,2),p=h[0],g=h[1];var m=d.concat(p.map(function(e){return e.updateMark(n,a)}),g);return this.setLeaves(m)}},{key:"splitText",value:function e(t){var r=me.splitLeaves(this.leaves,t);var n=this.set("leaves",r[0]);var o=this.set("leaves",r[1]).regenerateKey();return[n,o]}},{key:"mergeText",value:function e(t){var r=this.leaves.concat(t.leaves);return this.setLeaves(r)}},{key:"validate",value:function e(t){return t.validateNode(this)}},{key:"getFirstInvalidDescendant",value:function e(t){return this.validate(t)?this:null}},{key:"setLeaves",value:function e(t){var r=me.createLeaves(t);if(1===r.size){var n=r.first();if((!n.marks||0===n.marks.size)&&""===n.text)return this.set("leaves",Object(s["List"])())}return this.set("leaves",me.createLeaves(t))}},{key:"object",get:function e(){return"text"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return""==this.text}},{key:"text",get:function e(){return this.getString()}},{key:"characters",get:function e(){return this.leaves.flatMap(function(e){return e.getCharacters()})}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(r))return r;"string"==typeof r&&(r={leaves:[{text:r}]});if(o()(r)){if(r.text){var n=r,a=n.text,s=n.marks,i=n.key;r={key:i,leaves:[{text:a,marks:s}]}}return t.fromJSON(r)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isText(r))return r;var n=r.key,o=void 0===n?K():n;var a=r.leaves,i=void 0===a?Object(s["List"])():a;if(Array.isArray(i))i=Object(s["List"])(i.map(function(e){return me.create(e)}));else{if(!s["List"].isList(i))throw new Error("leaves must be either Array or Immutable.List");i=i.map(function(e){return me.create(e)})}var u=new t({leaves:me.createLeaves(i),key:o});return u}},{key:"isTextList",value:function e(r){return s["List"].isList(r)&&r.every(function(e){return t.isText(e)})}}]);return t}(Object(s["Record"])(ke));be.fromJS=be.fromJSON;be.isText=j.bind(null,"TEXT");be.prototype[x.TEXT]=true;X(be.prototype,["getDecorations","getActiveMarks","getMarks","getMarksAsArray","validate","getString"]);var Oe=function(){function e(){F(this,e)}S(e,[{key:"areDescendantsSorted",value:function e(t,r){t=Ae(t);r=Ae(r);var n=this.getKeysAsArray();var o=n.indexOf(t);var a=n.indexOf(r);if(-1==o||-1==a)return null;return o<a}},{key:"assertChild",value:function e(t){var r=this.getChild(t);if(!r){t=Ae(t);throw new Error('Could not find a child node with key "'+t+'".')}return r}},{key:"assertDescendant",value:function e(t){var r=this.getDescendant(t);if(!r){t=Ae(t);throw new Error('Could not find a descendant node with key "'+t+'".')}return r}},{key:"assertNode",value:function e(t){var r=this.getNode(t);if(!r){t=Ae(t);throw new Error('Could not find a node with key "'+t+'".')}return r}},{key:"assertPath",value:function e(t){var r=this.getDescendantAtPath(t);if(!r)throw new Error('Could not find a descendant at path "'+t+'".');return r}},{key:"filterDescendants",value:function e(t){var r=[];this.forEachDescendant(function(e,n,o){t(e,n,o)&&r.push(e)});return Object(s["List"])(r)}},{key:"findDescendant",value:function e(t){var r=null;this.forEachDescendant(function(e,n,o){if(t(e,n,o)){r=e;return false}});return r}},{key:"forEachDescendant",value:function e(t){var r=void 0;this.nodes.forEach(function(e,n,o){if(false===t(e,n,o)){r=false;return false}if("text"!=e.object){r=e.forEachDescendant(t);return r}});return r}},{key:"getAncestors",value:function e(t){t=Ae(t);if(t==this.key)return Object(s["List"])();if(this.hasChild(t))return Object(s["List"])([this]);var r=void 0;this.nodes.find(function(e){if("text"==e.object)return false;r=e.getAncestors(t);return r});return r?r.unshift(this):null}},{key:"getBlocks",value:function e(){var t=this.getBlocksAsArray();return new s["List"](t)}},{key:"getBlocksAsArray",value:function e(){return this.nodes.reduce(function(e,t){if("block"!=t.object)return e;if(!t.isLeafBlock())return e.concat(t.getBlocksAsArray());e.push(t);return e},[])}},{key:"getBlocksAtRange",value:function e(t){var r=this.getBlocksAtRangeAsArray(t);return new s["List"](new s["OrderedSet"](r))}},{key:"getBlocksAtRangeAsArray",value:function e(t){t=t.normalize(this);if(t.isUnset)return[];var r=t,n=r.startKey,o=r.endKey;var a=this.getClosestBlock(n);if(n==o)return[a];var s=this.getClosestBlock(o);var i=this.getBlocksAsArray();var u=i.indexOf(a);var c=i.indexOf(s);return i.slice(u,c+1)}},{key:"getBlocksByType",value:function e(t){var r=this.getBlocksByTypeAsArray(t);return new s["List"](r)}},{key:"getBlocksByTypeAsArray",value:function e(t){return this.nodes.reduce(function(e,r){if("block"!=r.object)return e;if(r.isLeafBlock()&&r.type==t){e.push(r);return e}return e.concat(r.getBlocksByTypeAsArray(t))},[])}},{key:"getCharacters",value:function e(){return this.getTexts().flatMap(function(e){return e.characters})}},{key:"getCharactersAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(s["List"])();var r=t,n=r.startKey,o=r.endKey,a=r.startOffset,i=r.endOffset;if(n===o){var u=this.getDescendant(o);return u.characters.slice(a,i)}return this.getTextsAtRange(t).flatMap(function(e){if(e.key===n)return e.characters.slice(a);if(e.key===o)return e.characters.slice(0,i);return e.characters})}},{key:"getChild",value:function e(t){t=Ae(t);return this.nodes.find(function(e){return e.key==t})}},{key:"getClosest",value:function e(t,r){t=Ae(t);var n=this.getAncestors(t);if(!n)throw new Error('Could not find a descendant node with key "'+t+'".');return n.rest().findLast(r)}},{key:"getClosestBlock",value:function e(t){return this.getClosest(t,function(e){return"block"==e.object})}},{key:"getClosestInline",value:function e(t){return this.getClosest(t,function(e){return"inline"==e.object})}},{key:"getClosestVoid",value:function e(t){return this.getClosest(t,function(e){return e.isVoid})}},{key:"getCommonAncestor",value:function e(t,r){t=Ae(t);r=Ae(r);if(t==this.key)return this;if(r==this.key)return this;this.assertDescendant(t);this.assertDescendant(r);var n=new s["List"];var o=this.getParent(t);var a=this.getParent(r);while(o){n=n.push(o);o=this.getParent(o.key)}while(a){if(n.includes(a))return a;a=this.getParent(a.key)}}},{key:"getDecorations",value:function e(t){var r=t.find("decorateNode",this);var n=ce.createList(r||[]);return n}},{key:"getDepth",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.assertDescendant(t);if(this.hasChild(t))return r;return this.getFurthestAncestor(t).getDepth(t,r+1)}},{key:"getDescendant",value:function e(t){t=Ae(t);var r=null;var n=this.nodes.find(function(e){if(e.key===t)return e;if("text"!==e.object){r=e.getDescendant(t);return r}return false});return r||n}},{key:"getDescendantAtPath",value:function e(t){var r=this;var n=true;var o=false;var a=void 0;try{for(var s=t[Symbol.iterator](),i;!(n=(i=s.next()).done);n=true){var u=i.value;if(!r)return;if(!r.nodes)return;r=r.nodes.get(u)}}catch(e){o=true;a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}},{key:"getFirstText",value:function e(){var t=null;var r=this.nodes.find(function(e){if("text"==e.object)return true;t=e.getFirstText();return t});return t||r}},{key:"getFragmentAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return ie.create();var r=this;var n=t,o=n.startKey,a=n.startOffset,s=n.endKey,i=n.endOffset;var u=r.assertDescendant(o);var c=r.assertDescendant(s);var l=u;var f=void 0;var d=void 0;while(d=r.getParent(l.key)){var v=d.nodes.indexOf(l);var y="text"==l.object?a:l.nodes.indexOf(f);d=d.splitNode(v,y);r=r.updateNode(d);f=d.nodes.get(v+1);l=d}l=o==s?r.getNextText(o):c;while(d=r.getParent(l.key)){var h=d.nodes.indexOf(l);var p="text"==l.object?o==s?i-a:i:l.nodes.indexOf(f);d=d.splitNode(h,p);r=r.updateNode(d);f=d.nodes.get(h+1);l=d}var g=r.getNextSibling(r.getFurthestAncestor(o).key);var m=o==s?r.getNextSibling(r.getNextSibling(r.getFurthestAncestor(s).key).key):r.getNextSibling(r.getFurthestAncestor(s).key);var k=r.nodes.indexOf(g);var b=r.nodes.indexOf(m);var O=r.nodes.slice(k,b);return ie.create({nodes:O})}},{key:"getFurthest",value:function e(t,r){var n=this.getAncestors(t);if(!n){t=Ae(t);throw new Error('Could not find a descendant node with key "'+t+'".')}return n.rest().find(r)}},{key:"getFurthestBlock",value:function e(t){return this.getFurthest(t,function(e){return"block"==e.object})}},{key:"getFurthestInline",value:function e(t){return this.getFurthest(t,function(e){return"inline"==e.object})}},{key:"getFurthestAncestor",value:function e(t){t=Ae(t);return this.nodes.find(function(e){if(e.key==t)return true;if("text"==e.object)return false;return e.hasDescendant(t)})}},{key:"getFurthestOnlyChildAncestor",value:function e(t){var r=this.getAncestors(t);if(!r){t=Ae(t);throw new Error('Could not find a descendant node with key "'+t+'".')}var n=r.shift().reverse().takeUntil(function(e){return e.nodes.size>1}).last();if(!n)return null;return n}},{key:"getInlines",value:function e(){var t=this.getInlinesAsArray();return new s["List"](t)}},{key:"getInlinesAsArray",value:function e(){var t=[];this.nodes.forEach(function(e){if("text"==e.object)return;e.isLeafInline()?t.push(e):t=t.concat(e.getInlinesAsArray())});return t}},{key:"getInlinesAtRange",value:function e(t){var r=this.getInlinesAtRangeAsArray(t);return new s["List"](new s["OrderedSet"](r))}},{key:"getInlinesAtRangeAsArray",value:function e(t){var r=this;t=t.normalize(this);if(t.isUnset)return[];return this.getTextsAtRangeAsArray(t).map(function(e){return r.getClosestInline(e.key)}).filter(function(e){return e})}},{key:"getInlinesByType",value:function e(t){var r=this.getInlinesByTypeAsArray(t);return new s["List"](r)}},{key:"getInlinesByTypeAsArray",value:function e(t){return this.nodes.reduce(function(e,r){if("text"==r.object)return e;if(r.isLeafInline()&&r.type==t){e.push(r);return e}return e.concat(r.getInlinesByTypeAsArray(t))},[])}},{key:"getKeysAsArray",value:function e(){var t=[];this.forEachDescendant(function(e){t.push(e.key)});return t}},{key:"getKeys",value:function e(){var t=this.getKeysAsArray();return new s["Set"](t)}},{key:"getLastText",value:function e(){var t=null;var r=this.nodes.findLast(function(e){if("text"==e.object)return true;t=e.getLastText();return t});return t||r}},{key:"getMarks",value:function e(){var t=this.getMarksAsArray();return new s["Set"](t)}},{key:"getOrderedMarks",value:function e(){var t=this.getMarksAsArray();return new s["OrderedSet"](t)}},{key:"getMarksAsArray",value:function e(){var t=[];this.nodes.forEach(function(e){t.push(e.getMarksAsArray())});return Array.prototype.concat.apply([],t)}},{key:"getMarksAtRange",value:function e(t){return new s["Set"](this.getOrderedMarksAtRange(t))}},{key:"getInsertMarksAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(s["Set"])();if(t.isCollapsed)return this.getMarksAtPosition(t.startKey,t.startOffset);var r=t,n=r.startKey,o=r.startOffset;var a=this.getDescendant(n);return a.getMarksAtIndex(o+1)}},{key:"getOrderedMarksAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(s["OrderedSet"])();if(t.isCollapsed)return this.getMarksAtPosition(t.startKey,t.startOffset);var r=t,n=r.startKey,o=r.startOffset,a=r.endKey,i=r.endOffset;return this.getOrderedMarksBetweenPositions(n,o,a,i)}},{key:"getOrderedMarksBetweenPositions",value:function e(t,r,n,o){if(t===n){var a=this.getDescendant(t);return a.getMarksBetweenOffsets(r,o)}var i=this.getTextsBetweenPositionsAsArray(t,n);return Object(s["OrderedSet"])().withMutations(function(e){i.forEach(function(a){a.key===t?e.union(a.getMarksBetweenOffsets(r,a.text.length)):a.key===n?e.union(a.getMarksBetweenOffsets(0,o)):e.union(a.getMarks())})})}},{key:"getActiveMarksAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(s["Set"])();if(t.isCollapsed){var r=t,n=r.startKey,o=r.startOffset;return this.getMarksAtPosition(n,o).toSet()}var a=t,i=a.startKey,u=a.endKey,c=a.startOffset,l=a.endOffset;var f=this.getDescendant(i);if(i!==u){while(i!==u&&0===l){var d=this.getPreviousText(u);u=d.key;l=d.text.length}while(i!==u&&c===f.text.length){f=this.getNextText(i);i=f.key;c=0}}if(i===u)return f.getActiveMarksBetweenOffsets(c,l);var v=f.getActiveMarksBetweenOffsets(c,f.text.length);if(0===v.size)return Object(s["Set"])();var y=this.getDescendant(u);var h=y.getActiveMarksBetweenOffsets(0,l);var p=v.intersect(h);if(0===p.size)return p;var g=this.getNextText(i);while(g.key!==u){if(0!==g.text.length){p=p.intersect(g.getActiveMarks());if(0===p.size)return Object(s["Set"])()}g=this.getNextText(g.key)}return p}},{key:"getMarksAtPosition",value:function e(t,r){var n=this.getDescendant(t);var o=n.getMarksAtIndex(r);if(0!==r)return o;var a=this.getClosestBlock(t);if(""===a.text)return o;var i=this.getPreviousText(t);if(!i)return Object(s["Set"])();if(a.hasDescendant(i.key))return i.getMarksAtIndex(i.text.length);return o}},{key:"getMarksByType",value:function e(t){var r=this.getMarksByTypeAsArray(t);return new s["Set"](r)}},{key:"getOrderedMarksByType",value:function e(t){var r=this.getMarksByTypeAsArray(t);return new s["OrderedSet"](r)}},{key:"getMarksByTypeAsArray",value:function e(t){return this.nodes.reduce(function(e,r){return"text"==r.object?e.concat(r.getMarksAsArray().filter(function(e){return e.type==t})):e.concat(r.getMarksByTypeAsArray(t))},[])}},{key:"getNextBlock",value:function e(t){var r=this.assertDescendant(t);var n=void 0;if("block"==r.object)n=r.getLastText();else{var o=this.getClosestBlock(t);n=o.getLastText()}var a=this.getNextText(n.key);if(!a)return null;return this.getClosestBlock(a.key)}},{key:"getNextSibling",value:function e(t){t=Ae(t);var r=this.getParent(t);var n=r.nodes.skipUntil(function(e){return e.key==t});if(0==n.size)throw new Error('Could not find a child node with key "'+t+'".');return n.get(1)}},{key:"getNextText",value:function e(t){t=Ae(t);return this.getTexts().skipUntil(function(e){return e.key==t}).get(1)}},{key:"getNode",value:function e(t){t=Ae(t);return this.key==t?this:this.getDescendant(t)}},{key:"getNodeAtPath",value:function e(t){return t.length?this.getDescendantAtPath(t):this}},{key:"getOffset",value:function e(t){this.assertDescendant(t);var r=this.getFurthestAncestor(t);var n=this.nodes.takeUntil(function(e){return e==r}).reduce(function(e,t){return e+t.text.length},0);return this.hasChild(t)?n:n+r.getOffset(t)}},{key:"getOffsetAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var r=t,n=r.startKey,o=r.startOffset;return this.getOffset(n)+o}},{key:"getParent",value:function e(t){if(this.hasChild(t))return this;var r=null;this.nodes.find(function(e){if("text"==e.object)return false;r=e.getParent(t);return r});return r}},{key:"getPath",value:function e(t){var r=this.assertNode(t);var n=this.getAncestors(t);var o=[];n.reverse().forEach(function(e){var t=e.nodes.indexOf(r);o.unshift(t);r=e});return o}},{key:"refindPath",value:function e(t,r){var n=this.getDescendantAtPath(t);if(n&&n.key===r)return t;return this.getPath(r)}},{key:"refindNode",value:function e(t,r){var n=this.getDescendantAtPath(t);if(n&&n.key===r)return n;return this.getDescendant(r)}},{key:"getPlaceholder",value:function e(t){return t.__getPlaceholder(this)}},{key:"getPreviousBlock",value:function e(t){var r=this.assertDescendant(t);var n=void 0;if("block"==r.object)n=r.getFirstText();else{var o=this.getClosestBlock(t);n=o.getFirstText()}var a=this.getPreviousText(n.key);if(!a)return null;return this.getClosestBlock(a.key)}},{key:"getPreviousSibling",value:function e(t){t=Ae(t);var r=this.getParent(t);var n=r.nodes.takeUntil(function(e){return e.key==t});if(n.size==r.nodes.size)throw new Error('Could not find a child node with key "'+t+'".');return n.last()}},{key:"getPreviousText",value:function e(t){t=Ae(t);return this.getTexts().takeUntil(function(e){return e.key==t}).last()}},{key:"getSelectionIndexes",value:function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n=t.startKey,o=t.endKey;if(!r)return null;if(t.isUnset)return null;if(n==o){var a=this.getFurthestAncestor(n);var s=a?this.nodes.indexOf(a):null;return{start:s,end:s+1}}var i=null;var u=null;this.nodes.forEach(function(e,t){if("text"==e.object){null==i&&e.key==n&&(i=t);null==u&&e.key==o&&(u=t+1)}else{null==i&&e.hasDescendant(n)&&(i=t);null==u&&e.hasDescendant(o)&&(u=t+1)}return null==i||null==u});r&&null==i&&(i=0);r&&null==u&&(u=this.nodes.size);return null==i?null:{start:i,end:u}}},{key:"getText",value:function e(){return this.nodes.reduce(function(e,t){return e+t.text},"")}},{key:"getTextAtOffset",value:function e(t){if(0==t)return this.getFirstText();if(t==this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var r=0;return this.getTexts().find(function(e,n,o){r+=e.text.length;return r>t})}},{key:"getTextDirection",value:function e(){var t=c()(this.text);return"neutral"==t?void 0:t}},{key:"getTexts",value:function e(){var t=this.getTextsAsArray();return new s["List"](t)}},{key:"getTextsAsArray",value:function e(){var t=[];this.nodes.forEach(function(e){"text"==e.object?t.push(e):t=t.concat(e.getTextsAsArray())});return t}},{key:"getTextsAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(s["List"])();var r=t,n=r.startKey,o=r.endKey;return new s["List"](this.getTextsBetweenPositionsAsArray(n,o))}},{key:"getTextsBetweenPositionsAsArray",value:function e(t,r){var n=this.getDescendant(t);if(t==r)return[n];var o=this.getDescendant(r);var a=this.getTextsAsArray();var s=a.indexOf(n);var i=a.indexOf(o,s);return a.slice(s,i+1)}},{key:"getTextsAtRangeAsArray",value:function e(t){t=t.normalize(this);if(t.isUnset)return[];var r=t,n=r.startKey,o=r.endKey;return this.getTextsBetweenPositionsAsArray(n,o)}},{key:"hasChild",value:function e(t){return!!this.getChild(t)}},{key:"hasBlocks",value:function e(t){var r=this.assertNode(t);return!!(r.nodes&&r.nodes.find(function(e){return"block"===e.object}))}},{key:"hasInlines",value:function e(t){var r=this.assertNode(t);return!!(r.nodes&&r.nodes.find(function(e){return H.isInline(e)||be.isText(e)}))}},{key:"hasDescendant",value:function e(t){return!!this.getDescendant(t)}},{key:"hasNode",value:function e(t){return!!this.getNode(t)}},{key:"hasVoidParent",value:function e(t){return!!this.getClosestVoid(t)}},{key:"insertNode",value:function e(t,r){var n=this.getKeysAsArray();n.includes(r.key)&&(r=r.regenerateKey());"text"!=r.object&&(r=r.mapDescendants(function(e){return n.includes(e.key)?e.regenerateKey():e}));var o=this.nodes.insert(t,r);return this.set("nodes",o)}},{key:"isInRange",value:function e(t){t=t.normalize(this);var r=this;var n=t,o=n.startKey,a=n.endKey,s=n.isCollapsed;if(r.key==o||r.key==a||r.hasDescendant(o)||r.hasDescendant(a))return true;if(s)return false;var i=r.getTextsAtRange(t);var u=false;i.forEach(function(e){r.hasDescendant(e.key)&&(u=true);return u});return u}},{key:"isLeafBlock",value:function e(){return"block"==this.object&&this.nodes.every(function(e){return"block"!=e.object})}},{key:"isLeafInline",value:function e(){return"inline"==this.object&&this.nodes.every(function(e){return"inline"!=e.object})}},{key:"mergeNode",value:function e(t,r){var n=this;var o=n.nodes.get(t);var a=n.nodes.get(r);if(o.object!=a.object)throw new Error('Tried to merge two nodes of different objects: "'+o.object+'" and "'+a.object+'".');if("text"==o.object)o=o.mergeText(a);else{var s=o.nodes.concat(a.nodes);o=o.set("nodes",s)}n=n.removeNode(r);n=n.removeNode(t);n=n.insertNode(t,o);return n}},{key:"mapChildren",value:function e(t){var r=this;var n=this.nodes;n.forEach(function(e,o){var a=t(e,o,r.nodes);a!=e&&(n=n.set(a.key,a))});return this.set("nodes",n)}},{key:"mapDescendants",value:function e(t){var r=this;var n=this.nodes;n.forEach(function(e,o){var a=e;"text"!=a.object&&(a=a.mapDescendants(t));a=t(a,o,r.nodes);if(a==e)return;n=n.set(o,a)});return this.set("nodes",n)}},{key:"regenerateKey",value:function e(){var t=K();return this.set("key",t)}},{key:"removeDescendant",value:function e(t){t=Ae(t);var r=this;var n=r.getParent(t);if(!n)throw new Error('Could not find a descendant node with key "'+t+'".');var o=n.nodes.findIndex(function(e){return e.key===t});var a=n.nodes.delete(o);n=n.set("nodes",a);r=r.updateNode(n);return r}},{key:"removeNode",value:function e(t){var r=this.nodes.delete(t);return this.set("nodes",r)}},{key:"splitNode",value:function e(t,r){var n=this;var o=n.nodes.get(t);var a=void 0;var s=void 0;if("text"==o.object){var i=o.splitText(r);var u=I(i,2);a=u[0];s=u[1]}else{var c=o.nodes.take(r);var l=o.nodes.skip(r);a=o.set("nodes",c);s=o.set("nodes",l).regenerateKey()}n=n.removeNode(t);n=n.insertNode(t,s);n=n.insertNode(t,a);return n}},{key:"updateNode",value:function e(t){if(t.key==this.key)return t;var r=this.assertDescendant(t.key);var n=this.getAncestors(t.key);n.reverse().forEach(function(e){var n=e,o=n.nodes;var a=o.indexOf(r);r=e;o=o.set(a,t);e=e.set("nodes",o);t=e});return t}},{key:"validate",value:function e(t){return t.validateNode(this)}},{key:"getFirstInvalidDescendant",value:function e(t){var r=null;this.nodes.find(function(e){r=e.validate(t)?e:e.getFirstInvalidDescendant(t);return r});return r}}],[{key:"create",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(r))return r;if(o()(r)){var n=r.object;if(!n&&r.kind){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");n=r.kind}switch(n){case"block":return J.create(r);case"document":return ie.create(r);case"inline":return H.create(r);case"text":return be.create(r);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+r)}},{key:"createList",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=Object(s["List"])(r.map(e.create));return n}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+r)}},{key:"createProperties",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(J.isBlock(t)||H.isInline(t))return{data:t.data,isVoid:t.isVoid,type:t.type};if("string"==typeof t)return{type:t};if(o()(t)){var r={};"type"in t&&(r.type=t.type);"data"in t&&(r.data=U.create(t.data));"isVoid"in t&&(r.isVoid=t.isVoid);return r}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function e(t){var r=t.object;if(!r&&t.kind){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");r=t.kind}switch(r){case"block":return J.fromJSON(t);case"document":return ie.fromJSON(t);case"inline":return H.fromJSON(t);case"text":return be.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function e(t){return!!["BLOCK","DOCUMENT","INLINE","TEXT"].find(function(e){return j(e,t)})}},{key:"isNodeList",value:function t(r){return s["List"].isList(r)&&r.every(function(t){return e.isNode(t)})}}]);return e}();Oe.fromJS=Oe.fromJSON;function Ae(e){if("string"==typeof e)return e;throw new Error("Invalid `key` argument! It must be a key string, but you passed: "+e)}X(Oe.prototype,["areDescendantsSorted","getAncestors","getBlocksAsArray","getBlocksAtRangeAsArray","getBlocksByTypeAsArray","getChild","getClosestBlock","getClosestInline","getClosestVoid","getCommonAncestor","getDecorations","getDepth","getDescendant","getDescendantAtPath","getFirstText","getFragmentAtRange","getFurthestBlock","getFurthestInline","getFurthestAncestor","getFurthestOnlyChildAncestor","getInlinesAsArray","getInlinesAtRangeAsArray","getInlinesByTypeAsArray","getMarksAsArray","getMarksAtPosition","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getKeysAsArray","getLastText","getMarksByTypeAsArray","getNextBlock","getNextSibling","getNextText","getNode","getNodeAtPath","getOffset","getOffsetAtRange","getParent","getPath","getPlaceholder","getPreviousBlock","getPreviousSibling","getPreviousText","getText","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPositionsAsArray","isLeafBlock","isLeafInline","validate","getFirstInvalidDescendant"]);Object.getOwnPropertyNames(Oe.prototype).forEach(function(e){if("constructor"==e)return;J.prototype[e]=Oe.prototype[e];H.prototype[e]=Oe.prototype[e];ie.prototype[e]=Oe.prototype[e]});J.createChildren=Oe.createList;H.createChildren=Oe.createList;ie.createChildren=Oe.createList;var _e=55296;var we=57343;var xe=/\s/;var je=/['\u2018\u2019]/;var Te=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function Ne(e){return _e<=e&&e<=we}function Ke(e,t){if(xe.test(e))return false;if(je.test(e)){var r=t.charAt(0);var n=Be(r);r=t.slice(0,n);var o=t.slice(n);if(Ke(r,o))return true}if(Te.test(e))return false;return true}function Be(e){return Ne(e.charCodeAt(0))?2:1}function Ce(e){var t=e.charAt(0);return Be(t)}function Ee(e,t){e=e.slice(0,t);e=Object(l["reverse"])(e);return Ce(e)}function Fe(e,t){e=e.slice(t);return Ce(e)}function Se(e){var t=0;var r=0;var n=false;var o=void 0;while(o=e.charAt(r)){var a=Be(o);o=e.slice(r,r+a);var s=e.slice(r+a);if(Ke(o,s)){n=true;t+=a}else{if(n)break;t+=a}r+=a}return t}function Le(e,t){e=e.slice(0,t);e=Object(l["reverse"])(e);var r=Se(e);return r}function Pe(e,t){e=e.slice(t);var r=Se(e);return r}var De={getCharOffsetForward:Fe,getCharOffsetBackward:Ee,getWordOffsetBackward:Le,getWordOffsetForward:Pe};var ze={};ze.addMarkAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isCollapsed)return;var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=t.startKey,u=t.startOffset,c=t.endKey,l=t.endOffset;var f=s.getTextsAtRange(t);f.forEach(function(t){var n=t.key;var a=0;var s=t.text.length;n==i&&(a=u);n==c&&(s=l);n==i&&n==c&&(s=l-u);e.addMarkByKey(n,a,s,r,{normalize:o})})};ze.addMarksAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.forEach(function(r){return e.addMarkAtRange(t,r,n)})};ze.deleteAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.isCollapsed)return;e.snapshotSelection();var n=e.getFlag("normalize",r);var o=e.value;var a=t.startKey,s=t.startOffset,i=t.endKey,u=t.endOffset;var c=o.document;var l=c.hasVoidParent(a);var f=c.hasVoidParent(i);var d=c.getClosestBlock(a);var v=c.getClosestBlock(i);var y=0==s&&0==u&&false==l&&a==d.getFirstText().key&&i==v.getFirstText().key;if(y&&f){var h=c.getPreviousText(i);i=h.key;u=h.text.length;f=c.hasVoidParent(i)}while(l){var p=c.getClosestVoid(a);var g=c.getNextText(a);e.removeNodeByKey(p.key,{normalize:false});if(a==i)return;if(!g)return;c=e.value.document;a=g.key;s=0;l=c.hasVoidParent(a)}while(f){var m=c.getClosestVoid(i);var k=c.getPreviousText(i);e.removeNodeByKey(m.key,{normalize:false});c=e.value.document;i=k.key;u=k.text.length;f=c.hasVoidParent(i)}if(a==i&&y){e.removeNodeByKey(d.key,{normalize:n});return}if(a==i){var b=s;var O=u-s;e.removeTextByKey(a,b,O,{normalize:n});return}d=c.getClosestBlock(a);v=c.getClosestBlock(i);var A=c.getNode(a);var _=c.getNode(i);var w=A.text.length-s;var x=u;var j=c.getCommonAncestor(a,i);var T=j.getFurthestAncestor(a);var N=j.getFurthestAncestor(i);var K=c.getParent(d.key);var B=K.nodes.indexOf(d);var C=K.nodes.indexOf(v);var E=void 0;E=A;while(E.key!=T.key){var F=c.getParent(E.key);var S=F.nodes.indexOf(E);var L=F.nodes.slice(S+1);L.reverse().forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})});E=F}var P=j.nodes.indexOf(T);var D=j.nodes.indexOf(N);var z=j.nodes.slice(P+1,D);z.reverse().forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})});E=_;while(E.key!=N.key){var I=c.getParent(E.key);var R=I.nodes.indexOf(E);var M=I.nodes.slice(0,R);M.reverse().forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})});E=I}0!=w&&e.removeTextByKey(a,s,w,{normalize:false});0!=x&&e.removeTextByKey(i,0,u,{normalize:false});if(d.key!=v.key){c=e.value.document;var J=c.getFurthestOnlyChildAncestor(v.key);C!=B+1&&e.moveNodeByKey(v.key,K.key,B+1,{normalize:false});y?e.removeNodeByKey(d.key,{normalize:false}):e.mergeNodeByKey(v.key,{normalize:false});J&&e.removeNodeByKey(J.key,{normalize:false})}n&&e.normalizeNodeByKey(j.key)};ze.deleteCharBackwardAtRange=function(e,t,r){var n=e.value;var o=n.document;var a=t.startKey,s=t.startOffset;var i=o.getClosestBlock(a);var u=i.getOffset(a);var c=u+s;var l=i.text;var f=De.getCharOffsetBackward(l,c);e.deleteBackwardAtRange(t,f,r)};ze.deleteLineBackwardAtRange=function(e,t,r){var n=e.value;var o=n.document;var a=t.startKey,s=t.startOffset;var i=o.getClosestBlock(a);var u=i.getOffset(a);var c=u+s;e.deleteBackwardAtRange(t,c,r)};ze.deleteWordBackwardAtRange=function(e,t,r){var n=e.value;var o=n.document;var a=t.startKey,s=t.startOffset;var i=o.getClosestBlock(a);var u=i.getOffset(a);var c=u+s;var l=i.text;var f=De.getWordOffsetBackward(l,c);e.deleteBackwardAtRange(t,f,r)};ze.deleteBackwardAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===r)return;var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=t,u=i.startKey,c=i.focusOffset;if(t.isExpanded){e.deleteAtRange(t,{normalize:o});return}var l=s.getClosestVoid(u);if(l){e.removeNodeByKey(l.key,{normalize:o});return}var f=s.getClosestBlock(u);if(f&&f.isEmpty&&1!==s.nodes.size){e.removeNodeByKey(f.key,{normalize:o});return}if(t.isAtStartOf(s))return;var d=s.getDescendant(u);if(t.isAtStartOf(d)){var v=s.getPreviousText(d.key);var y=s.getClosestBlock(v.key);var h=s.getClosestVoid(v.key);if(h){e.removeNodeByKey(h.key,{normalize:o});return}if(1==r&&y!=f){t=t.merge({anchorKey:v.key,anchorOffset:v.text.length});e.deleteAtRange(t,{normalize:o});return}}if(r<c){t=t.merge({focusOffset:c-r,isBackward:true});e.deleteAtRange(t,{normalize:o});return}var p=d;var g=0;var m=c;while(r>m){p=s.getPreviousText(p.key);var k=m+p.text.length;if(r<=k){g=k-r;break}m=k}t=t.merge({focusKey:p.key,focusOffset:g,isBackward:true});e.deleteAtRange(t,{normalize:o})};ze.deleteCharForwardAtRange=function(e,t,r){var n=e.value;var o=n.document;var a=t.startKey,s=t.startOffset;var i=o.getClosestBlock(a);var u=i.getOffset(a);var c=u+s;var l=i.text;var f=De.getCharOffsetForward(l,c);e.deleteForwardAtRange(t,f,r)};ze.deleteLineForwardAtRange=function(e,t,r){var n=e.value;var o=n.document;var a=t.startKey,s=t.startOffset;var i=o.getClosestBlock(a);var u=i.getOffset(a);var c=u+s;e.deleteForwardAtRange(t,i.text.length-c,r)};ze.deleteWordForwardAtRange=function(e,t,r){var n=e.value;var o=n.document;var a=t.startKey,s=t.startOffset;var i=o.getClosestBlock(a);var u=i.getOffset(a);var c=u+s;var l=i.text;var f=De.getWordOffsetForward(l,c);e.deleteForwardAtRange(t,f,r)};ze.deleteForwardAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===r)return;var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=t,u=i.startKey,c=i.focusOffset;if(t.isExpanded){e.deleteAtRange(t,{normalize:o});return}var l=s.getClosestVoid(u);if(l){e.removeNodeByKey(l.key,{normalize:o});return}var f=s.getClosestBlock(u);if(f&&f.isEmpty&&1!==s.nodes.size){var d=s.getNextBlock(f.key);e.removeNodeByKey(f.key,{normalize:o});d&&d.key&&e.moveToStartOf(d);return}if(t.isAtEndOf(s))return;var v=s.getDescendant(u);if(t.isAtEndOf(v)){var y=s.getNextText(v.key);var h=s.getClosestBlock(y.key);var p=s.getClosestVoid(y.key);if(p){e.removeNodeByKey(p.key,{normalize:o});return}if(1==r&&h!=f){t=t.merge({focusKey:y.key,focusOffset:0});e.deleteAtRange(t,{normalize:o});return}}if(r<=v.text.length-c){t=t.merge({focusOffset:c+r});e.deleteAtRange(t,{normalize:o});return}var g=v;var m=c;var k=v.text.length-c;while(r>k){g=s.getNextText(g.key);var b=k+g.text.length;if(r<=b){m=r-k;break}k=b}if(s.hasVoidParent(g.key)){var O=s.getClosestVoid(g.key);g=s.getPreviousText(O.key);m=g.text.length}t=t.merge({focusKey:g.key,focusOffset:m});e.deleteAtRange(t,{normalize:o})};ze.insertBlockAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=J.create(r);var o=e.getFlag("normalize",n);if(t.isExpanded){e.deleteAtRange(t);t=t.collapseToStart()}var a=e.value;var s=a.document;var i=t,u=i.startKey,c=i.startOffset;var l=s.getClosestBlock(u);var f=s.getClosestInline(u);var d=s.getParent(l.key);var v=d.nodes.indexOf(l);if(l.isVoid){var y=t.isAtEndOf(l)?1:0;e.insertNodeByKey(d.key,v+y,r,{normalize:o})}else if(l.isEmpty)e.insertNodeByKey(d.key,v+1,r,{normalize:o});else if(t.isAtStartOf(l))e.insertNodeByKey(d.key,v,r,{normalize:o});else if(t.isAtEndOf(l))e.insertNodeByKey(d.key,v+1,r,{normalize:o});else{if(f&&f.isVoid){var h=t.isAtEndOf(f);var p=h?s.getNextText(u):s.getPreviousText(u);var g=h?t.moveToStartOf(p):t.moveToEndOf(p);u=g.startKey;c=g.startOffset}e.splitDescendantsByKey(l.key,u,c,{normalize:false});e.insertNodeByKey(d.key,v+1,r,{normalize:o})}o&&e.normalizeNodeByKey(d.key)};ze.insertFragmentAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.getFlag("normalize",n);if(t.isExpanded){e.deleteAtRange(t,{normalize:false});t=e.value.document.getDescendant(t.startKey)?t.collapseToStart():t.collapseTo(t.endKey,0)}if(!r.nodes.size)return;r=r.mapDescendants(function(e){return e.regenerateKey()});var a=t,i=a.startKey,u=a.startOffset;var c=e.value;var l=c.document;var f=l.getDescendant(i);var d=l.getClosestBlock(f.key);var v=d.getFurthestAncestor(f.key);var y=t.isAtStartOf(d);var h=l.getParent(d.key);var p=h.nodes.indexOf(d);var g=r.getBlocks();var m=r.nodes.first();var k=r.nodes.last();var b=g.first();var O=g.last();if(b==O&&b.isVoid){e.insertBlockAtRange(t,b,n);return}if(r.hasBlocks(m.key)||r.hasBlocks(k.key)){r.nodes.reverse().forEach(function(r){e.insertBlockAtRange(t,r,n)});return}if(b!=O){var A=r.getFurthest(b.key,function(e){return 1==e.nodes.size});var _=A||b;var w=h.nodes.indexOf(d);r=r.removeDescendant(_.key);r.nodes.forEach(function(t,r){var n=w+r+1;e.insertNodeByKey(h.key,n,t,{normalize:false})})}0!=u&&e.splitDescendantsByKey(v.key,i,u,{normalize:false});l=e.value.document;f=l.getDescendant(i);d=l.getClosestBlock(i);v=d.getFurthestAncestor(f.key);if(b!=O){var x=y?v:d.getNextSibling(v.key);var j=x?d.nodes.skipUntil(function(e){return e.key==x.key}):Object(s["List"])();var T=O.nodes.size;j.forEach(function(t,r){var n=T+r;e.moveNodeByKey(t.key,O.key,n,{normalize:false})})}if(d.isEmpty){e.removeNodeByKey(d.key,{normalize:false});e.insertNodeByKey(h.key,p,b,{normalize:false})}else{var N=d.getFurthestAncestor(f.key);var K=d.nodes.indexOf(N);b.nodes.forEach(function(t,r){var n=0==u?0:1;var o=K+r+n;e.insertNodeByKey(d.key,o,t,{normalize:false})})}o&&e.normalizeNodeByKey(h.key)};ze.insertInlineAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.getFlag("normalize",n);r=H.create(r);if(t.isExpanded){e.deleteAtRange(t,{normalize:false});t=t.collapseToStart()}var a=e.value;var s=a.document;var i=t,u=i.startKey,c=i.startOffset;var l=s.getParent(u);var f=s.assertDescendant(u);var d=l.nodes.indexOf(f);if(l.isVoid)return;e.splitNodeByKey(u,c,{normalize:false});e.insertNodeByKey(l.key,d+1,r,{normalize:false});o&&e.normalizeNodeByKey(l.key)};ze.insertTextAtRange=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=o.normalize;var s=e.value;var i=s.document;var u=t.startKey,c=t.startOffset;var l=u;var f=c;var d=i.getParent(u);if(d.isVoid)return;if(t.isExpanded){e.deleteAtRange(t,{normalize:false});if(e.value.startKey!==l){l=e.value.startKey;f=e.value.startOffset}}void 0===a&&(a=t.isExpanded&&n&&0!==n.size);e.insertTextByKey(l,f,r,n,{normalize:false});if(a){var v=i.getCommonAncestor(u,t.endKey);var y=i.getAncestors(v.key).push(v);var h=y.findLast(function(t){return e.value.document.getDescendant(t.key)});var p=h?h.key:u;e.normalizeNodeByKey(p)}};ze.removeMarkAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isCollapsed)return;var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getTextsAtRange(t);var u=t.startKey,c=t.startOffset,l=t.endKey,f=t.endOffset;i.forEach(function(t){var n=t.key;var a=0;var s=t.text.length;n==u&&(a=c);n==l&&(s=f);n==u&&n==l&&(s=f-c);e.removeMarkByKey(n,a,s,r,{normalize:o})})};ze.setBlocksAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getBlocksAtRange(t);var u=t.startKey,c=t.startOffset,l=t.endKey,f=t.endOffset,d=t.isCollapsed;var v=s.hasVoidParent(u);var y=s.getClosestBlock(u);var h=s.getClosestBlock(l);var p=false==d&&0==c&&0==f&&false==v&&u==y.getFirstText().key&&l==h.getFirstText().key;var g=p?i.slice(0,-1):i;g.forEach(function(t){e.setNodeByKey(t.key,r,{normalize:o})})};ze.setBlockAtRange=function(){a["a"].deprecate("slate@0.33.0","The `setBlockAtRange` method of Slate changes has been renamed to `setBlocksAtRange`.");ze.setBlocksAtRange.apply(ze,arguments)};ze.setInlinesAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getInlinesAtRange(t);i.forEach(function(t){e.setNodeByKey(t.key,r,{normalize:o})})};ze.setInlineAtRange=function(){a["a"].deprecate("slate@0.33.0","The `setInlineAtRange` method of Slate changes has been renamed to `setInlinesAtRange`.");ze.setInlinesAtRange.apply(ze,arguments)};ze.splitBlockAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.getFlag("normalize",n);var a=t,s=a.startKey,i=a.startOffset,u=a.endOffset,c=a.endKey;var l=e.value;var f=l.document;var d=f.assertDescendant(s);var v=f.getClosestBlock(d.key);var y=0;while(v&&"block"==v.object&&y<r){d=v;v=f.getClosestBlock(v.key);y++}e.splitDescendantsByKey(d.key,s,i,{normalize:o&&t.isCollapsed});if(t.isExpanded){t.isBackward&&(t=t.flip());var h=e.value.document.getNextBlock(d.key);t=t.moveAnchorToStartOf(h);s===c&&(t=t.moveFocusTo(t.anchorKey,u-i));e.deleteAtRange(t,{normalize:o})}};ze.splitInlineAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.getFlag("normalize",n);if(t.isExpanded){e.deleteAtRange(t,{normalize:o});t=t.collapseToStart()}var a=t,s=a.startKey,i=a.startOffset;var u=e.value;var c=u.document;var l=c.assertDescendant(s);var f=c.getClosestInline(l.key);var d=0;while(f&&"inline"==f.object&&d<r){l=f;f=c.getClosestInline(f.key);d++}e.splitDescendantsByKey(l.key,s,i,{normalize:o})};ze.toggleMarkAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isCollapsed)return;r=ne.create(r);var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getActiveMarksAtRange(t);var u=i.some(function(e){return e.equals(r)});u?e.removeMarkAtRange(t,r,{normalize:o}):e.addMarkAtRange(t,r,{normalize:o})};ze.unwrapBlockAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=Oe.createProperties(r);var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getBlocksAtRange(t);var u=i.map(function(e){return s.getClosest(e.key,function(e){if("block"!=e.object)return false;if(null!=r.type&&e.type!=r.type)return false;if(null!=r.isVoid&&e.isVoid!=r.isVoid)return false;if(null!=r.data&&!e.data.isSuperset(r.data))return false;return true})}).filter(function(e){return e}).toOrderedSet().toList();u.forEach(function(t){var r=t.nodes.first();var n=t.nodes.last();var o=s.getParent(t.key);var a=o.nodes.indexOf(t);var u=t.nodes.filter(function(e){return i.some(function(t){return e==t||e.hasDescendant(t.key)})});var c=u.first();var l=u.last();if(r==c&&n==l){t.nodes.forEach(function(t,r){e.moveNodeByKey(t.key,o.key,a+r,{normalize:false})});e.removeNodeByKey(t.key,{normalize:false})}else if(n==l)t.nodes.skipUntil(function(e){return e==c}).forEach(function(t,r){e.moveNodeByKey(t.key,o.key,a+1+r,{normalize:false})});else if(r==c)t.nodes.takeUntil(function(e){return e==l}).push(l).forEach(function(t,r){e.moveNodeByKey(t.key,o.key,a+r,{normalize:false})});else{var f=c.getFirstText();e.splitDescendantsByKey(t.key,f.key,0,{normalize:false});s=e.value.document;u.forEach(function(t,r){if(0==r){var n=t;t=s.getNextBlock(t.key);e.removeNodeByKey(n.key,{normalize:false})}e.moveNodeByKey(t.key,o.key,a+1+r,{normalize:false})})}});o&&e.normalizeDocument()};ze.unwrapInlineAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=Oe.createProperties(r);var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getTextsAtRange(t);var u=i.map(function(e){return s.getClosest(e.key,function(e){if("inline"!=e.object)return false;if(null!=r.type&&e.type!=r.type)return false;if(null!=r.isVoid&&e.isVoid!=r.isVoid)return false;if(null!=r.data&&!e.data.isSuperset(r.data))return false;return true})}).filter(function(e){return e}).toOrderedSet().toList();u.forEach(function(t){var r=e.value.document.getParent(t.key);var n=r.nodes.indexOf(t);t.nodes.forEach(function(t,o){e.moveNodeByKey(t.key,r.key,n+o,{normalize:false})})});o&&e.normalizeDocument()};ze.wrapBlockAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=J.create(r);r=r.set("nodes",r.nodes.clear());var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getBlocksAtRange(t);var u=i.first();var c=i.last();var l=void 0,f=void 0,d=void 0;if(1===i.length){l=s.getParent(u.key);f=i}else l=s.getClosest(u.key,function(e){return!!s.getClosest(c.key,function(t){return e==t})});null==l&&(l=s);if(null==f){var v=l.nodes.reduce(function(e,t,r){(t==u||t.hasDescendant(u.key))&&(e[0]=r);(t==c||t.hasDescendant(c.key))&&(e[1]=r);return e},[]);d=v[0];f=l.nodes.slice(v[0],v[1]+1)}null==d&&(d=l.nodes.indexOf(f.first()));e.insertNodeByKey(l.key,d,r,{normalize:false});f.forEach(function(t,n){e.moveNodeByKey(t.key,r.key,n,{normalize:false})});o&&e.normalizeNodeByKey(l.key)};ze.wrapInlineAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=e.value;var a=o.document;var i=e.getFlag("normalize",n);var u=t.startKey,c=t.startOffset,l=t.endKey,f=t.endOffset;if(t.isCollapsed){var d=a.getClosestInline(u);if(!d.isVoid)return;return e.wrapInlineByKey(d.key,r,n)}r=H.create(r);r=r.set("nodes",r.nodes.clear());var v=a.getBlocksAtRange(t);var y=a.getClosestBlock(u);var h=a.getClosestBlock(l);var p=a.getClosestInline(u);var g=a.getClosestInline(l);var m=y.getFurthestAncestor(u);var k=h.getFurthestAncestor(l);if(!p||p!=g){e.splitDescendantsByKey(k.key,l,f,{normalize:false});e.splitDescendantsByKey(m.key,u,c,{normalize:false})}a=e.value.document;y=a.getDescendant(y.key);h=a.getDescendant(h.key);m=y.getFurthestAncestor(u);k=h.getFurthestAncestor(l);var b=y.nodes.indexOf(m);var O=h.nodes.indexOf(k);if(p&&p==g){var A=y.getTextsAtRange(t).get(0).splitText(c)[1].splitText(f-c)[0];r=r.set("nodes",Object(s["List"])([A]));ze.insertInlineAtRange(e,t,r,{normalize:false});var _=r.getFirstText().key;var w={anchorKey:_,focusKey:_,anchorOffset:0,focusOffset:f-c,isFocused:true};e.select(w)}else if(y==h){a=e.value.document;y=a.getClosestBlock(u);m=y.getFurthestAncestor(u);var x=a.getNextSibling(m.key);var j=y.nodes.indexOf(x);var T=u==l?x:y.getFurthestAncestor(l);var N=y.nodes.skipUntil(function(e){return e==x}).takeUntil(function(e){return e==T}).push(T);var K=r.regenerateKey();e.insertNodeByKey(y.key,j,K,{normalize:false});N.forEach(function(t,r){e.moveNodeByKey(t.key,K.key,r,{normalize:false})});i&&e.normalizeNodeByKey(y.key)}else{var B=y.nodes.slice(b+1);var C=h.nodes.slice(0,O+1);var E=r.regenerateKey();var F=r.regenerateKey();e.insertNodeByKey(y.key,b+1,E,{normalize:false});e.insertNodeByKey(h.key,O,F,{normalize:false});B.forEach(function(t,r){e.moveNodeByKey(t.key,E.key,r,{normalize:false})});C.forEach(function(t,r){e.moveNodeByKey(t.key,F.key,r,{normalize:false})});i&&e.normalizeNodeByKey(y.key).normalizeNodeByKey(h.key);v.slice(1,-1).forEach(function(t){var n=r.regenerateKey();e.insertNodeByKey(t.key,0,n,{normalize:false});t.nodes.forEach(function(t,r){e.moveNodeByKey(t.key,n.key,r,{normalize:false})});i&&e.normalizeNodeByKey(t.key)})}};ze.wrapTextAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=e.getFlag("normalize",o);var s=t.startKey,i=t.endKey;var u=t.collapseToStart();var c=t.collapseToEnd();s==i&&(c=c.move(r.length));e.insertTextAtRange(u,r,[],{normalize:a});e.insertTextAtRange(c,n,[],{normalize:a})};var Ie={};Ie.addMarkByKey=function(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};o=ne.create(o);var s=e.getFlag("normalize",a);var i=e.value;var u=i.document;var c=u.getPath(t);var l=u.getNode(t);var f=l.getLeaves();var d=[];var v=r;var y=r+n;var h=0;f.forEach(function(e){var t=h;var r=t+e.text.length;h+=e.text.length;if(r<v||y<t)return;if(e.marks.has(o))return;var n=Math.max(t,v);var a=Math.min(r,y);d.push({type:"add_mark",value:i,path:c,offset:n,length:a-n,mark:o})});e.applyOperations(d);if(s){var p=u.getParent(t);e.normalizeNodeByKey(p.key)}};Ie.insertFragmentByKey=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=e.getFlag("normalize",o);n.nodes.forEach(function(n,o){e.insertNodeByKey(t,r+o,n)});a&&e.normalizeNodeByKey(t)};Ie.insertNodeByKey=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=e.getFlag("normalize",o);var s=e.value;var i=s.document;var u=i.getPath(t);e.applyOperation({type:"insert_node",value:s,path:[].concat(R(u),[r]),node:n});a&&e.normalizeNodeByKey(t)};Ie.insertTextByKey=function(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var s=e.getFlag("normalize",a);var i=e.value;var u=i.document;var c=u.getPath(t);var l=u.getNode(t);o=o||l.getMarksAtIndex(r);e.applyOperation({type:"insert_text",value:i,path:c,offset:r,text:n,marks:o});if(s){var f=u.getParent(t);e.normalizeNodeByKey(f.key)}};Ie.mergeNodeByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.getFlag("normalize",r);var o=e.value;var a=o.document;var s=a.getPath(t);var i=a.getDescendant(t);var u=a.getPreviousSibling(t);if(!u)throw new Error('Unable to merge node with key "'+t+'", no previous key.');var c="text"==u.object?u.text.length:u.nodes.size;e.applyOperation({type:"merge_node",value:o,path:s,position:c,properties:{type:i.type,data:i.data},target:null});if(n){var l=a.getParent(t);e.normalizeNodeByKey(l.key)}};Ie.moveNodeByKey=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=e.getFlag("normalize",o);var s=e.value;var i=s.document;var u=i.getPath(t);var c=i.getPath(r);e.applyOperation({type:"move_node",value:s,path:u,newPath:[].concat(R(c),[n])});if(a){var l=i.getCommonAncestor(t,r);e.normalizeNodeByKey(l.key)}};Ie.removeMarkByKey=function(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};o=ne.create(o);var s=e.getFlag("normalize",a);var i=e.value;var u=i.document;var c=u.getPath(t);var l=u.getNode(t);var f=l.getLeaves();var d=[];var v=r;var y=r+n;var h=0;f.forEach(function(e){var t=h;var r=t+e.text.length;h+=e.text.length;if(r<v||y<t)return;if(!e.marks.has(o))return;var n=Math.max(t,v);var a=Math.min(r,y);d.push({type:"remove_mark",value:i,path:c,offset:n,length:a-n,mark:o})});e.applyOperations(d);if(s){var p=u.getParent(t);e.normalizeNodeByKey(p.key)}};Ie.removeAllMarksByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.state;var o=n.document;var a=o.getNode(t);var s="text"===a.object?[a]:a.getTextsAsArray();s.forEach(function(t){t.getMarksAsArray().forEach(function(n){e.removeMarkByKey(t.key,0,t.text.length,n,r)})})};Ie.removeNodeByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.getFlag("normalize",r);var o=e.value;var a=o.document;var s=a.getPath(t);var i=a.getNode(t);e.applyOperation({type:"remove_node",value:o,path:s,node:i});if(n){var u=a.getParent(t);e.normalizeNodeByKey(u.key)}};Ie.setTextByKey=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=e.value.document.getDescendant(t);e.replaceTextByKey(t,0,a.text.length,r,n,o)};Ie.replaceTextByKey=function(e,t,r,n,o,a,s){var i=e.value.document;var u=i.getDescendant(t);n+r>u.text.length&&(n=u.text.length-r);var c=ce.create({anchorKey:t,focusKey:t,anchorOffset:r,focusOffset:r+n});var l=i.getActiveMarksAtRange(c);e.removeTextByKey(t,r,n,{normalize:false});if(a){if(l){l=l.filter(function(e){return!a.find(function(t){return e.type===t.type})});a=l.merge(a)}}else a=l||[];e.insertTextByKey(t,r,o,a,s)};Ie.removeTextByKey=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a=e.getFlag("normalize",o);var s=e.value;var i=s.document;var u=i.getPath(t);var c=i.getNode(t);var l=c.getLeaves();var f=c.text;var d=[];var v=r;var y=r+n;var h=0;l.forEach(function(e){var t=h;var r=t+e.text.length;h+=e.text.length;if(r<v||y<t)return;var n=Math.max(t,v);var o=Math.min(r,y);var a=f.slice(n,o);d.push({type:"remove_text",value:s,path:u,offset:n,text:a,marks:e.marks})});e.applyOperations(d.reverse());if(a){var p=i.getClosestBlock(t);e.normalizeNodeByKey(p.key)}};Ie.replaceNodeByKey=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=Oe.create(r);var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getNode(t);var u=s.getParent(t);var c=u.nodes.indexOf(i);e.removeNodeByKey(t,{normalize:false});e.insertNodeByKey(u.key,c,r,{normalize:false});o&&e.normalizeNodeByKey(u.key)};Ie.setMarkByKey=function(e,t,r,n,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};o=ne.create(o);a=ne.createProperties(a);var i=e.getFlag("normalize",s);var u=e.value;var c=u.document;var l=c.getPath(t);e.applyOperation({type:"set_mark",value:u,path:l,offset:r,length:n,mark:o,properties:a});if(i){var f=c.getParent(t);e.normalizeNodeByKey(f.key)}};Ie.setNodeByKey=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=Oe.createProperties(r);var o=e.getFlag("normalize",n);var a=e.value;var s=a.document;var i=s.getPath(t);var u=s.getNode(t);e.applyOperation({type:"set_node",value:a,path:i,node:u,properties:r});o&&e.normalizeNodeByKey(u.key)};Ie.splitNodeByKey=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=n.normalize,a=void 0===o||o,s=n.target,i=void 0===s?null:s;var u=e.value;var c=u.document;var l=c.getPath(t);var f=c.getDescendantAtPath(l);e.applyOperation({type:"split_node",value:u,path:l,position:r,properties:{type:f.type,data:f.data},target:i});if(a){var d=c.getParent(t);e.normalizeNodeByKey(d.key)}};Ie.splitDescendantsByKey=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t==r){e.splitNodeByKey(r,n,o);return}var a=e.getFlag("normalize",o);var s=e.value;var i=s.document;var u=i.getNode(r);var c=i.getAncestors(r);var l=c.skipUntil(function(e){return e.key==t}).reverse().unshift(u);var f=void 0;var d=void 0;l.forEach(function(t){var r=null==d?null:d;d=f?t.nodes.indexOf(f)+1:n;f=t;e.splitNodeByKey(t.key,d,{normalize:false,target:r})});if(a){var v=i.getParent(t);e.normalizeNodeByKey(v.key)}};Ie.unwrapInlineByKey=function(e,t,r,n){var o=e.value;var a=o.document,s=o.selection;var i=a.assertDescendant(t);var u=i.getFirstText();var c=i.getLastText();var l=s.moveToRangeOf(u,c);e.unwrapInlineAtRange(l,r,n)};Ie.unwrapBlockByKey=function(e,t,r,n){var o=e.value;var a=o.document,s=o.selection;var i=a.assertDescendant(t);var u=i.getFirstText();var c=i.getLastText();var l=s.moveToRangeOf(u,c);e.unwrapBlockAtRange(l,r,n)};Ie.unwrapNodeByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.getFlag("normalize",r);var o=e.value;var a=o.document;var s=a.getParent(t);var i=s.getChild(t);var u=s.nodes.indexOf(i);var c=0===u;var l=u===s.nodes.size-1;var f=a.getParent(s.key);var d=f.nodes.indexOf(s);if(1===s.nodes.size){e.moveNodeByKey(t,f.key,d,{normalize:false});e.removeNodeByKey(s.key,r)}else if(c)e.moveNodeByKey(t,f.key,d,r);else if(l)e.moveNodeByKey(t,f.key,d+1,r);else{e.splitNodeByKey(s.key,u,{normalize:false});e.moveNodeByKey(t,f.key,d+1,{normalize:false});n&&e.normalizeNodeByKey(f.key)}};Ie.wrapBlockByKey=function(e,t,r,n){r=J.create(r);r=r.set("nodes",r.nodes.clear());var o=e.value.document;var a=o.assertDescendant(t);var s=o.getParent(a.key);var i=s.nodes.indexOf(a);e.insertNodeByKey(s.key,i,r,{normalize:false});e.moveNodeByKey(a.key,r.key,0,n)};Ie.wrapInlineByKey=function(e,t,r,n){r=H.create(r);r=r.set("nodes",r.nodes.clear());var o=e.value.document;var a=o.assertDescendant(t);var s=o.getParent(a.key);var i=s.nodes.indexOf(a);e.insertNodeByKey(s.key,i,r,{normalize:false});e.moveNodeByKey(a.key,r.key,0,n)};Ie.wrapNodeByKey=function(e,t,r){r=Oe.create(r);r=r.set("nodes",r.nodes.clear());if("block"==r.object){e.wrapBlockByKey(t,r);return}if("inline"==r.object){e.wrapInlineByKey(t,r);return}};var Re={add_mark:["value","path","offset","length","mark"],insert_node:["value","path","node"],insert_text:["value","path","offset","text","marks"],merge_node:["value","path","position","properties","target"],move_node:["value","path","newPath"],remove_mark:["value","path","offset","length","mark"],remove_node:["value","path","node"],remove_text:["value","path","offset","text","marks"],set_mark:["value","path","offset","length","mark","properties"],set_node:["value","path","node","properties"],set_selection:["value","selection","properties"],set_value:["value","properties"],split_node:["value","path","position","properties","target"]};var Me=v()("slate:history");var Je={redos:new s["Stack"],undos:new s["Stack"]};var Ve=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"save",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=this;var o=n,a=o.undos,i=o.redos;var u=r.merge,c=r.skip;var l=a.peek();var f=l&&l.last();null==c&&(c=Ue(t,f));if(c)return n;null==u&&(u=He(t,f));Me("save",{operation:t,merge:u});if(u&&l){var d=l.push(t);a=a.pop();a=a.push(d)}else{var v=new s["List"]([t]);a=a.push(v)}a.size>100&&(a=a.take(100));i=i.clear();n=n.set("undos",a).set("redos",i);return n}},{key:"toJSON",value:function e(){var t={object:this.object,redos:this.redos.toJSON(),undos:this.undos.toJSON()};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"history"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isHistory(r))return r;if(o()(r))return t.fromJSON(r);throw new Error("`History.create` only accepts objects or histories, but you passed it: "+r)}},{key:"createOperationsList",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(t))return t;if(Array.isArray(t))return new s["List"](t);throw new Error("`History.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function e(r){var n=r.redos,o=void 0===n?[]:n,a=r.undos,i=void 0===a?[]:a;var u=new t({redos:new s["Stack"](o.map(this.createOperationsList)),undos:new s["Stack"](i.map(this.createOperationsList))});return u}}]);return t}(Object(s["Record"])(Je));Ve.fromJS=Ve.fromJSON;Ve.isHistory=j.bind(null,"HISTORY");Ve.prototype[x.HISTORY]=true;function He(e,t){if(!t)return false;var r="set_selection"==e.type&&"set_selection"==t.type||"insert_text"==e.type&&"insert_text"==t.type&&e.offset==t.offset+t.text.length&&h()(e.path,t.path)||"remove_text"==e.type&&"remove_text"==t.type&&e.offset+e.text.length==t.offset&&h()(e.path,t.path);return r}function Ue(e,t){if(!t)return false;var r="set_selection"==e.type&&"set_selection"==t.type;return r}var We=[{validateNode:function e(t){if("document"!=t.object)return;var r=t.nodes.filter(function(e){return"block"!=e.object});if(!r.size)return;return function(e){r.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object)return;var r=t.nodes.first();if(!r)return;var n="block"==r.object?["block"]:["inline","text"];var o=t.nodes.filter(function(e){return!n.includes(e.object)});if(!o.size)return;return function(e){o.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("inline"!=t.object)return;var r=t.nodes.filter(function(e){return"inline"!=e.object&&"text"!=e.object});if(!r.size)return;return function(e){r.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;if(t.nodes.size>0)return;return function(e){var r=be.create();e.insertNodeByKey(t.key,0,r,{normalize:false})}}},{validateNode:function e(t){if("inline"!=t.object&&"block"!=t.object)return;var r=t.nodes.filter(function(e){return"inline"===e.object&&e.isEmpty});if(!r.size)return;return function(e){if(t.nodes.size==r.size){var n=be.create();e.insertNodeByKey(t.key,1,n,{normalize:false})}r.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;var r=t.nodes.reduce(function(e,r,n){if("inline"!==r.object)return e;var o=n>0?t.nodes.get(n-1):null;var a=t.nodes.get(n+1);var s=!o;var i=!a||"inline"==a.object;(i||s)&&(e=e.push({insertAfter:i,insertBefore:s,index:n}));return e},new s["List"]);if(!r.size)return;return function(e){var n=0;r.forEach(function(r){var o=r.index,a=r.insertAfter,s=r.insertBefore;if(s){e.insertNodeByKey(t.key,n+o,be.create(),{normalize:false});n++}if(a){e.insertNodeByKey(t.key,n+o+1,be.create(),{normalize:false});n++}})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;var r=t.nodes.map(function(e,r){var n=t.nodes.get(r+1);if("text"!=e.object)return;if(!n||"text"!=n.object)return;return n}).filter(Boolean);if(!r.size)return;return function(e){r.reverse().forEach(function(t){e.mergeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;var r=t.nodes;if(r.size<=1)return;var n=r.filter(function(e,t){if("text"!=e.object)return;if(e.text.length>0)return;var n=t>0?r.get(t-1):null;var o=r.get(t+1);if(!n&&"inline"==o.object)return;if(!o&&"inline"==n.object)return;if(o&&n&&"inline"==o.object&&"inline"==n.object)return;return true});if(!n.size)return;return function(e){n.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}}];var qe={plugins:[]};var Ge=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getPluginsWith",value:function e(t){return this.plugins.filter(function(e){return null!=e[t]})}},{key:"find",value:function e(t){var r=this.getPluginsWith(t);for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var s=true;var i=false;var u=void 0;try{for(var c=r[Symbol.iterator](),l;!(s=(l=c.next()).done);s=true){var f=l.value;var d=f[t].apply(f,o);if(null!=d)return d}}catch(e){i=true;u=e}finally{try{!s&&c.return&&c.return()}finally{if(i)throw u}}}},{key:"map",value:function e(t){var r=this.getPluginsWith(t);var n=[];for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var i=true;var u=false;var c=void 0;try{for(var l=r[Symbol.iterator](),f;!(i=(f=l.next()).done);i=true){var d=f.value;var v=d[t].apply(d,a);null!=v&&n.push(v)}}catch(e){u=true;c=e}finally{try{!i&&l.return&&l.return()}finally{if(u)throw c}}return n}},{key:"run",value:function e(t){var r=this.getPluginsWith(t);for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var s=true;var i=false;var u=void 0;try{for(var c=r[Symbol.iterator](),l;!(s=(l=c.next()).done);s=true){var f=l.value;var d=f[t].apply(f,o);if(null!=d)return}}catch(e){i=true;u=e}finally{try{!s&&c.return&&c.return()}finally{if(i)throw u}}}},{key:"render",value:function e(t,r){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s=this.getPluginsWith(t);return s.reduceRight(function(e,n){if(!n[t])return e;var a=n[t].apply(n,[r].concat(o));if(null==a)return e;r.children=a;return a},void 0===r.children?null:r.children)}},{key:"object",get:function e(){return"stack"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=r.plugins,o=void 0===n?[]:n;var a=new t({plugins:o});return a}},{key:"isStack",value:function e(t){return!!(t&&t[x.STACK])}}]);return t}(Object(s["Record"])(qe));Ge.prototype[x.STACK]=true;X(Ge.prototype,["getPluginsWith"]);var Ye=v()("slate:schema");var $e={stack:Ge.create(),document:{},blocks:{},inlines:{}};var Xe=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getRule",value:function e(t){switch(t.object){case"document":return this.document;case"block":return this.blocks[t.type];case"inline":return this.inlines[t.type]}}},{key:"getParentRules",value:function e(){var t=this.blocks,r=this.inlines;var n={};for(var o in t){var a=t[o];if(null==a.parent)continue;n[o]=a}for(var s in r){var i=r[s];if(null==i.parent)continue;n[s]=i}return 0==Object.keys(n).length?null:n}},{key:"fail",value:function e(t,r){var n=this;return function(e){Ye("normalizing",{violation:t,context:r});var o=r.rule;var a=e.operations.size;o.normalize&&o.normalize(e,t,r);if(e.operations.size>a)return;n.normalize(e,t,r)}}},{key:"normalize",value:function e(t,r,n){switch(r){case m["CHILD_OBJECT_INVALID"]:case m["CHILD_TYPE_INVALID"]:case m["CHILD_UNKNOWN"]:case m["FIRST_CHILD_OBJECT_INVALID"]:case m["FIRST_CHILD_TYPE_INVALID"]:case m["LAST_CHILD_OBJECT_INVALID"]:case m["LAST_CHILD_TYPE_INVALID"]:var o=n.child,a=n.node;return"text"==o.object&&"block"==a.object&&1==a.nodes.size?t.removeNodeByKey(a.key):t.removeNodeByKey(o.key);case m["CHILD_REQUIRED"]:case m["NODE_TEXT_INVALID"]:case m["PARENT_OBJECT_INVALID"]:case m["PARENT_TYPE_INVALID"]:var s=n.node;return"document"==s.object?s.nodes.forEach(function(e){return t.removeNodeByKey(e.key)}):t.removeNodeByKey(s.key);case m["NODE_DATA_INVALID"]:var i=n.node,u=n.key;return void 0===i.data.get(u)&&"document"!=i.object?t.removeNodeByKey(i.key):t.setNodeByKey(i.key,{data:i.data.delete(u)});case m["NODE_IS_VOID_INVALID"]:var c=n.node;return t.setNodeByKey(c.key,{isVoid:!c.isVoid});case m["NODE_MARK_INVALID"]:var l=n.node,f=n.mark;return l.getTexts().forEach(function(e){return t.removeMarkByKey(e.key,0,e.text.length,f)})}}},{key:"validateNode",value:function e(t){var r=this;var n=this.stack.find("validateNode",t);if(n)return n;if("text"==t.object)return;var o=this.getRule(t)||{};var a=this.getParentRules();var s={node:t,rule:o};if(null!=o.isVoid&&t.isVoid!=o.isVoid)return this.fail(m["NODE_IS_VOID_INVALID"],s);if(null!=o.data)for(var i in o.data){var u=o.data[i];var c=t.data.get(i);if(!u(c))return this.fail(m["NODE_DATA_INVALID"],L({},s,{key:i,value:c}))}if(null!=o.marks){var l=t.getMarks().toArray();var f=function e(t){if(!o.marks.some(function(e){return e.type===t.type}))return{v:r.fail(m["NODE_MARK_INVALID"],L({},s,{mark:t}))}};var d=true;var v=false;var y=void 0;try{for(var h=l[Symbol.iterator](),p;!(d=(p=h.next()).done);d=true){var g=p.value;var k=f(g);if("object"===("undefined"===typeof k?"undefined":E(k)))return k.v}}catch(e){v=true;y=e}finally{try{!d&&h.return&&h.return()}finally{if(v)throw y}}}if(null!=o.text){var b=t.text;if(!o.text.test(b))return this.fail(m["NODE_TEXT_INVALID"],L({},s,{text:b}))}if(null!=o.first){var O=o.first,A=O.objects,_=O.types;var w=t.nodes.first();if(w&&A&&!A.includes(w.object))return this.fail(m["FIRST_CHILD_OBJECT_INVALID"],L({},s,{child:w}));if(w&&_&&!_.includes(w.type))return this.fail(m["FIRST_CHILD_TYPE_INVALID"],L({},s,{child:w}))}if(null!=o.last){var x=o.last,j=x.objects,T=x.types;var N=t.nodes.last();if(N&&j&&!j.includes(N.object))return this.fail(m["LAST_CHILD_OBJECT_INVALID"],L({},s,{child:N}));if(N&&T&&!T.includes(N.type))return this.fail(m["LAST_CHILD_TYPE_INVALID"],L({},s,{child:N}))}if(null!=o.nodes||null!=a){var K=function e(){P=null==P?null:0;I=S.shift();D=I&&(null==I.min?0:I.min);R=I&&(null==I.max?Infinity:I.max);return!!I};var B=function e(){z=null==z?0:z+1;P=null==P?0:P+1;M=F[z];null!=R&&P==R&&K();return!!M};var C=function e(){P-=1;z-=1};var F=t.nodes.toArray();var S=null!=o.nodes?o.nodes.slice():[];var P=void 0;var D=void 0;var z=void 0;var I=void 0;var R=void 0;var M=void 0;null!=o.nodes&&K();while(B()){if(null!=a&&"text"!=M.object&&M.type in a){var J=a[M.type];if(null!=J.parent.objects&&!J.parent.objects.includes(t.object))return this.fail(m["PARENT_OBJECT_INVALID"],{node:M,parent:t,rule:J});if(null!=J.parent.types&&!J.parent.types.includes(t.type))return this.fail(m["PARENT_TYPE_INVALID"],{node:M,parent:t,rule:J})}if(null!=o.nodes){if(!I)return this.fail(m["CHILD_UNKNOWN"],L({},s,{child:M,index:z}));if(null!=I.objects&&!I.objects.includes(M.object)){if(P>=D&&K()){C();continue}return this.fail(m["CHILD_OBJECT_INVALID"],L({},s,{child:M,index:z}))}if(null!=I.types&&!I.types.includes(M.type)){if(P>=D&&K()){C();continue}return this.fail(m["CHILD_TYPE_INVALID"],L({},s,{child:M,index:z}))}}}if(null!=o.nodes)while(null!=D){if(P<D)return this.fail(m["CHILD_REQUIRED"],L({},s,{index:z}));K()}}}},{key:"toJSON",value:function e(){var t={object:this.object,document:this.document,blocks:this.blocks,inlines:this.inlines};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"schema"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSchema(r))return r;if(o()(r))return t.fromJSON(r);throw new Error("`Schema.create` only accepts objects or schemas, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isSchema(r))return r;var n=r.plugins;if(r.rules)throw new Error("Schemas in Slate have changed! They are no longer accept a `rules` property.");if(r.nodes)throw new Error("Schemas in Slate have changed! They are no longer accept a `nodes` property.");n||(n=[{schema:r}]);var o=Qe(n);var a=Ge.create({plugins:[].concat(R(We),R(n))});var s=new t(L({},o,{stack:a}));return s}},{key:"isSchema",value:function e(t){return!!(t&&t[x.SCHEMA])}}]);return t}(Object(s["Record"])($e));Xe.fromJS=Xe.fromJSON;function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t={document:{},blocks:{},inlines:{}};e.slice().reverse().forEach(function(e){if(!e.schema)return;if(e.schema.rules)throw new Error("Schemas in Slate have changed! They are no longer accept a `rules` property.");if(e.schema.nodes)throw new Error("Schemas in Slate have changed! They are no longer accept a `nodes` property.");var r=e.schema,n=r.document,o=void 0===n?{}:n,a=r.blocks,s=void 0===a?{}:a,i=r.inlines,u=void 0===i?{}:i;var c=Ze(o);var l={};var f={};for(var d in s)l[d]=et("block",d,s[d]);for(var v in u)f[v]=et("inline",v,u[v]);g()(t.document,c,tt);g()(t.blocks,l,tt);g()(t.inlines,f,tt)});return t}function Ze(e){return L({data:{},nodes:null},e)}function et(e,t,r){return L({data:{},isVoid:null,nodes:null,first:null,last:null,parent:null,text:null},r)}function tt(e,t,r){return"objects"==r||"types"==r||"marks"==r?null==e?t:e.concat(t):null==t?e:t}Xe.prototype[x.SCHEMA]=true;X(Xe.prototype,["getParentRules"]);var rt={data:new s["Map"],decorations:null,document:ie.create(),history:Ve.create(),schema:Xe.create(),selection:ce.create()};var nt=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"change",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Tt(L({},t,{value:this}))}},{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,document:this.document.toJSON(t)};t.preserveData&&(r.data=this.data.toJSON());t.preserveDecorations&&(r.decorations=this.decorations?this.decorations.toArray().map(function(e){return e.toJSON()}):null);t.preserveHistory&&(r.history=this.history.toJSON());t.preserveSelection&&(r.selection=this.selection.toJSON());t.preserveSchema&&(r.schema=this.schema.toJSON());if(t.preserveSelection&&!t.preserveKeys){var n=this.document,o=this.selection;r.selection.anchorPath=o.isSet?n.getPath(o.anchorKey):null;r.selection.focusPath=o.isSet?n.getPath(o.focusKey):null;delete r.selection.anchorKey;delete r.selection.focusKey}if(t.preserveDecorations&&r.decorations&&!t.preserveKeys){var a=this.document;r.decorations=r.decorations.map(function(e){var t=L({},e,{anchorPath:a.getPath(e.anchorKey),focusPath:a.getPath(e.focusKey)});delete t.anchorKey;delete t.focusKey;return t})}return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"value"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"hasUndos",get:function e(){return this.history.undos.size>0}},{key:"hasRedos",get:function e(){return this.history.redos.size>0}},{key:"isBlurred",get:function e(){return this.selection.isBlurred}},{key:"isFocused",get:function e(){return this.selection.isFocused}},{key:"isCollapsed",get:function e(){return this.selection.isCollapsed}},{key:"isExpanded",get:function e(){return this.selection.isExpanded}},{key:"isBackward",get:function e(){return this.selection.isBackward}},{key:"isForward",get:function e(){return this.selection.isForward}},{key:"startKey",get:function e(){return this.selection.startKey}},{key:"endKey",get:function e(){return this.selection.endKey}},{key:"startOffset",get:function e(){return this.selection.startOffset}},{key:"endOffset",get:function e(){return this.selection.endOffset}},{key:"anchorKey",get:function e(){return this.selection.anchorKey}},{key:"focusKey",get:function e(){return this.selection.focusKey}},{key:"anchorOffset",get:function e(){return this.selection.anchorOffset}},{key:"focusOffset",get:function e(){return this.selection.focusOffset}},{key:"startBlock",get:function e(){return this.startKey&&this.document.getClosestBlock(this.startKey)}},{key:"endBlock",get:function e(){return this.endKey&&this.document.getClosestBlock(this.endKey)}},{key:"anchorBlock",get:function e(){return this.anchorKey&&this.document.getClosestBlock(this.anchorKey)}},{key:"focusBlock",get:function e(){return this.focusKey&&this.document.getClosestBlock(this.focusKey)}},{key:"startInline",get:function e(){return this.startKey&&this.document.getClosestInline(this.startKey)}},{key:"endInline",get:function e(){return this.endKey&&this.document.getClosestInline(this.endKey)}},{key:"anchorInline",get:function e(){return this.anchorKey&&this.document.getClosestInline(this.anchorKey)}},{key:"focusInline",get:function e(){return this.focusKey&&this.document.getClosestInline(this.focusKey)}},{key:"startText",get:function e(){return this.startKey&&this.document.getDescendant(this.startKey)}},{key:"endText",get:function e(){return this.endKey&&this.document.getDescendant(this.endKey)}},{key:"anchorText",get:function e(){return this.anchorKey&&this.document.getDescendant(this.anchorKey)}},{key:"focusText",get:function e(){return this.focusKey&&this.document.getDescendant(this.focusKey)}},{key:"nextBlock",get:function e(){return this.endKey&&this.document.getNextBlock(this.endKey)}},{key:"previousBlock",get:function e(){return this.startKey&&this.document.getPreviousBlock(this.startKey)}},{key:"nextInline",get:function e(){return this.endKey&&this.document.getNextInline(this.endKey)}},{key:"previousInline",get:function e(){return this.startKey&&this.document.getPreviousInline(this.startKey)}},{key:"nextText",get:function e(){return this.endKey&&this.document.getNextText(this.endKey)}},{key:"previousText",get:function e(){return this.startKey&&this.document.getPreviousText(this.startKey)}},{key:"characters",get:function e(){return this.selection.isUnset?new s["List"]:this.document.getCharactersAtRange(this.selection)}},{key:"marks",get:function e(){return this.selection.isUnset?new s["Set"]:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function e(){return this.selection.isUnset?new s["Set"]:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function e(){return this.selection.isUnset?new s["List"]:this.document.getBlocksAtRange(this.selection)}},{key:"fragment",get:function e(){return this.selection.isUnset?ie.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function e(){return this.selection.isUnset?new s["List"]:this.document.getInlinesAtRange(this.selection)}},{key:"texts",get:function e(){return this.selection.isUnset?new s["List"]:this.document.getTextsAtRange(this.selection)}},{key:"isEmpty",get:function e(){if(this.isCollapsed)return true;if(0!=this.endOffset&&0!=this.startOffset)return false;return this.fragment.isEmpty}},{key:"isInVoid",get:function e(){if(this.isExpanded)return false;return this.document.hasVoidParent(this.startKey)}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(r))return r;if(o()(r))return t.fromJSON(r,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+r)}},{key:"createProperties",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(r))return{data:r.data,decorations:r.decorations,schema:r.schema};if(o()(r)){var n={};"data"in r&&(n.data=U.create(r.data));"decorations"in r&&(n.decorations=ce.createList(r.decorations));"schema"in r&&(n.schema=Xe.create(r.schema));return n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o=r.document,a=void 0===o?{}:o,i=r.selection,u=void 0===i?{}:i,c=r.schema,l=void 0===c?{}:c,f=r.history,d=void 0===f?{}:f;var v=new s["Map"];a=ie.fromJSON(a);var y=u,h=y.anchorPath,p=y.focusPath,g=y.anchorKey,m=y.focusKey;void 0!==h&&void 0===g&&(u.anchorKey=a.assertPath(h).key);void 0!==p&&void 0===m&&(u.focusKey=a.assertPath(p).key);u=ce.fromJSON(u);l=Xe.fromJSON(l);d=Ve.fromJSON(d);if(n.plugins){var k=true;var b=false;var O=void 0;try{for(var A=n.plugins[Symbol.iterator](),_;!(k=(_=A.next()).done);k=true){var w=_.value;w.data&&(v=v.merge(w.data))}}catch(e){b=true;O=e}finally{try{!k&&A.return&&A.return()}finally{if(b)throw O}}}"data"in r&&(v=v.merge(r.data));if(u.isUnset){var x=a.getFirstText();x&&(u=u.collapseToStartOf(x))}var j=new t({data:v,document:a,selection:u,schema:l,history:d});false!==n.normalize&&(j=j.change({save:false}).normalize().value);return j}},{key:"isValue",value:function e(t){return!!(t&&t[x.VALUE])}}]);return t}(Object(s["Record"])(rt));nt.fromJS=nt.fromJSON;nt.prototype[x.VALUE]=true;var ot={length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0};var at=function(e){P(t,e);function t(){F(this,t);return z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=this.object,r=this.type;var n={object:t,type:r};var o=Re[r];var a=true;var s=false;var i=void 0;try{for(var u=o[Symbol.iterator](),c;!(a=(c=u.next()).done);a=true){var l=c.value;var f=this[l];if("document"==l)continue;if("selection"==l)continue;if("value"==l)continue;if("node"==l&&"insert_node"!=r)continue;"mark"!=l&&"marks"!=l&&"node"!=l||(f=f.toJSON());if("properties"==l&&"merge_node"==r){var d={};"data"in f&&(d.data=f.data.toJS());"type"in f&&(d.type=f.type);f=d}if("properties"==l&&"set_mark"==r){var v={};"data"in f&&(v.data=f.data.toJS());"type"in f&&(v.type=f.type);f=v}if("properties"==l&&"set_node"==r){var y={};"data"in f&&(y.data=f.data.toJS());"isVoid"in f&&(y.isVoid=f.isVoid);"type"in f&&(y.type=f.type);f=y}if("properties"==l&&"set_selection"==r){var h={};"anchorOffset"in f&&(h.anchorOffset=f.anchorOffset);"anchorPath"in f&&(h.anchorPath=f.anchorPath);"focusOffset"in f&&(h.focusOffset=f.focusOffset);"focusPath"in f&&(h.focusPath=f.focusPath);"isBackward"in f&&(h.isBackward=f.isBackward);"isFocused"in f&&(h.isFocused=f.isFocused);"marks"in f&&(h.marks=null==f.marks?null:f.marks.toJSON());f=h}if("properties"==l&&"set_value"==r){var p={};"data"in f&&(p.data=f.data.toJS());"decorations"in f&&(p.decorations=f.decorations.toJS());"schema"in f&&(p.schema=f.schema.toJS());f=p}if("properties"==l&&"split_node"==r){var g={};"data"in f&&(g.data=f.data.toJS());"type"in f&&(g.type=f.type);f=g}n[l]=f}}catch(e){s=true;i=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw i}}return n}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"operation"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(r))return r;if(o()(r))return t.fromJSON(r);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(s["List"].isList(r)||Array.isArray(r)){var n=new s["List"](r.map(t.create));return n}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isOperation(r))return r;var n=r.type,o=r.value;var a=Re[n];var s={type:n};if(!a)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var i=true;var u=false;var c=void 0;try{for(var l=a[Symbol.iterator](),f;!(i=(f=l.next()).done);i=true){var d=f.value;var v=r[d];if(void 0===v){if("document"==d)continue;if("selection"==d)continue;if("value"==d)continue;if("node"==d&&"insert_node"!=n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+d+'" attribute.')}"mark"==d&&(v=ne.create(v));"marks"==d&&null!=v&&(v=ne.createSet(v));"node"==d&&(v=Oe.create(v));"selection"==d&&(v=ce.create(v));"value"==d&&(v=nt.create(v));"properties"==d&&"merge_node"==n&&(v=Oe.createProperties(v));"properties"==d&&"set_mark"==n&&(v=ne.createProperties(v));"properties"==d&&"set_node"==n&&(v=Oe.createProperties(v));if("properties"==d&&"set_selection"==n){var y=v,h=y.anchorKey,p=y.focusKey,g=D(y,["anchorKey","focusKey"]);v=ce.createProperties(g);void 0!==h&&(v.anchorPath=null===h?null:o.document.getPath(h));void 0!==p&&(v.focusPath=null===p?null:o.document.getPath(p))}"properties"==d&&"set_value"==n&&(v=nt.createProperties(v));"properties"==d&&"split_node"==n&&(v=Oe.createProperties(v));s[d]=v}}catch(e){u=true;c=e}finally{try{!i&&l.return&&l.return()}finally{if(u)throw c}}var m=new t(s);return m}},{key:"isOperation",value:function e(t){return!!(t&&t[x.OPERATION])}},{key:"isOperationList",value:function e(r){return s["List"].isList(r)&&r.every(function(e){return t.isOperation(e)})}}]);return t}(Object(s["Record"])(ot));at.fromJS=at.fromJSON;at.prototype[x.OPERATION]=true;var st=v()("slate:operation:invert");function it(e){e=at.create(e);var t=e,r=t.type;st(r,e);if("insert_node"==r){var n=e.set("type","remove_node");return n}if("remove_node"==r){var o=e.set("type","insert_node");return o}if("move_node"==r){var a=e,s=a.newPath,i=a.path;var u=s;var c=i;var l=i.length-1;var f=s.length-1;i.length<u.length&&i.slice(0,l).every(function(e,t){return e==u[t]})&&i[l]<u[l]&&(u=u.slice(0,l).concat([u[l]-1]).concat(u.slice(l+1,u.length)));s.length<c.length&&s.slice(0,f).every(function(e,t){return e==c[t]})&&s[f]<=c[f]&&(c=c.slice(0,f).concat([c[f]+1]).concat(c.slice(f+1,c.length)));var d=e.set("path",u).set("newPath",c);return d}if("merge_node"==r){var v=e,y=v.path;var h=y.length;var p=h-1;var g=y.slice(0,p).concat([y[p]-1]);var m=e.set("type","split_node").set("path",g);return m}if("split_node"==r){var k=e,O=k.path;var A=O.length;var _=A-1;var w=O.slice(0,_).concat([O[_]+1]);var x=e.set("type","merge_node").set("path",w);return x}if("set_node"==r){var j=e,T=j.properties,N=j.node;var K=N.merge(T);var B=b()(N,Object.keys(T));var C=e.set("node",K).set("properties",B);return C}if("insert_text"==r){var E=e.set("type","remove_text");return E}if("remove_text"==r){var F=e.set("type","insert_text");return F}if("add_mark"==r){var S=e.set("type","remove_mark");return S}if("remove_mark"==r){var L=e.set("type","add_mark");return L}if("set_mark"==r){var P=e,z=P.properties,I=P.mark;var R=I.merge(z);var M=b()(I,Object.keys(z));var J=e.set("mark",R).set("properties",M);return J}if("set_selection"==r){var V=e,H=V.properties,U=V.selection,W=V.value;var q=H.anchorPath,G=H.focusPath,Y=D(H,["anchorPath","focusPath"]);var $=W.document;void 0!==q&&(Y.anchorKey=null===q?null:$.assertPath(q).key);void 0!==G&&(Y.focusKey=null===G?null:$.assertPath(G).key);var X=U.merge(Y);var Q=b()(U,Object.keys(Y));if(void 0!==q){Q.anchorPath=null===Q.anchorKey?null:$.getPath(Q.anchorKey);delete Q.anchorKey}if(void 0!==G){Q.focusPath=null===Q.focusKey?null:$.getPath(Q.focusKey);delete Q.focusKey}var Z=e.set("selection",X).set("properties",Q);return Z}if("set_value"==r){var ee=e,te=ee.properties,re=ee.value;var ne=re.merge(te);var oe=b()(re,Object.keys(te));var ae=e.set("value",ne).set("properties",oe);return ae}}var ut={};ut.redo=function(e){var t=e.value;var r=t,n=r.history;if(!n)return;var o=n,a=o.undos,s=o.redos;var i=s.peek();if(!i)return;s=s.pop();a=a.push(i);i.forEach(function(t){var r=t,n=r.type,o=r.properties;"set_selection"==n&&(t=t.set("properties",A()(o,"isFocused")));e.applyOperation(t,{save:false})});t=e.value;n=n.set("undos",a).set("redos",s);t=t.set("history",n);e.value=t};ut.undo=function(e){var t=e.value;var r=t,n=r.history;if(!n)return;var o=n,a=o.undos,s=o.redos;var i=a.peek();if(!i)return;a=a.pop();s=s.push(i);i.slice().reverse().map(it).forEach(function(t){var r=t,n=r.type,o=r.properties;"set_selection"==n&&(t=t.set("properties",A()(o,"isFocused")));e.applyOperation(t,{save:false})});t=e.value;n=n.set("undos",a).set("redos",s);t=t.set("history",n);e.value=t};var ct={};ct.select=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=ce.createProperties(t);var n=r.snapshot,o=void 0!==n&&n;var a=e.value;var s=a.document,i=a.selection;var u={};var c=i.toJSON();var l=i.merge(t).normalize(s);t=b()(l,Object.keys(t));for(var f in t){if(false==o&&t[f]==c[f])continue;u[f]=t[f]}var d=["anchorKey","anchorOffset","focusKey","focusOffset"].some(function(e){return u.hasOwnProperty(e)});c.marks&&t.marks==c.marks&&d&&(u.marks=null);if(w()(u))return;e.applyOperation({type:"set_selection",value:a,properties:u,selection:c},o?{skip:false,merge:false}:{})};ct.selectAll=function(e){var t=e.value;var r=t.document,n=t.selection;var o=n.moveToRangeOf(r);e.select(o)};ct.snapshotSelection=function(e){var t=e.value;var r=t.selection;e.select(r,{snapshot:true})};ct.moveAnchorCharBackward=function(e){var t=e.value;var r=t.document,n=t.selection,o=t.anchorText,a=t.anchorBlock;var s=n.anchorOffset;var i=r.getPreviousText(o.key);var u=r.hasVoidParent(o.key);var c=i&&r.hasVoidParent(i.key);if(!u&&s>0){e.moveAnchor(-1);return}if(!i)return;e.moveAnchorToEndOf(i);u||c||!a.hasNode(i.key)||e.moveAnchor(-1)};ct.moveAnchorCharForward=function(e){var t=e.value;var r=t.document,n=t.selection,o=t.anchorText,a=t.anchorBlock;var s=n.anchorOffset;var i=r.getNextText(o.key);var u=r.hasVoidParent(o.key);var c=i&&r.hasVoidParent(i.key);if(!u&&s<o.text.length){e.moveAnchor(1);return}if(!i)return;e.moveAnchorToStartOf(i);u||c||!a.hasNode(i.key)||e.moveAnchor(1)};ct.moveFocusCharBackward=function(e){var t=e.value;var r=t.document,n=t.selection,o=t.focusText,a=t.focusBlock;var s=n.focusOffset;var i=r.getPreviousText(o.key);var u=r.hasVoidParent(o.key);var c=i&&r.hasVoidParent(i.key);if(!u&&s>0){e.moveFocus(-1);return}if(!i)return;e.moveFocusToEndOf(i);u||c||!a.hasNode(i.key)||e.moveFocus(-1)};ct.moveFocusCharForward=function(e){var t=e.value;var r=t.document,n=t.selection,o=t.focusText,a=t.focusBlock;var s=n.focusOffset;var i=r.getNextText(o.key);var u=r.hasVoidParent(o.key);var c=i&&r.hasVoidParent(i.key);if(!u&&s<o.text.length){e.moveFocus(1);return}if(!i)return;e.moveFocusToStartOf(i);u||c||!a.hasNode(i.key)||e.moveFocus(1)};var lt=["Forward","Backward"];lt.forEach(function(e){var t="moveAnchorChar"+e;var r="moveFocusChar"+e;ct["moveChar"+e]=function(e){e[t]()[r]()};ct["moveStartChar"+e]=function(e){e.value.isBackward?e[r]():e[t]()};ct["moveEndChar"+e]=function(e){e.value.isBackward?e[t]():e[r]()};ct["extendChar"+e]=function(t){t["moveFocusChar"+e]()};ct["collapseChar"+e]=function(t){var r="Forward"==e?"collapseToEnd":"collapseToStart";t[r]()["moveChar"+e]()}});var ft=[["collapseLineBackward","collapseToStartOfBlock"],["collapseLineForward","collapseToEndOfBlock"],["extendLineBackward","extendToStartOfBlock"],["extendLineForward","extendToEndOfBlock"]];ft.forEach(function(e){var t=I(e,2),r=t[0],n=t[1];ct[r]=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];e[n].apply(e,[e].concat(r))}});var dt=["blur","collapseTo","collapseToAnchor","collapseToEnd","collapseToEndOf","collapseToFocus","collapseToStart","collapseToStartOf","extend","extendTo","extendToEndOf","extendToStartOf","flip","focus","move","moveAnchor","moveAnchorOffsetTo","moveAnchorTo","moveAnchorToEndOf","moveAnchorToStartOf","moveEnd","moveEndOffsetTo","moveEndTo","moveFocus","moveFocusOffsetTo","moveFocusTo","moveFocusToEndOf","moveFocusToStartOf","moveOffsetsTo","moveStart","moveStartOffsetTo","moveStartTo","moveTo","moveToEnd","moveToEndOf","moveToRangeOf","moveToStart","moveToStartOf","deselect"];dt.forEach(function(e){ct[e]=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a="deselect"!=e;var s=t.value;var i=s.document,u=s.selection;var c=u[e].apply(u,n);a&&(c=c.normalize(i));t.select(c)}});var vt=["moveTo","moveAnchorTo","moveFocusTo","moveStartTo","moveEndTo","collapseTo","extendTo"];var yt=["Next","Previous"];var ht=["Block","Inline","Text"];vt.forEach(function(e){var t=["Start","End"];"moveTo"==e&&t.push("Range");t.forEach(function(t){var r=""+e+t+"Of";ht.forEach(function(e){var t="Text"==e?"getNode":"getClosest"+e;ct[""+r+e]=function(e){var n=e.value;var o=n.document,a=n.selection;var s=o[t](a.startKey);if(!s)return;e[r](s)};yt.forEach(function(n){var o="get"+n+e;var a="Next"==n?"startKey":"endKey";ct[""+r+n+e]=function(e){var n=e.value;var s=n.document,i=n.selection;var u=s[t](i[a]);if(!u)return;var c=s[o](u.key);if(!c)return;e[r](c)}})})})});var pt={};pt.setValue=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=nt.createProperties(t);var n=e.value;e.applyOperation({type:"set_value",properties:t,value:n},r)};var gt={};gt.normalize=function(e){e.normalizeDocument()};gt.normalizeDocument=function(e){var t=e.value;var r=t.document;e.normalizeNodeByKey(r.key)};gt.normalizeNodeByKey=function(e,t){var r=e.value;var n=r.document,o=r.schema;var a=n.assertNode(t);mt(e,a,o);n=e.value.document;var s=n.getAncestors(t);if(!s)return;s.forEach(function(t){e.value.document.getDescendant(t.key)&&kt(e,t,o)})};function mt(e,t,r){if("text"==t.object){kt(e,t,r);return}var n=t.getFirstInvalidDescendant(r);var o=e.value.document.getPath(t.key);while(t&&n){mt(e,n,r);t=e.value.document.refindNode(o,t.key);if(t){o=e.value.document.refindPath(o,t.key);n=t.getFirstInvalidDescendant(r)}else{o=[];n=null}}t&&kt(e,t,r)}function kt(e,t,r){var n=r.stack.plugins.length+1;var o=0;function a(e,t){var s=t.validate(r);if(!s)return;var i=e.value.document.getPath(t.key);s(e);t=e.value.document.refindNode(i,t.key);if(!t)return;i=e.value.document.refindPath(i,t.key);o++;if(o>n)throw new Error("A schema rule could not be validated after sufficient iterations. This is usually due to a `rule.validate` or `rule.normalize` function of a schema being incorrectly written, causing an infinite loop.");a(e,t)}a(e,t)}var bt=L({},oe,ze,Ie,ut,ct,pt,gt);var Ot=v()("slate:operation:apply");function At(e,t,r){e.selection&&t(e.selection)&&(e=e.set("selection",r(e.selection)));if(!e.decorations)return e;var n=e.decorations.map(function(e){return t(e)?r(e):e}).filter(function(e){return null!==e.anchorKey});return e.set("decorations",n)}function _t(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return At(e,function(e){if(!e.isAtomic)return false;var o=e.startKey,a=e.startOffset,s=e.endKey,i=e.endOffset;return o==t&&a<r&&(s!=t||i>r)||n&&o==t&&a<n&&(s!=t||i>n)},function(e){return e.deselect()})}var wt={add_mark:function e(t,r){var n=r.path,o=r.offset,a=r.length,s=r.mark;var i=t,u=i.document;var c=u.assertPath(n);c=c.addMark(o,a,s);u=u.updateNode(c);t=t.set("document",u);return t},insert_node:function e(t,r){var n=r.path,o=r.node;var a=n[n.length-1];var s=n.slice(0,-1);var i=t,u=i.document;var c=u.assertPath(s);c=c.insertNode(a,o);u=u.updateNode(c);t=t.set("document",u);return t},insert_text:function e(t,r){var n=r.path,o=r.offset,a=r.text,s=r.marks;var i=t,u=i.document;var c=u.assertPath(n);c=c.insertText(o,a,s);u=u.updateNode(c);t=t.set("document",u);t=_t(t,c.key,o);t=At(t,function(e){var t=e.anchorKey,r=e.anchorOffset,n=e.isBackward,a=e.isAtomic;return t==c.key&&(r>o||r==o&&(!a||!n))},function(e){return e.moveAnchor(a.length)});t=At(t,function(e){var t=e.focusKey,r=e.focusOffset,n=e.isBackward,a=e.isAtomic;return t==c.key&&(r>o||r==o&&(!a||n))},function(e){return e.moveFocus(a.length)});return t},merge_node:function e(t,r){var n=r.path;var o=n.slice(0,n.length-1).concat([n[n.length-1]-1]);var a=t,s=a.document;var i=s.assertPath(o);var u=s.assertPath(n);var c=s.getParent(i.key);var l=c.nodes.indexOf(i);var f=c.nodes.indexOf(u);c=c.mergeNode(l,f);s=s.updateNode(c);t=t.set("document",s);"text"==i.object&&(t=At(t,function(e){var t=e.anchorKey,r=e.focusKey;return t==u.key||r==u.key},function(e){e.anchorKey==u.key&&(e=e.moveAnchorTo(i.key,i.text.length+e.anchorOffset));e.focusKey==u.key&&(e=e.moveFocusTo(i.key,i.text.length+e.focusOffset));return e.normalize(s)}));return t},move_node:function e(t,r){var n=r.path,o=r.newPath;var a=o[o.length-1];var s=o.slice(0,-1);var i=n.slice(0,-1);var u=n[n.length-1];var c=t,l=c.document;var f=l.assertPath(n);var d=l.getParent(f.key);d=d.removeNode(u);l=l.updateNode(d);var v=void 0;if(i.every(function(e,t){return e===s[t]})&&i.length===s.length)v=d;else if(i.every(function(e,t){return e===s[t]})&&u<s[i.length]){s[i.length]--;v=l.assertPath(s)}else v=l.assertPath(s);v=v.insertNode(a,f);l=l.updateNode(v);t=t.set("document",l);return t},remove_mark:function e(t,r){var n=r.path,o=r.offset,a=r.length,s=r.mark;var i=t,u=i.document;var c=u.assertPath(n);c=c.removeMark(o,a,s);u=u.updateNode(c);t=t.set("document",u);return t},remove_node:function e(t,r){var n=r.path;var o=t,a=o.document,s=o.selection;var i=a.assertPath(n);if(s.isSet||null!==t.decorations){var u="text"==i.object?i:i.getFirstText()||i;var c="text"==i.object?i:i.getLastText()||i;var l=a.getPreviousText(u.key);var f=a.getNextText(c.key);t=At(t,function(e){var t=e.startKey,r=e.endKey;return i.hasNode(t)||i.hasNode(r)},function(e){var t=e,r=t.startKey,n=t.endKey;i.hasNode(r)&&(e=l?e.moveStartTo(l.key,l.text.length):f?e.moveStartTo(f.key,0):e.deselect());i.hasNode(n)&&(e=l?e.moveEndTo(l.key,l.text.length):f?e.moveEndTo(f.key,0):e.deselect());if(e.isSet)return e.normalize(a);return e})}var d=a.getParent(i.key);var v=d.nodes.indexOf(i);d=d.removeNode(v);a=a.updateNode(d);t=t.set("document",a);return t},remove_text:function e(t,r){var n=r.path,o=r.offset,a=r.text;var s=a.length;var i=o+s;var u=t,c=u.document;var l=c.assertPath(n);t=_t(t,l.key,o,o+s);t=At(t,function(e){var t=e.anchorKey;return t==l.key},function(e){return e.anchorOffset>=i?e.moveAnchor(-s):e.anchorOffset>o?e.moveAnchorTo(e.anchorKey,o):e});t=At(t,function(e){var t=e.focusKey;return t==l.key},function(e){return e.focusOffset>=i?e.moveFocus(-s):e.focusOffset>o?e.moveFocusTo(e.focusKey,o):e});l=l.removeText(o,s);c=c.updateNode(l);t=t.set("document",c);return t},set_mark:function e(t,r){var n=r.path,o=r.offset,a=r.length,s=r.mark,i=r.properties;var u=t,c=u.document;var l=c.assertPath(n);l=l.updateMark(o,a,s,i);c=c.updateNode(l);t=t.set("document",c);return t},set_node:function e(t,r){var n=r.path,o=r.properties;var a=t,s=a.document;var i=s.assertPath(n);i=i.merge(o);s=s.updateNode(i);t=t.set("document",s);return t},set_selection:function e(t,r){var n=r.properties;var o=n.anchorPath,a=n.focusPath,s=D(n,["anchorPath","focusPath"]);var i=t,u=i.document,c=i.selection;void 0!==o&&(s.anchorKey=null===o?null:u.assertPath(o).key);void 0!==a&&(s.focusKey=null===a?null:u.assertPath(a).key);c=c.merge(s);c=c.normalize(u);t=t.set("selection",c);return t},set_value:function e(t,r){var n=r.properties;t=t.merge(n);return t},split_node:function e(t,r){var n=r.path,o=r.position,a=r.properties;var s=t,i=s.document;var u=i.assertPath(n);var c=i.getParent(u.key);var l=c.nodes.indexOf(u);c=c.splitNode(l,o);if(a){var f=c.nodes.get(l+1);"text"!==f.object&&(c=c.updateNode(f.merge(a)))}i=i.updateNode(c);var d=i.getNextText(u.key);t=At(t,function(e){var t=e.startKey,r=e.startOffset,n=e.endKey,a=e.endOffset;return u.key==t&&o<=r||u.key==n&&o<=a},function(e){var t=e,r=t.startKey,n=t.startOffset,a=t.endKey,s=t.endOffset;var c=false;if(u.key==r&&o<=n){e=e.moveStartTo(d.key,n-o);c=true}if(u.key==a&&o<=s){e=e.moveEndTo(d.key,s-o);c=true}if(c)return e.normalize(i);return e});t=t.set("document",i);return t}};function xt(e,t){t=at.create(t);var r=t,n=r.type;var o=wt[n];if(!o)throw new Error('Unknown operation type: "'+n+'".');Ot(n,t);e=o(e,t);return e}var jt=v()("slate:change");var Tt=function(){function e(t){F(this,e);var r=t.value;this.value=r;this.operations=new s["List"];this.flags=L({normalize:true},b()(t,["merge","save","normalize"]))}S(e,[{key:"applyOperation",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=this.operations,a=this.flags;var s=this.value;var i=s,u=i.history;o()(t)&&(t=L({},t,{value:s}));t=at.create(t);r=L({},a,r);var c=r,l=c.merge,f=void 0===l?0!=n.size||null:l,d=c.save,v=void 0===d||d,y=c.skip,h=void 0===y?null:y;jt("apply",{operation:t,save:v,merge:f});s=xt(s,t);if(u&&v){u=u.save(t,{merge:f,skip:h});s=s.set("history",u)}this.value=s;this.operations=n.push(t);return this}},{key:"applyOperations",value:function e(t,r){var n=this;t.forEach(function(e){return n.applyOperation(e,r)});return this}},{key:"call",value:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.apply(void 0,[this].concat(n));return this}},{key:"withoutNormalization",value:function e(t){var r=this.flags.normalize;this.setOperationFlag("normalize",false);try{t(this);this.normalizeDocument()}finally{this.setOperationFlag("normalize",r)}return this}},{key:"setOperationFlag",value:function e(t,r){this.flags[t]=r;return this}},{key:"getFlag",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0!==r[t]?r[t]:this.flags[t]}},{key:"unsetOperationFlag",value:function e(t){delete this.flags[t];return this}},{key:"object",get:function e(){return"change"}},{key:"kind",get:function e(){a["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}]);return e}();Tt.isChange=j.bind(null,"CHANGE");Tt.prototype[x.CHANGE]=true;Object.keys(bt).forEach(function(e){Tt.prototype[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];jt(e,{args:r});this.call.apply(this,[bt[e]].concat(r));return this}});var Nt={apply:xt,invert:it};var Kt={Block:J,Changes:bt,Character:pe,Data:U,Document:ie,History:Ve,Inline:H,Leaf:me,Mark:ne,Node:Oe,Operation:at,Operations:Nt,Range:ce,Schema:Xe,Stack:Ge,Text:be,Value:nt,resetKeyGenerator:C,setKeyGenerator:B,resetMemoization:ee,useMemoization:te};t["default"]=Kt},"./node_modules/@gitbook/slate/node_modules/@gitbook/slate-dev-logger/lib/slate-dev-logger.es.js":function(e,t,r){"use strict";(function(e){var r="undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}var a=n;var s=o;"function"===typeof r.setTimeout&&(a=setTimeout);"function"===typeof r.clearTimeout&&(s=clearTimeout);function i(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout){a=setTimeout;return setTimeout(e,0)}try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function u(e){if(s===clearTimeout)return clearTimeout(e);if((s===o||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var c=[];var l=false;var f;var d=-1;function v(){if(!l||!f)return;l=false;f.length?c=f.concat(c):d=-1;c.length&&y()}function y(){if(l)return;var e=i(v);l=true;var t=c.length;while(t){f=c;c=[];while(++d<t)f&&f[d].run();d=-1;t=c.length}f=null;l=false;u(e)}function h(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t));1!==c.length||l||i(y)}function p(e,t){this.fun=e;this.array=t}p.prototype.run=function(){this.fun.apply(null,this.array)};var g="browser";var m="browser";var k=true;var b={};var O=[];var A="";var _={};var w={};var x={};function j(){}var T=j;var N=j;var K=j;var B=j;var C=j;var E=j;var F=j;function S(e){throw new Error("process.binding is not supported")}function L(){return"/"}function P(e){throw new Error("process.chdir is not supported")}function D(){return 0}var z=r.performance||{};var I=z.now||z.mozNow||z.msNow||z.oNow||z.webkitNow||function(){return(new Date).getTime()};function R(e){var t=.001*I.call(z);var r=Math.floor(t);var n=Math.floor(t%1*1e9);if(e){r-=e[0];n-=e[1];if(n<0){r--;n+=1e9}}return[r,n]}var M=new Date;function J(){var e=new Date;var t=e-M;return t/1e3}var V={nextTick:h,title:g,browser:k,env:b,argv:O,version:A,versions:_,on:T,addListener:N,once:K,off:B,removeListener:C,removeAllListeners:E,emit:F,binding:S,cwd:L,chdir:P,umask:D,hrtime:R,platform:m,release:w,config:x,uptime:J};var H="undefined"!==typeof V&&V.env&&true;var U="undefined"!=typeof console&&"function"==typeof console.log&&"function"==typeof console.warn&&"function"==typeof console.error;function W(e,t){if(!H)return;if(U){var r;for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];(r=console)[e].apply(r,[t].concat(o))}}function q(e){if(U){var t;for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=console).error.apply(t,[e].concat(n))}}function G(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];W.apply(void 0,["warn","Warning: "+e].concat(r))}function Y(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];W.apply(void 0,["warn","Deprecation ("+e+"): "+t].concat(n))}var $={deprecate:Y,error:q,warn:G};t["a"]=$}).call(t,r("../node_modules/webpack/buildin/global.js"))},"./node_modules/@gitbook/slate/node_modules/debug/src/browser.js":function(e,t,r){(function(n){t=e.exports=r("./node_modules/@gitbook/slate/node_modules/debug/src/debug.js");t.log=s;t.formatArgs=a;t.save=i;t.load=u;t.useColors=o;t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return true;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return false;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function a(e){var r=this.useColors;e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff);if(!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0;var a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){if("%%"===e)return;o++;"%c"===e&&(a=o)});e.splice(a,0,n)}function s(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}!e&&"undefined"!==typeof n&&"env"in n&&(e=n.env.DEBUG);return e}t.enable(u());function c(){try{return window.localStorage}catch(e){}}}).call(t,r("../node_modules/process/browser.js"))},"./node_modules/direction/index.js":function(e,t,r){"use strict";var n,o,a,s;n="A-Za-z--------";o="---";a=new RegExp("^[^"+o+"]*["+n+"]");s=new RegExp("^[^"+n+"]*["+o+"]");function i(e){e=e.toString();if(s.test(e))return"rtl";if(a.test(e))return"ltr";return"neutral"}e.exports=i},"./node_modules/esrever/esrever.js":function(e,t,r){(function(e,n){var o;/*! https://mths.be/esrever v0.2.0 by @mathias */(function(a){var s="object"==typeof t&&t;var i="object"==typeof e&&e&&e.exports==s&&e;var u="object"==typeof n&&n;u.global!==u&&u.window!==u||(a=u);var c=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g;var l=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g;var f=function(e){e=e.replace(c,function(e,t,r){return f(r)+t}).replace(l,"$2$1");var t="";var r=e.length;while(r--)t+=e.charAt(r);return t};var d={version:"0.2.0",reverse:f};var v;true;!(o=function(){return d}.call(t,r,t,e),void 0!==o&&(e.exports=o))})(this)}).call(t,r("../node_modules/webpack/buildin/module.js")(e),r("../node_modules/webpack/buildin/global.js"))},"./node_modules/get-document/index.js":function(e,t){e.exports=o;var r=9;function n(e){return e&&e.nodeType===r}function o(e){if(n(e))return e;if(n(e.ownerDocument))return e.ownerDocument;if(n(e.document))return e.document;if(e.parentNode)return o(e.parentNode);if(e.commonAncestorContainer)return o(e.commonAncestorContainer);if(e.startContainer)return o(e.startContainer);if(e.anchorNode)return o(e.anchorNode)}},"./node_modules/get-window/index.js":function(e,t,r){var n=r("./node_modules/get-document/index.js");e.exports=s;var o=r("./node_modules/get-window/needs-ie-fallback.br.js");function a(e){return e&&e.window===e}function s(e){if(a(e))return e;var t=n(e);if(o){t.parentWindow.execScript("document._parentWindow = window;","Javascript");var r=t._parentWindow;t._parentWindow=null;return r}return t.defaultView||t.parentWindow}},"./node_modules/get-window/needs-ie-fallback.br.js":function(e,t){e.exports=!!document.attachEvent&&window!==document.parentWindow},"./node_modules/is-empty/lib/index.js":function(e,t){var r=Object.prototype.hasOwnProperty;var n=Object.prototype.toString;function o(e){if(null==e)return true;if("boolean"==typeof e)return false;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(e.toString==n)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return 0===e.size;case"[object Object]":for(var t in e)if(r.call(e,t))return false;return true}return false}e.exports=o},"./node_modules/is-hotkey/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform);var o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"};var a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"};var s={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var i=1;i<20;i++)s["f"+i]=111+i;function u(e,t,r){if(t&&!("byKey"in t)){r=t;t=null}var n=f(e,t);var o=null==r?function(e){return d(n,e)}:d(n,r);return o}function c(e,t){return u(e,t)}function l(e,t){return u(e,{byKey:true},t)}function f(e,t){var r=t&&t.byKey;var n={};e=e.replace("++","+add");var a=e.split("+");var s=a.length;for(var i in o)n[o[i]]=false;var u=true;var c=false;var l=void 0;try{for(var f=a[Symbol.iterator](),d;!(u=(d=f.next()).done);u=true){var h=d.value;var p=y(h);var g=o[p];1!=s&&g||(r?n.key=p:n.which=v(h));g&&(n[g]=true);1==s&&!g&&r&&(n.shiftKey=null)}}catch(e){c=true;l=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw l}}return n}function d(e,t){for(var r in e){var n=e[r];var o=void 0;if(null==n)continue;o="key"==r?t.key.toLowerCase():"which"==r?91==n&&93==t.which?91:t.which:t[r];if(null==o&&false==n)continue;if(o!=n)return false}return true}function v(e){e=y(e);var t=s[e]||e.toUpperCase().charCodeAt(0);return t}function y(e){e=e.toLowerCase();e=a[e]||e;return e}t.default=u;t.isHotkey=u;t.isCodeHotkey=c;t.isKeyHotkey=l;t.parseHotkey=f;t.compareHotkey=d;t.toKeyCode=v;t.toKeyName=y},"./node_modules/is-in-browser/dist/module.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"isBrowser",function(){return o});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o="object"===("undefined"===typeof window?"undefined":n(window))&&"object"===("undefined"===typeof document?"undefined":n(document))&&9===document.nodeType;t["default"]=o},"./node_modules/is-plain-object/index.js":function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r("./node_modules/isobject/index.js");function o(e){return true===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function e(t){var r,n;if(false===o(t))return false;r=t.constructor;if("function"!==typeof r)return false;n=r.prototype;if(false===o(n))return false;if(false===n.hasOwnProperty("isPrototypeOf"))return false;return true}},"./node_modules/isomorphic-base64/browser.js":function(e,t,r){"use strict";t.atob=self.atob.bind(self);t.btoa=self.btoa.bind(self)},"./node_modules/lodash/_arrayMap.js":function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length,o=Array(n);while(++r<n)o[r]=t(e[r],r,e);return o}e.exports=r},"./node_modules/lodash/_baseClone.js":function(e,t,r){var n=r("./node_modules/lodash/_Stack.js"),o=r("./node_modules/lodash/_arrayEach.js"),a=r("./node_modules/lodash/_assignValue.js"),s=r("./node_modules/lodash/_baseAssign.js"),i=r("./node_modules/lodash/_baseAssignIn.js"),u=r("./node_modules/lodash/_cloneBuffer.js"),c=r("./node_modules/lodash/_copyArray.js"),l=r("./node_modules/lodash/_copySymbols.js"),f=r("./node_modules/lodash/_copySymbolsIn.js"),d=r("./node_modules/lodash/_getAllKeys.js"),v=r("./node_modules/lodash/_getAllKeysIn.js"),y=r("./node_modules/lodash/_getTag.js"),h=r("./node_modules/lodash/_initCloneArray.js"),p=r("./node_modules/lodash/_initCloneByTag.js"),g=r("./node_modules/lodash/_initCloneObject.js"),m=r("./node_modules/lodash/isArray.js"),k=r("./node_modules/lodash/isBuffer.js"),b=r("./node_modules/lodash/isObject.js"),O=r("./node_modules/lodash/keys.js");var A=1,_=2,w=4;var x="[object Arguments]",j="[object Array]",T="[object Boolean]",N="[object Date]",K="[object Error]",B="[object Function]",C="[object GeneratorFunction]",E="[object Map]",F="[object Number]",S="[object Object]",L="[object RegExp]",P="[object Set]",D="[object String]",z="[object Symbol]",I="[object WeakMap]";var R="[object ArrayBuffer]",M="[object DataView]",J="[object Float32Array]",V="[object Float64Array]",H="[object Int8Array]",U="[object Int16Array]",W="[object Int32Array]",q="[object Uint8Array]",G="[object Uint8ClampedArray]",Y="[object Uint16Array]",$="[object Uint32Array]";var X={};X[x]=X[j]=X[R]=X[M]=X[T]=X[N]=X[J]=X[V]=X[H]=X[U]=X[W]=X[E]=X[F]=X[S]=X[L]=X[P]=X[D]=X[z]=X[q]=X[G]=X[Y]=X[$]=true;X[K]=X[B]=X[I]=false;function Q(e,t,r,j,T,N){var K,E=t&A,F=t&_,L=t&w;r&&(K=T?r(e,j,T,N):r(e));if(void 0!==K)return K;if(!b(e))return e;var P=m(e);if(P){K=h(e);if(!E)return c(e,K)}else{var D=y(e),z=D==B||D==C;if(k(e))return u(e,E);if(D==S||D==x||z&&!T){K=F||z?{}:g(e);if(!E)return F?f(e,i(K,e)):l(e,s(K,e))}else{if(!X[D])return T?e:{};K=p(e,D,Q,E)}}N||(N=new n);var I=N.get(e);if(I)return I;N.set(e,K);var R=L?F?v:d:F?keysIn:O;var M=P?void 0:R(e);o(M||e,function(n,o){if(M){o=n;n=e[o]}a(K,o,Q(n,t,r,o,e,N))});return K}e.exports=Q},"./node_modules/lodash/_baseUnset.js":function(e,t,r){var n=r("./node_modules/lodash/_castPath.js"),o=r("./node_modules/lodash/last.js"),a=r("./node_modules/lodash/_parent.js"),s=r("./node_modules/lodash/_toKey.js");function i(e,t){t=n(t,e);e=a(e,t);return null==e||delete e[s(o(t))]}e.exports=i},"./node_modules/lodash/_castPath.js":function(e,t,r){var n=r("./node_modules/lodash/isArray.js"),o=r("./node_modules/lodash/_isKey.js"),a=r("./node_modules/lodash/_stringToPath.js"),s=r("./node_modules/lodash/toString.js");function i(e,t){if(n(e))return e;return o(e,t)?[e]:a(s(e))}e.exports=i},"./node_modules/lodash/_copyObject.js":function(e,t,r){var n=r("./node_modules/lodash/_assignValue.js"),o=r("./node_modules/lodash/_baseAssignValue.js");function a(e,t,r,a){var s=!r;r||(r={});var i=-1,u=t.length;while(++i<u){var c=t[i];var l=a?a(r[c],e[c],c,r,e):void 0;void 0===l&&(l=e[c]);s?o(r,c,l):n(r,c,l)}return r}e.exports=a},"./node_modules/lodash/_customOmitClone.js":function(e,t,r){var n=r("./node_modules/lodash/isPlainObject.js");function o(e){return n(e)?void 0:e}e.exports=o},"./node_modules/lodash/_flatRest.js":function(e,t,r){var n=r("./node_modules/lodash/flatten.js"),o=r("./node_modules/lodash/_overRest.js"),a=r("./node_modules/lodash/_setToString.js");function s(e){return a(o(e,void 0,n),e+"")}e.exports=s},"./node_modules/lodash/isEqual.js":function(e,t,r){var n=r("./node_modules/lodash/_baseIsEqual.js");function o(e,t){return n(e,t)}e.exports=o},"./node_modules/lodash/mergeWith.js":function(e,t,r){var n=r("./node_modules/lodash/_baseMerge.js"),o=r("./node_modules/lodash/_createAssigner.js");var a=o(function(e,t,r,o){n(e,t,r,o)});e.exports=a},"./node_modules/lodash/omit.js":function(e,t,r){var n=r("./node_modules/lodash/_arrayMap.js"),o=r("./node_modules/lodash/_baseClone.js"),a=r("./node_modules/lodash/_baseUnset.js"),s=r("./node_modules/lodash/_castPath.js"),i=r("./node_modules/lodash/_copyObject.js"),u=r("./node_modules/lodash/_customOmitClone.js"),c=r("./node_modules/lodash/_flatRest.js"),l=r("./node_modules/lodash/_getAllKeysIn.js");var f=1,d=2,v=4;var y=c(function(e,t){var r={};if(null==e)return r;var c=false;t=n(t,function(t){t=s(t,e);c||(c=t.length>1);return t});i(e,l(e),r);c&&(r=o(r,f|d|v,u));var y=t.length;while(y--)a(r,t[y]);return r});e.exports=y},"./node_modules/lodash/pick.js":function(e,t,r){var n=r("./node_modules/lodash/_basePick.js"),o=r("./node_modules/lodash/_flatRest.js");var a=o(function(e,t){return null==e?{}:n(e,t)});e.exports=a},"./node_modules/react-portal/build/portal.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o=r("./node_modules/react/index.js");var a=l(o);var s=r("./node_modules/react-dom/index.js");var i=l(s);var u=r("./node_modules/react-portal/node_modules/prop-types/index.js");var c=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={ESCAPE:27};var h=function(e){v(t,e);function t(){f(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={active:false};e.handleWrapperClick=e.handleWrapperClick.bind(e);e.closePortal=e.closePortal.bind(e);e.handleOutsideMouseClick=e.handleOutsideMouseClick.bind(e);e.handleKeydown=e.handleKeydown.bind(e);e.portal=null;e.node=null;return e}n(t,[{key:"componentDidMount",value:function e(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown);if(this.props.closeOnOutsideClick){document.addEventListener("mouseup",this.handleOutsideMouseClick);document.addEventListener("touchstart",this.handleOutsideMouseClick)}this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function e(t){if("undefined"!==typeof t.isOpened){t.isOpened&&(this.state.active?this.renderPortal(t):this.openPortal(t));!t.isOpened&&this.state.active&&this.closePortal()}"undefined"===typeof t.isOpened&&this.state.active&&this.renderPortal(t)}},{key:"componentWillUnmount",value:function e(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown);if(this.props.closeOnOutsideClick){document.removeEventListener("mouseup",this.handleOutsideMouseClick);document.removeEventListener("touchstart",this.handleOutsideMouseClick)}this.closePortal(true)}},{key:"handleWrapperClick",value:function e(t){t.preventDefault();t.stopPropagation();if(this.state.active)return;this.openPortal()}},{key:"openPortal",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:true});this.renderPortal(t);this.props.onOpen(this.node)}},{key:"closePortal",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=function e(){if(t.node){i.default.unmountComponentAtNode(t.node);document.body.removeChild(t.node)}t.portal=null;t.node=null;true!==r&&t.setState({active:false})};if(this.state.active){this.props.beforeClose?this.props.beforeClose(this.node,n):n();this.props.onClose()}}},{key:"handleOutsideMouseClick",value:function e(t){if(!this.state.active)return;var r=(0,s.findDOMNode)(this.portal);if(r.contains(t.target)||t.button&&0!==t.button)return;t.stopPropagation();this.closePortal()}},{key:"handleKeydown",value:function e(t){t.keyCode===y.ESCAPE&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function e(t){if(!this.node){this.node=document.createElement("div");document.body.appendChild(this.node)}var r=t.children;"function"===typeof t.children.type&&(r=a.default.cloneElement(t.children,{closePortal:this.closePortal}));this.portal=i.default.unstable_renderSubtreeIntoContainer(this,r,this.node,this.props.onUpdate)}},{key:"render",value:function e(){if(this.props.openByClickOn)return a.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick});return null}}]);return t}(a.default.Component);t.default=h;h.propTypes={children:c.default.element.isRequired,openByClickOn:c.default.element,closeOnEsc:c.default.bool,closeOnOutsideClick:c.default.bool,isOpened:c.default.bool,onOpen:c.default.func,onClose:c.default.func,beforeClose:c.default.func,onUpdate:c.default.func};h.defaultProps={onOpen:function e(){},onClose:function e(){},onUpdate:function e(){}};e.exports=t["default"]},"./node_modules/react-portal/node_modules/fbjs/lib/emptyFunction.js":function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function e(){};o.thatReturns=n;o.thatReturnsFalse=n(false);o.thatReturnsTrue=n(true);o.thatReturnsNull=n(null);o.thatReturnsThis=function(){return this};o.thatReturnsArgument=function(e){return e};e.exports=o},"./node_modules/react-portal/node_modules/fbjs/lib/invariant.js":function(e,t,r){"use strict";var n=function e(t){};false;function o(e,t,r,o,a,s,i,u){n(t);if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,a,s,i,u];var f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]}));c.name="Invariant Violation"}c.framesToPop=1;throw c}}e.exports=o},"./node_modules/react-portal/node_modules/prop-types/index.js":function(e,t,r){var n;var o;var a;false;e.exports=r(18)()},"./node_modules/react-portal/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},"./node_modules/selection-is-backward/index.js":function(e,t){function r(e){var t=e.anchorNode;var r=e.anchorOffset;var n=e.focusNode;var o=e.focusOffset;var a=t.compareDocumentPosition(n);return!(4===a||0===a&&r<o)}e.exports=r},18:function(e,t,r){"use strict";var n=r("./node_modules/react-portal/node_modules/fbjs/lib/emptyFunction.js");var o=r("./node_modules/react-portal/node_modules/fbjs/lib/invariant.js");var a=r("./node_modules/react-portal/node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,t,r,n,s,i){if(i===a)return;o(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};r.checkPropTypes=n;r.PropTypes=r;return r}}});
//# space-part-10.7464d682.js.map