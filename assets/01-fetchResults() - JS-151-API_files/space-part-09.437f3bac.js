webpackJsonp([54],{"./node_modules/@gitbook/slate-prop-types/lib/slate-prop-types.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@gitbook/slate/lib/slate.es.js");function o(e,t){function n(n,r,o,a,i){var s=r[o];if(null==s&&!n)return null;if(null==s&&n)return new Error("The "+i+" `"+o+"` is marked as required in `"+a+"`, but it was not supplied.");if(t(s))return null;return new Error("Invalid "+i+" `"+o+"` supplied to `"+a+"`, expected a Slate `"+e+"` but received: "+s)}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[false].concat(t))}r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[true].concat(t))};return r}var a={block:o("Block",function(e){return r["Block"].isBlock(e)}),blocks:o("List<Block>",function(e){return r["Block"].isBlockList(e)}),change:o("Change",function(e){return r["Change"].isChange(e)}),character:o("Character",function(e){return r["Character"].isCharacter(e)}),characters:o("List<Character>",function(e){return r["Character"].isCharacterList(e)}),data:o("Data",function(e){return r["Data"].isData(e)}),document:o("Document",function(e){return r["Document"].isDocument(e)}),history:o("History",function(e){return r["History"].isHistory(e)}),inline:o("Inline",function(e){return r["Inline"].isInline(e)}),inlines:o("Inline",function(e){return r["Inline"].isInlineList(e)}),leaf:o("Leaf",function(e){return r["Leaf"].isLeaf(e)}),leaves:o("List<Leaf>",function(e){return r["Leaf"].isLeafList(e)}),mark:o("Mark",function(e){return r["Mark"].isMark(e)}),marks:o("Set<Mark>",function(e){return r["Mark"].isMarkSet(e)}),node:o("Node",function(e){return r["Node"].isNode(e)}),nodes:o("List<Node>",function(e){return r["Node"].isNodeList(e)}),range:o("Range",function(e){return r["Range"].isRange(e)}),ranges:o("List<Range>",function(e){return r["Range"].isRangeList(e)}),schema:o("Schema",function(e){return r["Schema"].isSchema(e)}),stack:o("Stack",function(e){return r["Stack"].isStack(e)}),value:o("Value",function(e){return r["Value"].isValue(e)}),text:o("Text",function(e){return r["Text"].isText(e)}),texts:o("List<Text>",function(e){return r["Text"].isTextList(e)})};t["a"]=a},"./node_modules/@gitbook/slate-react/lib/slate-react.es.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});n.d(t,"Editor",function(){return Ze});n.d(t,"cloneFragment",function(){return ke});n.d(t,"findDOMNode",function(){return ae});n.d(t,"findDOMRange",function(){return se});n.d(t,"findNode",function(){return Me});n.d(t,"findRange",function(){return ye});n.d(t,"getEventRange",function(){return Re});n.d(t,"getEventTransfer",function(){return Fe});n.d(t,"setEventTransfer",function(){return Ye});n.d(t,"AfterPlugin",function(){return We});n.d(t,"BeforePlugin",function(){return ze});var r=n("./node_modules/@gitbook/slate-react/node_modules/debug/src/browser.js");var o=n.n(r);var a=n("./node_modules/react/index.js");var i=n.n(a);var s=n("./node_modules/@gitbook/slate-react/node_modules/prop-types/index.js");var c=n.n(s);var l=n("./node_modules/@gitbook/slate-prop-types/lib/slate-prop-types.es.js");var u=n("./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js");var d=n.n(u);var p=n("./node_modules/immutable/dist/immutable.js");var f=n.n(p);var v=n("./node_modules/@gitbook/slate-dev-logger/lib/slate-dev-logger.es.js");var h=n("./node_modules/@gitbook/slate/lib/slate.es.js");var m=n("./node_modules/get-window/index.js");var y=n.n(m);var g=n("./node_modules/selection-is-backward/index.js");var b=n.n(g);var E=n("./node_modules/@gitbook/slate-dev-environment/lib/slate-dev-environment.es.js");var C=n("./node_modules/@gitbook/slate-react/node_modules/lodash/throttle.js");var _=n.n(C);var O=n("./node_modules/@gitbook/slate-base64-serializer/lib/slate-base64-serializer.es.js");var S=n("./node_modules/@gitbook/slate-plain-serializer/lib/slate-plain-serializer.es.js");var P=n("./node_modules/@gitbook/slate-hotkeys/lib/slate-hotkeys.es.js");var x=n("./node_modules/react-dom/index.js");var A=n.n(x);var j=n("./node_modules/react-portal/build/portal.js");var T=n.n(j);var k=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onPaste","onSelect"];var M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var w=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e};var D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var I=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var N=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var L=function(){function e(e,t){var n=[];var r=true;var o=false;var a=void 0;try{for(var i=e[Symbol.iterator](),s;!(r=(s=i.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){o=true;a=e}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var B=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var F=[].concat(B(k),["decorateNode","onChange","renderEditor","renderMark","renderNode","renderPlaceholder","renderPortal","schema","validateNode"]);var H=/^([\w-]+)(?::(\d+))?$/;function U(e){var t=H.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=L(t,3),r=n[0],o=n[1],a=n[2];return{key:o,index:parseInt(a,10)}}function q(e){return e.key+":"+e.index}var G={parse:U,stringify:q};var Y=o()("slate:leaves");var K=function(e){I(t,e);function t(){var e;var n,r,o;M(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),W.call(r),n),N(r,o)}R(t,[{key:"shouldComponentUpdate",value:function e(t){if(t.index!=this.props.index||t.marks!=this.props.marks||t.text!=this.props.text||t.parent!=this.props.parent)return true;return false}},{key:"render",value:function e(){this.debug("render",this);var t=this.props,n=t.node,r=t.index;var o=G.stringify({key:n.key,index:r});return i.a.createElement("span",{"data-offset-key":o},this.renderMarks())}},{key:"renderMarks",value:function e(){var t=this.props,n=t.marks,r=t.node,o=t.offset,a=t.text,i=t.editor;var s=i.stack;var c=this.renderText();var l={"data-slate-leaf":true};return n.reduce(function(e,t){var c={editor:i,mark:t,marks:n,node:r,offset:o,text:a,children:e,attributes:l};var u=s.find("renderMark",c);return u||e},c)}},{key:"renderText",value:function e(){var t=this.props,n=t.block,r=t.node,o=t.parent,a=t.text,s=t.index,c=t.leaves;if(o.isVoid)return i.a.createElement("span",{"data-slate-zero-width":"z"},"​");if(""===a&&"block"===o.object&&""===o.text&&1===o.nodes.size)return i.a.createElement("span",{"data-slate-zero-width":"n"},"​");if(""===a)return i.a.createElement("span",{"data-slate-zero-width":"z"},"​");var l=n.getLastText();var u=a.charAt(a.length-1);var d=r===l;var p=s===c.size-1;if(d&&p&&"\n"===u)return a+"\n";return a}}]);return t}(i.a.Component);K.propTypes={block:l["a"].block.isRequired,editor:c.a.object.isRequired,index:c.a.number.isRequired,leaves:l["a"].leaves.isRequired,marks:l["a"].marks.isRequired,node:l["a"].node.isRequired,offset:c.a.number.isRequired,parent:l["a"].node.isRequired,text:c.a.string.isRequired};var W=function e(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Y.apply(void 0,[e,t.props.node.key+"-"+t.props.index].concat(r))}};var V=o()("slate:node");var z=function(e){I(t,e);function t(){var e;var n,r,o;M(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),Q.call(r),n),N(r,o)}R(t,[{key:"render",value:function e(){var t=this;this.debug("render",this);var n=this.props,r=n.decorations,o=n.editor,a=n.node,s=n.style;var c=o.value;var l=c.document;var u=a.key;var d=r.filter(function(e){var t=e.startKey,n=e.endKey;if(t==u||n==u)return true;if(t===n)return false;var r=l.areDescendantsSorted(t,u);if(!r)return false;var o=l.areDescendantsSorted(u,n);return o});var p=0===d.size?a.getLeaves():a.getLeaves(d);var f=0;var v=p.map(function(e,n){var r=t.renderLeaf(p,e,n,f);f+=e.text.length;return r});return i.a.createElement("span",{"data-key":u,style:s},v)}}]);return t}(i.a.Component);z.propTypes={block:l["a"].block,decorations:d.a.list.isRequired,editor:c.a.object.isRequired,node:l["a"].node.isRequired,parent:l["a"].node.isRequired,style:c.a.object};z.defaultProps={style:null};var Q=function e(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t.props.node;var i=a.key;V.apply(void 0,[e,i+" (text)"].concat(r))};this.shouldComponentUpdate=function(e){var n=t.props;var r=e;var o=n;if(r.node!=o.node)return true;if("block"==r.parent.object){var a=o.parent.nodes.last();var i=r.parent.nodes.last();if(o.node==a&&r.node!=i)return true}if(!r.decorations.equals(o.decorations))return true;return false};this.renderLeaf=function(e,n,r,o){var a=t.props,s=a.block,c=a.node,l=a.parent,u=a.editor;var d=n.text,p=n.marks;return i.a.createElement(K,{key:c.key+"-"+r,block:s,editor:u,index:r,marks:p,node:c,offset:o,parent:l,leaves:e,text:d})}};var X=o()("slate:void");var Z=function(e){I(t,e);function t(){var e;var n,r,o;M(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),$.call(r),n),N(r,o)}R(t,[{key:"render",value:function e(){var t=this.props;var n=t.children,r=t.node,o=t.readOnly;var a="block"==r.object?"div":"span";var s={height:"0",color:"transparent",outline:"none",position:"absolute"};var c=i.a.createElement(a,{"data-slate-spacer":true,style:s},this.renderText());var l=i.a.createElement(a,{contentEditable:!!o&&null},n);this.debug("render",{props:t});return i.a.createElement(a,{"data-slate-void":true,"data-key":r.key,contentEditable:!(!o&&"block"!=r.object)&&null},o?null:c,l)}}]);return t}(i.a.Component);Z.propTypes={block:l["a"].block,children:c.a.any.isRequired,editor:c.a.object.isRequired,node:l["a"].node.isRequired,parent:l["a"].node.isRequired,readOnly:c.a.bool.isRequired};var $=function e(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t.props.node;var i=a.key,s=a.type;var c=i+" ("+s+")";X.apply(void 0,[e,""+c].concat(r))};this.renderText=function(){var e=t.props,n=e.block,r=e.decorations,o=e.node,a=e.readOnly,s=e.editor;var c=o.getFirstText();return i.a.createElement(z,{block:"block"==o.object?o:n,decorations:r,editor:s,key:c.key,node:c,parent:o,readOnly:a})}};function J(e,t){var n=Object(p["Set"])().asMutable();var r=[];ee(e,t).forEach(function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())});return r}function ee(e,t){if(t.isEmpty())return e.nodes.toArray().map(function(e,t){return{child:e,index:t}});var n=w({},e.key,0);var r=1;e.forEachDescendant(function(e){n[e.key]=r;r+=1});var o=e.nodes.toArray();var a=o.map(function(e,t){return{child:e,index:t,order:n[e.key]}});t.forEach(function(e){var t=n[e.startKey];var i=void 0===t?0:te(o,n,t);a.push({isRangeStart:true,order:i-.5,decoration:e});var s=(n[e.endKey]||r)+.5;a.push({isRangeEnd:true,order:s,decoration:e})});return a.sort(function(e,t){return e.order>t.order?1:-1})}function te(e,t,n){var r=e.findIndex(function(e){return n<t[e.key]});if(r<=0)return 0;var o=e[r-1];return t[o.key]}var ne=o()("slate:node");var re=function(e){I(t,e);function t(){var e;var n,r,o;M(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),oe.call(r),n),N(r,o)}R(t,[{key:"render",value:function e(){var t=this;this.debug("render",this);var n=this.props,r=n.editor,o=n.isSelected,a=n.isFocused,s=n.node,c=n.decorations,l=n.parent,u=n.readOnly;var d=r.value;var p=d.selection;var f=r.stack;var v=s.getSelectionIndexes(p,o);var h=c.concat(s.getDecorations(f));var m=J(s,h);var y=[];s.nodes.forEach(function(e,n){var r=!!v&&v.start<=n&&n<v.end;y.push(t.renderNode(e,r,m[n]))});var g={"data-key":s.key};if("block"==s.object&&"block"!=s.nodes.first().object){var b=s.getTextDirection();"rtl"==b&&(g.dir="rtl")}var E={key:s.key,editor:r,isFocused:a,isSelected:o,node:s,parent:l,readOnly:u};var C=f.find("renderPlaceholder",E);if(C){C=i.a.cloneElement(C,{key:s.key+"-placeholder"});y=[C].concat(B(y))}var _=f.find("renderNode",D({},E,{attributes:g,children:y}));return s.isVoid?i.a.createElement(Z,this.props,_):_}}]);return t}(i.a.Component);re.propTypes={block:l["a"].block,decorations:d.a.list.isRequired,editor:c.a.object.isRequired,isFocused:c.a.bool.isRequired,isSelected:c.a.bool.isRequired,node:l["a"].node.isRequired,parent:l["a"].node.isRequired,readOnly:c.a.bool.isRequired};var oe=function e(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t.props.node;var i=a.key,s=a.type;ne.apply(void 0,[e,i+" ("+s+")"].concat(r))};this.shouldComponentUpdate=function(e){var n=t.props;var r=n.editor.stack;var o=r.find("shouldNodeComponentUpdate",n,e);var a=e;var i=n;if(null!=o){if(o)return true;false===o&&v["a"].warn("Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}if(a.readOnly!=i.readOnly)return true;if(a.node!=i.node)return true;if(a.isSelected||i.isSelected)return true;if(a.isFocused||i.isFocused)return true;if(!a.decorations.equals(i.decorations))return true;return false};this.renderNode=function(e,n,r){var o=t.props,a=o.block,s=o.editor,c=o.node,l=o.readOnly,u=o.isFocused;var d="text"==e.object?z:re;return i.a.createElement(d,{block:"block"==c.object?c:a,decorations:r,editor:s,isSelected:n,isFocused:u&&n,key:e.key,node:e,parent:c,readOnly:l})}};function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;h["Node"].isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;var r=ae(e,n);var o=0;var a=void 0;var i=n.document.createNodeIterator(r,NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT},false);while(a=i.nextNode()){var s=a.textContent.length;var c=o+s;if(t<=c){var l=t-o;return{node:a,offset:l>=0?l:0}}o=c}return null}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;var n=e.anchorKey,r=e.anchorOffset,o=e.focusKey,a=e.focusOffset,i=e.isBackward,s=e.isCollapsed;var c=ie(n,r,t);var l=s?c:ie(o,a,t);if(!c||!l)return null;var u=t.document.createRange();var d=i?l:c;var p=i?c:l;u.setStart(d.node,d.offset);u.setEnd(p.node,p.offset);return u}var ce="data-slate-zero-width";var le="["+ce+"]";var ue="data-offset-key";var de="["+ue+"]";var pe="[data-key]";var fe="[data-slate-void]";function ve(e,t,n){var r=he(e,t),o=r.node,a=r.offset;var i=y()(e);var s=o.parentNode;var c=s.closest(de);var l=void 0;var u=void 0;if(c){var d=i.document.createRange();var p=c.closest(pe);d.setStart(p,0);d.setEnd(o,a);u=p;l=d.toString().length}else{var f=s.closest(fe);if(!f)return null;c=f.querySelector(de);if(!c)return null;u=c;l=u.textContent.length}l==u.textContent.length&&s.hasAttribute(ce)&&l--;var v=c.getAttribute(ue);if(!v)return null;var h=G.parse(v),m=h.key;if(!n.document.hasDescendant(m))return null;return{key:m,offset:l}}function he(e,t){if(1==e.nodeType&&e.childNodes.length){var n=t==e.childNodes.length;var r=n?"backward":"forward";var o=n?t-1:t;e=me(e,o,r);while(1==e.nodeType&&e.childNodes.length){var a=n?e.childNodes.length-1:0;e=me(e,a,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}function me(e,t,n){var r=e.childNodes;var o=r[t];var a=t;var i=false;var s=false;while(8==o.nodeType||1==o.nodeType&&0==o.childNodes.length||1==o.nodeType&&"false"==o.getAttribute("contenteditable")){if(i&&s)break;if(a>=r.length){i=true;a=t-1;n="backward";continue}if(a<0){s=true;a=t+1;n="forward";continue}o=r[a];"forward"==n&&a++;"backward"==n&&a--}return o||null}function ye(e,t){var n=e.anchorNode||e.startContainer;if(!n)return null;var r=y()(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var o=e,a=o.anchorNode,i=o.anchorOffset,s=o.focusNode,c=o.focusOffset,l=o.isCollapsed;var u=ve(a,i,t);var d=l?u:ve(s,c,t);if(!u||!d)return null;if(E["d"]||E["b"]){var p=ie(u.key,u.offset);var f=ie(d.key,d.offset);e={anchorNode:p.node,anchorOffset:p.offset,focusNode:f.node,focusOffset:f.offset}}var v=h["Range"].create({anchorKey:u.key,anchorOffset:u.offset,focusKey:d.key,focusOffset:d.offset,isBackward:!l&&b()(e),isFocused:true});return v}var ge=["auto","overlay","scroll"];var be=E["e"]&&!!window.navigator.userAgent.match(/os 11_/i);function Ee(e,t){var n=e.parentNode;var r=void 0;while(!r){if(!n.parentNode)break;var o=t.getComputedStyle(n);var a=o.overflowY;if(ge.includes(a)){r=n;break}n=n.parentNode}if(!r)return t.document.body;return r}function Ce(e){if(be)return;if(!e.anchorNode)return;var t=y()(e.anchorNode);var n=Ee(e.anchorNode,t);var r=n==t.document.body||n==t.document.documentElement;var o=b()(e);var a=e.getRangeAt(0).cloneRange();a.collapse(o);var i=a.getBoundingClientRect();if(E["g"]&&a.collapsed&&0==i.top&&0==i.height){0==a.startOffset?a.setEnd(a.endContainer,1):a.setStart(a.startContainer,a.startOffset-1);i=a.getBoundingClientRect();0==i.top&&0==i.height&&a.getClientRects().length&&(i=a.getClientRects()[0])}var s=void 0;var c=void 0;var l=void 0;var u=void 0;var d=0;var p=0;var f=0;var v=0;var h=0;var m=0;var g=0;var C=0;if(r){var _=t.innerWidth,O=t.innerHeight,S=t.pageYOffset,P=t.pageXOffset;s=_;c=O;l=S;u=P}else{var x=n.offsetWidth,A=n.offsetHeight,j=n.scrollTop,T=n.scrollLeft;var k=t.getComputedStyle(n),M=k.borderTopWidth,R=k.borderBottomWidth,w=k.borderLeftWidth,D=k.borderRightWidth,I=k.paddingTop,N=k.paddingBottom,L=k.paddingLeft,B=k.paddingRight;var F=n.getBoundingClientRect();s=x;c=A;d=F.top+parseInt(M,10);p=F.left+parseInt(w,10);f=parseInt(M,10)+parseInt(R,10);v=parseInt(w,10)+parseInt(D,10);h=parseInt(I,10);m=parseInt(N,10);g=parseInt(L,10);C=parseInt(B,10);l=j;u=T}var H=i.top+l-d;var U=i.left+u-p;var q=u;var G=l;U<u?q=U-g:U+i.width+v>u+s&&(q=U+v+C-s);H<l?G=H-h:H+i.height+f>l+c&&(G=H+f+m+i.height-c);if(r)t.scrollTo(q,G);else{n.scrollTop=G;n.scrollLeft=q}}function _e(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse();n.select()}else e.removeAllRanges()}var Oe=/Permission denied to access property "nodeType"/;var Se=o()("slate:content");var Pe=function(e){I(t,e);function t(e){M(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.componentDidMount=function(){var e=y()(n.element);e.document.addEventListener("selectionchange",n.onNativeSelectionChange);(E["e"]||E["a"])&&E["h"].beforeinput&&n.element.addEventListener("beforeinput",n.onNativeBeforeInput);n.updateSelection()};n.componentDidUpdate=function(){n.updateSelection()};n.updateSelection=function(){var e=n.props.editor;var t=e.value;var r=t.selection;var o=r.isBackward;var a=y()(n.element);var i=a.getSelection();var s=i.rangeCount,c=i.anchorNode;if(!s&&r.isBlurred)return;if(r.isBlurred){if(!n.isInEditor(c))return;_e(i);n.element.blur();Se("updateSelection",{selection:r,native:i});return}if(r.isUnset)return;var l=!!s&&i.getRangeAt(0);var u=se(r,a);if(!u){v["a"].error("Unable to find a native DOM range from the current selection.",{selection:r});return}var d=u.startContainer,p=u.startOffset,f=u.endContainer,h=u.endOffset;if(l&&(d==l.startContainer&&p==l.startOffset&&f==l.endContainer&&h==l.endOffset||d==l.endContainer&&p==l.endOffset&&f==l.startContainer&&h==l.startOffset))return;n.tmp.isUpdatingSelection=true;_e(i);i.setBaseAndExtent?o?i.setBaseAndExtent(u.endContainer,u.endOffset,u.startContainer,u.startOffset):i.setBaseAndExtent(u.startContainer,u.startOffset,u.endContainer,u.endOffset):i.addRange(u);Ce(i);setTimeout(function(){E["c"]&&n.element&&n.element.focus();n.tmp.isUpdatingSelection=false});Se("updateSelection",{selection:r,native:i})};n.ref=function(e){n.element=e};n.isInEditor=function(e){var t=n.element;var r=void 0;try{r=3===e.nodeType?e.parentNode:e}catch(e){if(E["c"]&&Oe.test(e.message))return false;throw e}return r.isContentEditable&&(r===t||r.closest("[data-slate-editor]")===t)};n.onNativeBeforeInput=function(e){if(n.props.readOnly)return;if(!n.isInEditor(e.target))return;var t=e.getTargetRanges(),r=L(t,1),o=r[0];if(!o)return;var a=n.props.editor;switch(e.inputType){case"deleteContentBackward":e.preventDefault();var i=ye(o,a.value);a.change(function(e){return e.deleteAtRange(i)});break;case"insertLineBreak":case"insertParagraph":e.preventDefault();var s=ye(o,a.value);a.change(function(e){e.value.isInVoid?e.collapseToStartOfNextText():e.splitBlockAtRange(s)});break;case"insertReplacementText":case"insertText":var c=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==c)return;e.preventDefault();var l=a.value;var u=l.selection;var d=ye(o,l);a.change(function(e){e.insertTextAtRange(d,c,u.marks);u.marks&&l.document!=e.value.document&&e.select({marks:null})});break}};n.onNativeSelectionChange=_()(function(e){if(n.props.readOnly)return;var t=y()(e.target);var r=t.document.activeElement;if(r!==n.element)return;n.props.onSelect(e)},100);n.renderNode=function(e,t,r){var o=n.props,a=o.editor,s=o.readOnly;var c=a.value;var l=c.document,u=c.isFocused;return i.a.createElement(re,{block:null,editor:a,decorations:r,isSelected:t,isFocused:u&&t,key:e.key,node:e,parent:l,readOnly:s})};n.tmp={};n.tmp.isUpdatingSelection=false;k.forEach(function(e){n[e]=function(t){n.onEvent(e,t)}});return n}R(t,[{key:"componentWillUnmount",value:function e(){var t=y()(this.element);t&&t.document.removeEventListener("selectionchange",this.onNativeSelectionChange);(E["e"]||E["a"])&&E["h"].beforeinput&&this.element.removeEventListener("beforeinput",this.onNativeBeforeInput)}},{key:"onEvent",value:function e(t,n){Se("onEvent",t);if(this.tmp.isUpdatingSelection&&("onSelect"==t||"onBlur"==t||"onFocus"==t))return;if("onSelect"==t){var r=this.props.editor;var o=r.value;var a=o.selection;var i=y()(n.target);var s=i.getSelection();var c=ye(s,o);if(c&&c.equals(a)){this.updateSelection();return}}if("onDragEnd"==t||"onDragEnter"==t||"onDragExit"==t||"onDragLeave"==t||"onDragOver"==t||"onDragStart"==t||"onDrop"==t){var l=n.target;var u=l.closest("[data-slate-editor]");if(u!==this.element)return}if(("onBeforeInput"==t||"onBlur"==t||"onCompositionEnd"==t||"onCompositionStart"==t||"onCopy"==t||"onCut"==t||"onFocus"==t||"onInput"==t||"onKeyDown"==t||"onKeyUp"==t||"onPaste"==t||"onSelect"==t)&&!this.isInEditor(n.target))return;this.props[t](n)}},{key:"render",value:function e(){var t=this;var n=this.props;var r=n.className,o=n.readOnly,a=n.editor,s=n.tabIndex,c=n.role,l=n.tagName,u=n.spellCheck;var d=a.value,p=a.stack;var f=l;var v=d.document,h=d.selection,m=d.decorations;var y=v.getSelectionIndexes(h);var g=v.getDecorations(p).concat(m||[]);var b=J(v,g);var E=v.nodes.toArray().map(function(e,n){var r=!!y&&y.start<=n&&n<y.end;return t.renderNode(e,r,b[n])});var C=k.reduce(function(e,n){e[n]=t[n];return e},{});var _=D({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},o?{}:{WebkitUserModify:"read-write-plaintext-only"},n.style);Se("render",{props:n});return i.a.createElement(f,D({},C,{"data-slate-editor":true,ref:this.ref,"data-key":v.key,contentEditable:!o||null,suppressContentEditableWarning:true,className:r,onBlur:this.onBlur,onFocus:this.onFocus,onCompositionEnd:this.onCompositionEnd,onCompositionStart:this.onCompositionStart,onCopy:this.onCopy,onCut:this.onCut,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDrop:this.onDrop,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onPaste:this.onPaste,onSelect:this.onSelect,autoCorrect:n.autoCorrect?"on":"off",spellCheck:u,style:_,role:o?null:c||"textbox",tabIndex:s,"data-gramm":false}),E,this.props.children)}}]);return t}(i.a.Component);Pe.propTypes={autoCorrect:c.a.bool.isRequired,children:c.a.any.isRequired,className:c.a.string,editor:c.a.object.isRequired,readOnly:c.a.bool.isRequired,role:c.a.string,spellCheck:c.a.bool.isRequired,style:c.a.object,tabIndex:c.a.number,tagName:c.a.string};Pe.defaultProps={style:{},tagName:"div"};k.forEach(function(e){Pe.propTypes[e]=c.a.func.isRequired});var xe={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};var Ae=xe.FRAGMENT;var je=xe.HTML;var Te=xe.TEXT;function ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fragment;var r=y()(e.target);var o=r.getSelection();var a=t.startKey,i=t.endKey;var s=t.document.getClosestVoid(a);var c=t.document.getClosestVoid(i);if(o.isCollapsed&&!s)return;var l=O["a"].serializeNode(n);var u=o.getRangeAt(0);var d=u.cloneContents();var p=d.childNodes[0];d.childNodes.forEach(function(e){e.textContent&&""!==e.textContent.trim()&&(p=e)});if(c){var f=u.cloneRange();var v=ae(c,r);f.setEndAfter(v);d=f.cloneContents()}s&&(p=d.childNodes[0].childNodes[1].firstChild);[].slice.call(d.querySelectorAll(le)).forEach(function(e){var t="n"===e.getAttribute(ce);e.textContent=t?"\n":""});if(3==p.nodeType){var h=r.document.createElement("span");h.style.whiteSpace="pre";h.appendChild(p);d.appendChild(h);p=h}p.setAttribute("data-slate-fragment",l);var m=r.document.createElement("div");m.appendChild(d);if(e.clipboardData&&e.clipboardData.setData&&!E["d"]){e.preventDefault();e.clipboardData.setData(Te,m.textContent);e.clipboardData.setData(Ae,l);e.clipboardData.setData(je,m.innerHTML);return}var g=e.target.closest("[data-slate-editor]");m.setAttribute("contenteditable",true);m.style.position="absolute";m.style.left="-9999px";g.appendChild(m);o.selectAllChildren(m);r.requestAnimationFrame(function(){g.removeChild(m);_e(o);o.addRange(u)})}function Me(e,t){var n=e.closest("[data-key]");if(!n)return null;var r=n.getAttribute("data-key");if(!r)return null;var o=t.document.getNode(r);return o||null}function Re(e,t){e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.x,o=n.y,a=n.target;if(null==r||null==o)return null;var i=t.document;var s=Me(a,t);if(!s)return null;if(s.isVoid){var c=a.getBoundingClientRect();var l="inline"==s.object?r-c.left<c.left+c.width-r:o-c.top<c.top+c.height-o;var u=s.getFirstText();var d=h["Range"].create();if(l){var p=i.getPreviousText(u.key);if(p)return d.moveToEndOf(p)}var f=i.getNextText(u.key);return f?d.moveToStartOf(f):null}var v=y()(a);var m=void 0;if(v.document.caretRangeFromPoint)m=v.document.caretRangeFromPoint(r,o);else if(v.document.caretPositionFromPoint){var g=v.document.caretPositionFromPoint(r,o);m=v.document.createRange();m.setStart(g.offsetNode,g.offset);m.setEnd(g.offsetNode,g.offset)}else if(v.document.body.createTextRange){m=v.document.body.createTextRange();try{m.moveToPoint(r,o)}catch(e){return null}}var b=ye(m,t);if(!b)return null;return b}var we=xe.FRAGMENT;var De=xe.HTML;var Ie=xe.NODE;var Ne=xe.RICH;var Le=xe.TEXT;var Be=/ data-slate-fragment="([^\s"]+)"/;function Fe(e){!E["d"]&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData;var n=qe(t,we);var r=qe(t,Ie);var o=qe(t,De);var a=qe(t,Ne);var i=qe(t,Le);var s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var c=Be.exec(o);var l=L(c,2),u=l[0],d=l[1];d&&(n=d)}if(i){var p=He(i);p[we]&&(n=p[we]);p[Ie]&&(r=p[Ie]);p[Le]&&(i=p[Le])}n&&(n=O["a"].deserializeNode(n));r&&(r=O["a"].deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map(function(e){return"file"==e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(s=Array.from(t.files))}catch(e){t.files&&t.files.length&&(s=Array.from(t.files))}var f={files:s,fragment:n,html:o,node:r,rich:a,text:i};f.type=Ue(f);return f}function He(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!=t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}function Ue(e){if(e.fragment)return"fragment";if(e.node)return"node";if(e.rich&&e.html)return"html";if(e.rich&&e.text)return"text";if(e.files&&e.files.length)return"files";if(e.html)return"html";if(e.text)return"text";return"unknown"}function qe(e,t){if(!e.types||!e.types.length)return t==Le&&e.getData("Text")||null;var n=Array.from(e.types);return-1!==n.indexOf(t)&&e.getData(t)||null}var Ge=xe.TEXT;function Ye(e,t,n){var r=xe[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n);o.setData("text",o.getData("text"))}catch(e){var a="SLATE-DATA-EMBED::";var i=o.getData(Ge);var s={};if(i.substring(0,a.length)===a)try{s=JSON.parse(i.substring(a.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[Ge]=i;s[r]=n;var c=""+a+JSON.stringify(s);o.setData(Ge,c)}}var Ke=o()("slate:after");function We(){var e=null;function t(e,t,n){Ke("onBeforeInput",{event:e});e.preventDefault();t.insertText(e.data)}function n(e,t,n){Ke("onBlur",{event:e});t.blur()}function r(e,t,n){if(n.props.readOnly)return true;var r=t.value;var o=r.document;var a=Me(e.target,r);var i=a&&(a.isVoid||o.hasVoidParent(a.key));i&&t.focus().collapseToEndOf(a);Ke("onClick",{event:e})}function o(e,t,n){Ke("onCopy",{event:e});ke(e,t.value)}function a(e,t,n){Ke("onCut",{event:e});ke(e,t.value);var r=y()(e.target);r.requestAnimationFrame(function(){var e=t.value;var r=e.endBlock,o=e.endInline,a=e.isCollapsed;var i=r&&r.isVoid&&a;var s=o&&o.isVoid&&a;i?n.change(function(e){return e.removeNodeByKey(r.key)}):s?n.change(function(e){return e.removeNodeByKey(o.key)}):n.change(function(e){return e.delete()})})}function s(t,n,r){Ke("onDragEnd",{event:t});e=null}function c(e,t,n){Ke("onDragOver",{event:e})}function l(t,n,r){Ke("onDragStart",{event:t});e=true;var o=n.value;var a=o.document;var i=Me(t.target,o);var s=i&&(i.isVoid||a.hasVoidParent(i.key));if(s){var c=O["a"].serializeNode(i,{preserveKeys:true});Ye(t,"node",c)}else{var l=o.fragment;var u=O["a"].serializeNode(l);Ye(t,"fragment",u)}}function u(t,n,r){Ke("onDrop",{event:t});var o=n.value;var a=o.document,i=o.selection;var s=y()(t.target);var c=Re(t,o);if(!c)return;var l=Fe(t);var u=l.type,d=l.fragment,p=l.node,f=l.text;n.focus();e&&i.endKey==c.endKey&&i.endOffset<c.endOffset&&(c=c.move(i.startKey==i.endKey?0-i.endOffset+i.startOffset:0-i.endOffset));e&&n.delete();n.select(c);if("text"==u||"html"==u){var v=c,m=v.anchorKey;var g=a.hasVoidParent(m);if(g){var b=a.getNode(m);while(g){b=a.getNextText(b.key);if(!b)break;g=a.hasVoidParent(b.key)}b&&n.collapseToStartOf(b)}f&&f.split("\n").forEach(function(e,t){t>0&&n.splitBlock();n.insertText(e)})}"fragment"==u&&n.insertFragment(d);"node"==u&&h["Block"].isBlock(p)&&n.insertBlock(p.regenerateKey()).removeNodeByKey(p.key);"node"==u&&h["Inline"].isInline(p)&&n.insertInline(p.regenerateKey()).removeNodeByKey(p.key);var E=a.getNode(c.focusKey);var C=ae(E,s);if(!C)return;C.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:true,cancelable:true}))}function d(e,t,n){Ke("onInput",{event:e});var r=y()(e.target);var o=t.value;var a=r.getSelection();var i=a.anchorNode;var s=ve(i,0,o);if(!s)return;var c=o.document,l=o.selection;var u=c.getDescendant(s.key);var d=c.getClosestBlock(u.key);var p=u.getLeaves();var f=d.getLastText();var v=p.last();var h=0;var m=0;var g=p.find(function(e){h=m;m+=e.text.length;if(m>s.offset)return true})||v;var b=g.text;var E=i.textContent;var C=u==f;var _=g==v;var O=E.charAt(E.length-1);C&&_&&"\n"==O&&(E=E.slice(0,-1));if(E==b)return;var S=E.length-b.length;var P=l.collapseToEnd().move(S);var x=l.moveAnchorTo(s.key,h).moveFocusTo(s.key,m);t.insertTextAtRange(x,E,g.marks).select(P)}function p(e,t,n){Ke("onKeyDown",{event:e});var r=t.value;if(P["a"].isSplitBlock(e)&&!E["e"])return r.isInVoid?t.collapseToStartOfNextText():t.splitBlock();if(P["a"].isDeleteCharBackward(e)&&!E["e"])return t.deleteCharBackward();if(P["a"].isDeleteCharForward(e)&&!E["e"])return t.deleteCharForward();if(P["a"].isDeleteLineBackward(e))return t.deleteLineBackward();if(P["a"].isDeleteLineForward(e))return t.deleteLineForward();if(P["a"].isDeleteWordBackward(e))return t.deleteWordBackward();if(P["a"].isDeleteWordForward(e))return t.deleteWordForward();if(P["a"].isRedo(e))return t.redo();if(P["a"].isUndo(e))return t.undo();if(P["a"].isCollapseLineBackward(e)){e.preventDefault();return t.collapseLineBackward()}if(P["a"].isCollapseLineForward(e)){e.preventDefault();return t.collapseLineForward()}if(P["a"].isExtendLineBackward(e)){e.preventDefault();return t.extendLineBackward()}if(P["a"].isExtendLineForward(e)){e.preventDefault();return t.extendLineForward()}if(P["a"].isCollapseCharBackward(e)){var o=r.document,a=r.isInVoid,i=r.previousText,s=r.startText;var c=i&&o.hasVoidParent(i.key);if(a||c||""==s.text){e.preventDefault();return t.collapseCharBackward()}}if(P["a"].isCollapseCharForward(e)){var l=r.document,u=r.isInVoid,d=r.nextText,p=r.startText;var f=d&&l.hasVoidParent(d.key);if(u||f||""==p.text){e.preventDefault();return t.collapseCharForward()}}if(P["a"].isExtendCharBackward(e)){var v=r.document,h=r.isInVoid,m=r.previousText,y=r.startText;var g=m&&v.hasVoidParent(m.key);if(h||g||""==y.text){e.preventDefault();return t.extendCharBackward()}}if(P["a"].isExtendCharForward(e)){var b=r.document,C=r.isInVoid,_=r.nextText,O=r.startText;var S=_&&b.hasVoidParent(_.key);if(C||S||""==O.text){e.preventDefault();return t.extendCharForward()}}}function f(e,t,n){Ke("onPaste",{event:e});var r=Fe(e);var o=r.type,a=r.fragment,i=r.text;"fragment"==o&&t.insertFragment(a);if("text"==o||"html"==o){if(!i)return;var s=t.value;var c=s.document,l=s.selection,u=s.startBlock;if(u.isVoid)return;var d=u;var p=c.getInsertMarksAtRange(l);var f=S["a"].deserialize(i,{defaultBlock:d,defaultMarks:p}).document;t.insertFragment(f)}}function v(e,t,n){Ke("onSelect",{event:e});var r=y()(e.target);var o=t.value;var a=o.document;var i=r.getSelection();if(!i.rangeCount){t.blur();return}var s=ye(i,o);if(!s)return;var c=s,l=c.anchorKey,u=c.anchorOffset,d=c.focusKey,p=c.focusOffset;var f=a.getNode(l);var v=a.getNode(d);var h=a.getClosestInline(l);var m=a.getClosestInline(d);var g=a.getClosestBlock(d);var b=a.getClosestBlock(l);b&&!b.isVoid&&0==u&&g&&g.isVoid&&0!=p&&(s=s.set("focusOffset",0));if(h&&!h.isVoid&&u==f.text.length){var E=a.getClosestBlock(l);var C=E.getNextText(l);C&&(s=s.moveAnchorTo(C.key,0))}if(m&&!m.isVoid&&p==v.text.length){var _=a.getClosestBlock(d);var O=_.getNextText(d);O&&(s=s.moveFocusTo(O.key,0))}s=s.normalize(a);s=s.set("marks",o.selection.marks);t.select(s)}function m(e,t){var n=k.reduce(function(e,n){e[n]=t[n];return e},{});return i.a.createElement(Pe,D({},n,{autoCorrect:e.autoCorrect,className:e.className,children:e.children,editor:t,readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName}))}function g(e){var t=e.attributes,n=e.children,r=e.node;if("block"!=r.object&&"inline"!=r.object)return;var o="block"==r.object?"div":"span";var a={position:"relative"};return i.a.createElement(o,D({},t,{style:a}),n)}function b(e){var t=e.editor,n=e.node;if(!t.props.placeholder)return;if(t.state.isComposing)return;if("block"!=n.object)return;if(!h["Text"].isTextList(n.nodes))return;if(""!=n.text)return;if(t.value.document.getBlocks().size>1)return;var r={pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"};return i.a.createElement("span",{contentEditable:false,style:r},t.props.placeholder)}return{onBeforeInput:t,onBlur:n,onClick:r,onCopy:o,onCut:a,onDragEnd:s,onDragOver:c,onDragStart:l,onDrop:u,onInput:d,onKeyDown:p,onPaste:f,onSelect:v,renderEditor:m,renderNode:g,renderPlaceholder:b}}var Ve=o()("slate:before");function ze(){var e=null;var t=0;var n=false;var r=false;var o=false;function a(e,t,n){if(n.props.readOnly)return true;if((E["e"]||E["a"])&&E["h"].beforeinput)return true;Ve("onBeforeInput",{event:e})}function i(t,n,o){if(r)return true;if(o.props.readOnly)return true;var a=n.value;var i=t.relatedTarget,s=t.target;var c=y()(s);if(e==c.document.activeElement)return true;if(i){var l=Object(x["findDOMNode"])(o);if(i==l)return true;if(i.hasAttribute("data-slate-spacer"))return true;var u=Me(i,a);if(l.contains(i)&&u&&!u.isVoid)return true}Ve("onBlur",{event:t})}function s(e,t){var n=e.value;n.schema!=t.schema&&e.setValue({schema:t.schema},{save:false}).normalize();Ve("onChange")}function c(e,r,o){var a=t;window.requestAnimationFrame(function(){if(t>a)return;n=false;o.state.isComposing&&o.setState({isComposing:false})});Ve("onCompositionEnd",{event:e})}function l(e,r,o){n=true;t++;o.state.isComposing||o.setState({isComposing:true});Ve("onCompositionStart",{event:e})}function u(e,t,n){var o=y()(e.target);r=true;o.requestAnimationFrame(function(){return r=false});Ve("onCopy",{event:e})}function d(e,t,n){if(n.props.readOnly)return true;var o=y()(e.target);r=true;o.requestAnimationFrame(function(){return r=false});Ve("onCut",{event:e})}function p(e,t,n){o=false;Ve("onDragEnd",{event:e})}function f(e,t,n){Ve("onDragEnter",{event:e})}function v(e,t,n){Ve("onDragExit",{event:e})}function h(e,t,n){Ve("onDragLeave",{event:e})}function m(e,t,n){var r=Me(e.target,n.value);r.isVoid&&e.preventDefault();E["d"]&&e.preventDefault();if(!o){o=true;E["d"]||(e.nativeEvent.dataTransfer.dropEffect="move")}Ve("onDragOver",{event:e})}function g(e,t,n){o=true;Ve("onDragStart",{event:e})}function b(e,t,n){if(n.props.readOnly)return true;e.preventDefault();Ve("onDrop",{event:e})}function C(t,n,o){if(r)return true;if(o.props.readOnly)return true;var a=Object(x["findDOMNode"])(o);var i=y()(t.target);e=i.document.activeElement;if(E["c"]&&t.target!=a){a.focus();return true}Ve("onFocus",{event:t})}function _(e,t,r){if(n)return true;if(t.value.isBlurred)return true;Ve("onInput",{event:e})}function O(e,t,r){if(r.props.readOnly)return true;if(n){P["a"].isComposing(e)&&e.preventDefault();return true}P["a"].isContentEditable(e)&&!E["e"]&&e.preventDefault();Ve("onKeyDown",{event:e})}function S(e,t,n){if(n.props.readOnly)return true;e.preventDefault();Ve("onPaste",{event:e})}function A(t,o,a){if(r)return true;if(n)return true;if(a.props.readOnly)return true;var i=y()(t.target);e=i.document.activeElement;Ve("onSelect",{event:t})}return{onBeforeInput:a,onBlur:i,onChange:s,onCompositionEnd:c,onCompositionStart:l,onCopy:u,onCut:d,onDragEnd:p,onDragEnter:f,onDragExit:v,onDragLeave:h,onDragOver:m,onDragStart:g,onDrop:b,onFocus:C,onInput:_,onKeyDown:O,onPaste:S,onSelect:A}}function Qe(){}var Xe=o()("slate:editor");var Ze=function(e){I(t,e);function t(e){M(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));$e.call(n);n.state={};n.tmp={};n.tmp.updates=0;n.tmp.resolves=0;var r=n.resolvePlugins(e.plugins,e.schema);var o=h["Stack"].create({plugins:r});var a=h["Schema"].create({plugins:r});n.state.schema=a;n.state.stack=o;var i=e.value.change();o.run("onChange",i,n);n.queueChange(i);n.state.value=i.value;k.forEach(function(e){n[e]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];n.onEvent.apply(n,[e].concat(r))}});return n}R(t,[{key:"render",value:function e(){Xe("render",this);var t=this.stack.map("renderPortal",this.value,this).map(function(e,t){return i.a.createElement(T.a,{key:t,isOpened:true},e)});var n=D({},this.props,{children:t});var r=this.stack.render("renderEditor",n,this);return r}},{key:"schema",get:function e(){return this.state.schema}},{key:"stack",get:function e(){return this.state.stack}},{key:"value",get:function e(){return this.state.value}}]);return t}(i.a.Component);Ze.propTypes={autoCorrect:c.a.bool,autoFocus:c.a.bool,className:c.a.string,onChange:c.a.func,placeholder:c.a.any,plugins:c.a.array,readOnly:c.a.bool,role:c.a.string,schema:c.a.object,spellCheck:c.a.bool,style:c.a.object,tabIndex:c.a.number,value:l["a"].value.isRequired};Ze.defaultProps={autoFocus:false,autoCorrect:true,onChange:Qe,plugins:[],readOnly:false,schema:{},spellCheck:true};var $e=function e(){var t=this;this.componentWillReceiveProps=function(e){var n=t.schema,r=t.stack;t.tmp.updates++;if(e.plugins!=t.props.plugins||e.schema!=t.props.schema){var o=t.resolvePlugins(e.plugins,e.schema);r=h["Stack"].create({plugins:o});n=h["Schema"].create({plugins:o});t.setState({schema:n,stack:r});t.tmp.resolves++;t.tmp.resolves>5&&t.tmp.resolves==t.tmp.updates&&v["a"].warn("A Slate <Editor> is re-resolving `props.plugins` or `props.schema` on each update, which leads to poor performance. This is often due to passing in a new `schema` or `plugins` prop with each render by declaring them inline in your render function. Do not do this!")}var a=e.value.change();r.run("onChange",a,t);t.queueChange(a);t.setState({value:a.value})};this.componentDidMount=function(){t.flushChange();t.props.autoFocus&&t.focus()};this.componentDidUpdate=function(){t.flushChange()};this.queueChange=function(e){if(e.operations.size){Xe("queueChange",{change:e});t.tmp.change=e}};this.flushChange=function(){var e=t.tmp.change;if(e){Xe("flushChange",{change:e});delete t.tmp.change;t.props.onChange(e)}};this.change=function(){var e;var n=(e=t.value.change()).call.apply(e,arguments);t.onChange(n)};this.blur=function(){t.change(function(e){return e.blur()})};this.focus=function(){t.change(function(e){return e.focus()})};this.onEvent=function(e,n){t.change(function(r){t.stack.run(e,n,r,t)})};this.onChange=function(e){Xe("onChange",{change:e});t.stack.run("onChange",e,t);var n=e.value;var r=t.props.onChange;if(n==t.value)return;r(e)};this.resolvePlugins=function(e,n){var r=ze();var o=We();var a={schema:n||{}};var i=function e(n){if("onChange"==n)return"continue";if("schema"==n)return"continue";a[n]=function(){var e;return t.props[n]&&(e=t.props)[n].apply(e,arguments)}};var s=true;var c=false;var l=void 0;try{for(var u=F[Symbol.iterator](),d;!(s=(d=u.next()).done);s=true){var p=d.value;var f=i(p);if("continue"===f)continue}}catch(e){c=true;l=e}finally{try{!s&&u.return&&u.return()}finally{if(c)throw l}}return[r,a].concat(B(e||[]),[o])}};var Je=true;var et=false;var tt=void 0;try{for(var nt=k[Symbol.iterator](),rt;!(Je=(rt=nt.next()).done);Je=true){var ot=rt.value;Ze.propTypes[ot]=c.a.func}}catch(e){et=true;tt=e}finally{try{!Je&&nt.return&&nt.return()}finally{if(et)throw tt}}var at={Editor:Ze,cloneFragment:ke,findDOMNode:ae,findDOMRange:se,findNode:Me,findRange:ye,getEventRange:Re,getEventTransfer:Fe,setEventTransfer:Ye,AfterPlugin:We,BeforePlugin:ze};t["default"]=at},"./node_modules/@gitbook/slate-react/node_modules/debug/src/browser.js":function(e,t,n){(function(r){t=e.exports=n("./node_modules/@gitbook/slate-react/node_modules/debug/src/debug.js");t.log=i;t.formatArgs=a;t.save=s;t.load=c;t.useColors=o;t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return true;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return false;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function a(e){var n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0;var a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){if("%%"===e)return;o++;"%c"===e&&(a=o)});e.splice(a,0,r)}function i(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}!e&&"undefined"!==typeof r&&"env"in r&&(e=r.env.DEBUG);return e}t.enable(c());function l(){try{return window.localStorage}catch(e){}}}).call(t,n("../node_modules/process/browser.js"))},"./node_modules/@gitbook/slate-react/node_modules/prop-types/index.js":function(e,t,n){var r;var o;var a;false;e.exports=n(17)()},"./node_modules/copy-to-clipboard/index.js":function(e,t,n){"use strict";var r=n("./node_modules/toggle-selection/index.js");var o="Copy to clipboard: #{key}, Enter";function a(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,s,c,l,u,d=false;t||(t={});n=t.debug||false;try{s=r();c=document.createRange();l=document.getSelection();u=document.createElement("span");u.textContent=e;u.style.all="unset";u.style.position="fixed";u.style.top=0;u.style.clip="rect(0, 0, 0, 0)";u.style.whiteSpace="pre";u.style.webkitUserSelect="text";u.style.MozUserSelect="text";u.style.msUserSelect="text";u.style.userSelect="text";document.body.appendChild(u);c.selectNode(u);l.addRange(c);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");d=true}catch(r){n&&console.error("unable to copy using execCommand: ",r);n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e);d=true}catch(r){n&&console.error("unable to copy using clipboardData: ",r);n&&console.error("falling back to prompt");i=a("message"in t?t.message:o);window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges());u&&document.body.removeChild(u);s()}return d}e.exports=i},"./node_modules/http-status/lib/index.js":function(e,t){e.exports={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,SWITCH_PROXY:306,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,LOCKED:423,FAILED_DEPENDENCY:424,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511}},"./node_modules/lodash.throttle/index.js":function(e,t,n){(function(t){var n="Expected a function";var r=NaN;var o="[object Symbol]";var a=/^\s+|\s+$/g;var i=/^[-+]0x[0-9a-f]+$/i;var s=/^0b[01]+$/i;var c=/^0o[0-7]+$/i;var l=parseInt;var u="object"==typeof t&&t&&t.Object===Object&&t;var d="object"==typeof self&&self&&self.Object===Object&&self;var p=u||d||Function("return this")();var f=Object.prototype;var v=f.toString;var h=Math.max,m=Math.min;var y=function(){return p.Date.now()};function g(e,t,r){var o,a,i,s,c,l,u=0,d=false,p=false,f=true;if("function"!=typeof e)throw new TypeError(n);t=O(t)||0;if(E(r)){d=!!r.leading;p="maxWait"in r;i=p?h(O(r.maxWait)||0,t):i;f="trailing"in r?!!r.trailing:f}function v(t){var n=o,r=a;o=a=void 0;u=t;s=e.apply(r,n);return s}function g(e){u=e;c=setTimeout(_,t);return d?v(e):s}function b(e){var n=e-l,r=e-u,o=t-n;return p?m(o,i-r):o}function C(e){var n=e-l,r=e-u;return void 0===l||n>=t||n<0||p&&r>=i}function _(){var e=y();if(C(e))return S(e);c=setTimeout(_,b(e))}function S(e){c=void 0;if(f&&o)return v(e);o=a=void 0;return s}function P(){void 0!==c&&clearTimeout(c);u=0;o=l=a=c=void 0}function x(){return void 0===c?s:S(y())}function A(){var e=y(),n=C(e);o=arguments;a=this;l=e;if(n){if(void 0===c)return g(l);if(p){c=setTimeout(_,t);return v(l)}}void 0===c&&(c=setTimeout(_,t));return s}A.cancel=P;A.flush=x;return A}function b(e,t,r){var o=true,a=true;if("function"!=typeof e)throw new TypeError(n);if(E(r)){o="leading"in r?!!r.leading:o;a="trailing"in r?!!r.trailing:a}return g(e,t,{leading:o,maxWait:t,trailing:a})}function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){return!!e&&"object"==typeof e}function _(e){return"symbol"==typeof e||C(e)&&v.call(e)==o}function O(e){if("number"==typeof e)return e;if(_(e))return r;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):i.test(e)?r:+e}e.exports=b}).call(t,n("../node_modules/webpack/buildin/global.js"))},"./node_modules/react-custom-debounced-input/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var a=n("./node_modules/react/index.js");var i=s(a);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){d(t,e);function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dispatchChange=function(){var e=n.props,t=e.onChange,r=e.value;var o=n.state.value;if(o==r)return;t(o);n.setState(function(e){if(n.props.value==r)return{value:r};return e})};n.onChange=function(e){var t=n.props.onBeforeChange;var r=t(e);n.setState({value:r})};n.onBlur=function(e){var t=n.props.onBlur;n.dispatchChange();t&&t()};n.onKeyDown=function(e){var t=n.props.onKeyDown;t(e);if(e.defaultPrevented)return;27!==e.keyCode&&13!==e.keyCode||n.blur()};n.state={value:e.value};return n}o(t,[{key:"componentWillReceiveProps",value:function e(t){if(this.props.value==t.value)return;this.setState({value:t.value})}},{key:"focus",value:function e(){this.input&&this.input.focus()}},{key:"blur",value:function e(){this.input&&this.input.blur()}},{key:"select",value:function e(){this.input&&this.input.select()}},{key:"render",value:function e(){var t=this;var n=this.state.value;var o=this.props,a=o.component,s=o.refProp,l=o.refCallback,u=c(o,["component","refProp","refCallback"]);delete u.onBeforeChange;u[s]=function(e){t.input=l(e)};return i.createElement(a,r({},u,{value:n,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}]);return t}(i.Component);p.defaultProps={onBeforeChange:function e(t){return"string"==typeof t?t:t.target.value},component:"input",refProp:"ref",refCallback:function e(t){return t},onKeyDown:function e(){},onBlur:function e(){}};t.default=p},"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js":function(e,t,n){"use strict";var r=n("./node_modules/immutable/dist/immutable.js");var o="<<anonymous>>";var a={listOf:d,mapOf:f,orderedMapOf:v,setOf:h,orderedSetOf:m,stackOf:y,iterableOf:g,recordOf:b,shape:C,contains:C,mapContains:_,list:c("List",r.List.isList),map:c("Map",r.Map.isMap),orderedMap:c("OrderedMap",r.OrderedMap.isOrderedMap),set:c("Set",r.Set.isSet),orderedSet:c("OrderedSet",r.OrderedSet.isOrderedSet),stack:c("Stack",r.Stack.isStack),seq:c("Seq",r.Seq.isSeq),record:c("Record",function(e){return e instanceof r.Record}),iterable:c("Iterable",r.Iterable.isIterable)};function i(e){var t=typeof e;if(Array.isArray(e))return"array";if(e instanceof RegExp)return"object";if(e instanceof r.Iterable)return"Immutable."+e.toSource().split(" ")[0];return t}function s(e){function t(t,n,r,a,i,s){for(var c=arguments.length,l=Array(c>6?c-6:0),u=6;u<c;u++)l[u-6]=arguments[u];s=s||r;a=a||o;if(null!=n[r])return e.apply(void 0,[n,r,a,i,s].concat(l));var d=i;if(t)return new Error("Required "+d+" `"+s+"` was not specified in `"+a+"`.")}var n=t.bind(null,false);n.isRequired=t.bind(null,true);return n}function c(e,t){function n(n,r,o,a,s){var c=n[r];if(!t(c)){var l=i(c);return new Error("Invalid "+a+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `"+e+"`.")}return null}return s(n)}function l(e,t,n){function r(r,o,a,s,c){for(var l=arguments.length,u=Array(l>5?l-5:0),d=5;d<l;d++)u[d-5]=arguments[d];var p=r[o];if(!n(p)){var f=s;var v=i(p);return new Error("Invalid "+f+" `"+c+"` of type `"+v+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}if("function"!==typeof e)return new Error("Invalid typeChecker supplied to `"+a+"` for propType `"+c+"`, expected a function.");var h=p.toArray();for(var m=0,y=h.length;m<y;m++){var g=e.apply(void 0,[h,m,a,s,c+"["+m+"]"].concat(u));if(g instanceof Error)return g}}return s(r)}function u(e){function t(t,n,r,o,a){for(var i=arguments.length,s=Array(i>5?i-5:0),c=5;c<i;c++)s[c-5]=arguments[c];var l=t[n];if("function"!==typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` for propType `"+a+"`, expected a function.");var u=l.keySeq().toArray();for(var d=0,p=u.length;d<p;d++){var f=e.apply(void 0,[u,d,r,o,a+" -> key("+u[d]+")"].concat(s));if(f instanceof Error)return f}}return s(t)}function d(e){return l(e,"List",r.List.isList)}function p(e,t,n,r){function o(){for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return l(e,n,r).apply(void 0,a)||t&&u(t).apply(void 0,a)}return s(o)}function f(e,t){return p(e,t,"Map",r.Map.isMap)}function v(e,t){return p(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)}function h(e){return l(e,"Set",r.Set.isSet)}function m(e){return l(e,"OrderedSet",r.OrderedSet.isOrderedSet)}function y(e){return l(e,"Stack",r.Stack.isStack)}function g(e){return l(e,"Iterable",r.Iterable.isIterable)}function b(e){function t(t,n,o,a,s){for(var c=arguments.length,l=Array(c>5?c-5:0),u=5;u<c;u++)l[u-5]=arguments[u];var d=t[n];if(!(d instanceof r.Record)){var p=i(d);var f=a;return new Error("Invalid "+f+" `"+s+"` of type `"+p+"` supplied to `"+o+"`, expected an Immutable.js Record.")}for(var v in e){var h=e[v];if(!h)continue;var m=d.toObject();var y=h.apply(void 0,[m,v,o,a,s+"."+v].concat(l));if(y)return y}}return s(t)}function E(e){var t=void 0===arguments[1]?"Iterable":arguments[1];var n=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];function o(r,o,a,s,c){for(var l=arguments.length,u=Array(l>5?l-5:0),d=5;d<l;d++)u[d-5]=arguments[d];var p=r[o];if(!n(p)){var f=i(p);var v=s;return new Error("Invalid "+v+" `"+c+"` of type `"+f+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}var h=p.toObject();for(var m in e){var y=e[m];if(!y)continue;var g=y.apply(void 0,[h,m,a,s,c+"."+m].concat(u));if(g)return g}}return s(o)}function C(e){return E(e)}function _(e){return E(e,"Map",r.Map.isMap)}e.exports=a},"./node_modules/toggle-selection/index.js":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};var t=document.activeElement;var n=[];for(var r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}e.removeAllRanges();return function(){"Caret"===e.type&&e.removeAllRanges();e.rangeCount||n.forEach(function(t){e.addRange(t)});t&&t.focus()}}},"./space/components/AssetsManager/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AssetsManagerContainer=void 0;var r=n("./space/components/AssetsManager/types.js");Object.keys(r).forEach(function(e){if("default"===e||"__esModule"===e)return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return r[e]}})});var o=n("./space/components/AssetsManager/AssetsManager.js");var a=c(o);var i=n("./space/components/AssetsManager/Container.js");var s=c(i);function c(e){return e&&e.__esModule?e:{default:e}}t.default=a.default;t.AssetsManagerContainer=s.default},"./space/components/Content/ConflictsPopup/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./space/components/Content/ConflictsPopup/ConflictsPopup.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./space/components/Content/ContentNavigation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i,s,c,l,u,d;var p=n("./node_modules/react/index.js");var f=O(p);var v=n("./node_modules/react-redux/es/index.js");n("./node_modules/immutable/dist/immutable.js");var h=n("./node_modules/aphrodite/no-important.js");n("./core/index.js");var m=n("./styleguide/index.js");var y=n("./icons/index.js");var g=n("./space/actions/sidebar.js");var b=n("./space/actions/navigationPanel.js");var E=n("./space/components/styles/index.js");var C=n("./space/components/PagesNavigation/Releases/index.js");var _=n("./space/components/PagesNavigation/index.js");function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=(r=(0,v.connect)(function(e){var t=e.sidebarExpanded,n=e.navigationPanel;return{sidebarExpanded:t,isNavigationPanelOpen:n.isOpen}}),r(o=(i=a=function(e){x(t,e);function t(){var n,r,o;S(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=P(this,e.call.apply(e,[this].concat(i))),r),r.onClose=function(){var e=r.props.dispatch;e((0,g.close)());e((0,b.closePanel)())},n),P(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.isNavigationPanelOpen,a=r.sidebarExpanded,i=r.workingRevision,s=r.versionDiffs,c=r.pageRootDiff,l=r.version,u=r.currentPage,d=r.readOnly;return f.createElement(f.Fragment,null,f.createElement(m.Backdrop,{hidden:!a&&!o,onClick:this.onClose,styles:[n.overlay]}),f.createElement(m.View,{styles:[n.contentNavigation]},f.createElement(m.View,{styles:[n.contentNavigationInner,!a&&n.contentNavigationInnerCollapsed]},f.createElement(_.NavigationWrapper,{revision:i,version:l},f.createElement(m.View,{styles:[n.mobileHeader]},f.createElement(m.View,{role:"button",tabIndex:-1,styles:[n.mobileHeaderClose],onClick:this.onClose},f.createElement(y.IconArrowLeft,null))),f.createElement(C.ReleasePicker,{revision:i,currentVersion:l,versionDiffs:s,readOnly:d}),f.createElement(_.PagesNavigation,{version:l,pageRootDiff:c,currentPage:u,readOnly:d})))))};return t}(f.Component),a.STYLES=h.StyleSheet.create({contentNavigation:(s={zIndex:m.zIndexes.SIDEBAR_MOBILE},s["@media "+m.MEDIA.TABLET]={zIndex:m.zIndexes.SIDEBAR,flex:"0 0 auto",background:m.colors.GREY_LIGHTEST,display:"flex",flexDirection:"column",alignItems:"stretch",width:"calc((100% - "+m.layout.CONTAINER_WITH_PADDING+"px) / 2 + "+E.layout.SIDEBAR_TOTAL_WIDTH+"px)",minWidth:E.layout.SIDEBAR_TOTAL_WIDTH,paddingLeft:"calc((100% - "+m.layout.CONTAINER_WITH_PADDING+"px) / 2)",borderRight:"1px solid "+m.colors.GREY_LIGHTER},s),contentNavigationInner:(c={flex:1},c["@media "+m.MEDIA.SMALLER_THAN_TABLET]={position:"fixed",zIndex:m.zIndexes.SIDEBAR_MOBILE,top:0,left:0,height:"100%",width:"100%",overflowY:"auto",maxWidth:m.layout.SIDEBAR_WIDTH+2*m.spacing.S300,backgroundColor:"#fff",transform:"translateX(0) !important",transition:"transform 0.2s",borderRight:"1px solid "+m.colors.GREY_LIGHTER,boxShadow:"0 0 4px rgba(0,0,0,.14), 0 4px 8px rgba(0,0,0,.28)"},c),contentNavigationInnerCollapsed:(l={},l["@media "+m.MEDIA.SMALLER_THAN_TABLET]={transform:"translateX(-100%) !important",boxShadow:"none"},l),overlay:(u={zIndex:m.zIndexes.SIDEBAR_MOBILE-1},u["@media "+m.MEDIA.TABLET]={zIndex:m.zIndexes.SIDEBAR-1},u),mobileHeader:(d={display:"flex",alignItems:"stretch",borderBottom:"1px solid "+m.boxes.BORDER_NORMAL,color:m.colors.GREY_DARK,backgroundColor:m.colors.WHITE,height:"59px",boxShadow:m.boxes.SHADOW_LOW},d["@media "+m.MEDIA.TABLET]={display:"none"},d),mobileHeaderClose:{padding:m.boxes.PADDING_SMALL+"px "+m.boxes.PADDING_NORMAL+"px",fontSize:"24px",display:"flex",alignItems:"center",cursor:"pointer"}}),i))||o);t.default=A},"./space/components/Content/IntercomWidget.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=c(r);var a=n("./node_modules/react-helmet/lib/Helmet.js");var i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){d(t,e);function t(){l(this,t);return u(this,e.apply(this,arguments))}t.prototype.componentDidMount=function e(){var t=this.props.appID;this.update(t)};t.prototype.componentDidUpdate=function e(t){var n=this.props.appID;n!==t.appID&&this.update(n)};t.prototype.componentWillUnmount=function e(){if(!window.Intercom)return;window.Intercom("shutdown");window.Intercom=null};t.prototype.update=function e(t){var n={app_id:t};if(window.Intercom){window.Intercom("update",n);return}window.Intercom=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];window.Intercom.q.push(t)};window.Intercom.q=[];window.Intercom("boot",n)};t.prototype.render=function e(){var t=this.props.appID;return o.createElement(i.default,null,o.createElement("script",{src:"https://widget.intercom.io/widget/"+t}))};return t}(o.Component);t.default=p},"./space/components/Document/Placeholder.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=l(a);var s=n("./node_modules/aphrodite/no-important.js");var c=n("./styleguide/index.js");function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=(o=r=function(e){p(t,e);function t(){u(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props.children;return i.createElement(c.View,{component:"span",styles:[n.placeholder],contentEditable:false},r)};return t}(i.Component),r.STYLES=s.StyleSheet.create({placeholder:{position:"absolute",color:c.colors.GREY_BASE,pointerEvents:"none"}}),o);t.default=f},"./space/components/Document/api/BlockApiMethod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=d(i);var c=n("./node_modules/aphrodite/no-important.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={top:u.spacing.S400+u.spacing.S500+1};var m=(a=o=function(e){v(t,e);function t(){p(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.value,i=o.node,u=o.children,d=o.attributes;return s.createElement("div",r({className:(0,c.css)(n.blockApiMethod,!l.Edition.isFirstNode(a.document,i)&&n.blockApiMethodWithSeparator)},d),u)};return t}(s.Component),o.MARGINS=h,o.STYLES=c.StyleSheet.create({blockApiMethod:{marginBottom:u.spacing.S300},blockApiMethodWithSeparator:{position:"relative",marginTop:h.top,":before":{content:'" "',position:"absolute",top:-u.spacing.S400,left:0,height:1,width:"100%",backgroundColor:u.colors.GREY_LIGHTER}}}),a);t.default=m},"./space/components/Document/api/BlockApiMethodDescription.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=v(i);var c=n("./node_modules/aphrodite/no-important.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var d=n("./space/components/Document/Placeholder.js");var p=f(d);function f(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(a=o=function(e){y(t,e);function t(){h(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.readOnly,i=o.node,u=o.attributes,d=o.children;if(a&&l.Edition.isEmptyBlock(i))return null;return s.createElement("div",r({className:(0,c.css)(n.methodDescription)},u),!a&&l.Edition.isEmptyBlock(i)&&s.createElement(p.default,null,"Briefly describe this method..."),d)};return t}(s.Component),o.STYLES=c.StyleSheet.create({methodDescription:{position:"relative",marginBottom:u.spacing.S300}}),a);t.default=g},"./space/components/Document/api/BlockApiMethodParameter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s,c,l;var u=n("./node_modules/react/index.js");var d=x(u);var p=n("./node_modules/aphrodite/no-important.js");var f=n("./node_modules/react-intl/lib/index.es.js");var v=n("./node_modules/react-custom-debounced-input/lib/index.js");var h=P(v);var m=n("./core/index.js");var y=n("./styleguide/index.js");var g=n("./icons/index.js");var b=n("./space/components/Document/Placeholder.js");var E=P(b);var C=n("./space/components/Document/api/ParameterTypePicker.js");var _=P(C);var O=n("./space/components/Document/api/ParameterRequiredToggle.js");var S=P(O);function P(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=p.StyleSheet.create({blockApiMethodParameter:(o={position:"relative",borderLeft:"1px solid "+y.colors.GREY_LIGHTER,borderRight:"1px solid "+y.colors.GREY_LIGHTER,borderTop:"1px solid "+y.colors.GREY_LIGHTER,padding:y.boxes.PADDING_NORMAL,":first-child":{borderTopLeftRadius:y.boxes.RADIUS_NORMAL,borderTopRightRadius:y.boxes.RADIUS_NORMAL},":last-child":{borderBottom:"1px solid "+y.colors.GREY_LIGHTER,borderBottomLeftRadius:y.boxes.RADIUS_NORMAL,borderBottomRightRadius:y.boxes.RADIUS_NORMAL}},o["@media "+y.MEDIA.TABLET]={display:"flex",padding:0,":not(:first-child)":{borderTop:0}},o),blockApiMethodParameterCell:(a={},a["@media "+y.MEDIA.TABLET]={padding:y.boxes.PADDING_SMALL},a),blockApiMethodParameterCellName:(i={marginBottom:y.boxes.PADDING_SMALL},i["@media "+y.MEDIA.TABLET]={width:150,marginBottom:0},i),blockApiMethodParameterCellType:(s={marginBottom:y.boxes.PADDING_NORMAL},s["@media "+y.MEDIA.TABLET]={width:130,marginBottom:0},s),blockApiMethodParameterCellDescription:(c={},c["@media "+y.MEDIA.TABLET]={flex:1},c),blockApiMethodParameterName:{display:"block",lineHeight:y.font.LINE_SMALL,borderBottom:"2px solid transparent"},blockApiMethodParameterNameEditable:{cursor:"pointer",font:"inherit",color:"inherit",backgroundColor:"transparent",outline:"none",borderTop:0,borderRight:0,borderLeft:0,":focus":{cursor:"auto",borderBottomColor:y.colors.BLUE_BASE}},blockApiMethodParameterDescription:{position:"relative",color:y.colors.GREY_DARK,fontSize:y.font.SIZE_NORMAL},blockApiMethodParameterRemove:{cursor:"pointer",position:"absolute",zIndex:1,top:y.boxes.PADDING_SMALL,right:y.boxes.PADDING_SMALL,color:y.colors.GREY_BASE,opacity:0,transition:"opacity 150ms ease-out",backgroundColor:y.colors.WHITE,padding:4,borderRadius:y.boxes.RADIUS_NORMAL,":hover":{color:y.colors.BLACK}},blockApiMethodParameterRemoveVisible:{opacity:1}});var M=(0,f.injectIntl)(l=function(e){T(t,e);function t(){var n,r,o;A(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=j(this,e.call.apply(e,[this].concat(i))),r),r.inputRef=function(e){r.input=e},r.onFocus=function(){r.input&&r.input.select()},n),j(r,o)}t.prototype.render=function e(){var t=this.props,n=t.readOnly,r=t.name,o=t.onChange,a=t.intl;if(n)return d.createElement("div",{className:(0,p.css)(k.blockApiMethodParameterName)},r);return d.createElement(h.default,{component:y.AutosizeInput,inputClassName:(0,p.css)(k.blockApiMethodParameterName,k.blockApiMethodParameterNameEditable),value:r,onChange:o,ref:this.inputRef,onFocus:this.onFocus,placeholder:a.formatMessage({id:"BlockApiMethodParameters.name.placeholder",defaultMessage:"Parameter Name"})})};return t}(d.Component))||l;var R=function(e){T(t,e);function t(){var n,r,o;A(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=j(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onChangeType=function(e){var t=r.props,n=t.editor,o=t.node;m.Edition.onChange(n,function(t){return t.setNodeByKey(o.key,{data:o.data.merge({type:e})})})},r.onChangeName=function(e){var t=r.props,n=t.editor,o=t.node;m.Edition.onChange(n,function(t){return t.setNodeByKey(o.key,{data:o.data.merge({name:e})})})},r.onChangeRequired=function(e){var t=r.props,n=t.editor,o=t.node;m.Edition.onChange(n,function(t){return t.setNodeByKey(o.key,{data:o.data.merge({required:e})})})},r.onRemove=function(){var e=r.props,t=e.editor,n=e.node;m.Edition.onChange(t,function(e){return e.removeNodeByKey(n.key)})},r.onMouseEnter=function(){return r.setState({isHover:true})},r.onMouseLeave=function(){return r.setState({isHover:false})},n),j(r,o)}t.prototype.render=function e(){var t=this.state.isHover;var n=this.props,o=n.attributes,a=n.node,i=n.readOnly,s=n.children;var c=a.data.get("name");var l=a.data.get("required");var u=a.data.get("type");return d.createElement("div",r({className:(0,p.css)(k.blockApiMethodParameter),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o),d.createElement("div",{className:(0,p.css)(k.blockApiMethodParameterCell,k.blockApiMethodParameterCellName),contentEditable:false},d.createElement(M,{readOnly:i,name:c,onChange:this.onChangeName}),d.createElement(S.default,{readOnly:i,isRequired:l,onChange:this.onChangeRequired})),d.createElement("div",{className:(0,p.css)(k.blockApiMethodParameterCell,k.blockApiMethodParameterCellType),contentEditable:false},d.createElement(_.default,{type:u,readOnly:i,onChange:this.onChangeType})),d.createElement("div",{className:(0,p.css)(k.blockApiMethodParameterCell,k.blockApiMethodParameterCellDescription)},d.createElement("div",{className:(0,p.css)(k.blockApiMethodParameterDescription)},!i&&m.Edition.isEmptyBlock(a)&&d.createElement(E.default,null,"Briefly describe this parameter..."),s)),!i&&d.createElement("div",{className:(0,p.css)(k.blockApiMethodParameterRemove,t&&k.blockApiMethodParameterRemoveVisible),role:"button",tabIndex:-1,onClick:this.onRemove},d.createElement(g.IconX,null)))};return t}(d.Component);t.default=R},"./space/components/Document/api/BlockApiMethodParameters.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o;var a=n("./node_modules/react/index.js");var i=d(a);var s=n("./node_modules/aphrodite/no-important.js");var c=n("./node_modules/react-intl/lib/index.es.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=s.StyleSheet.create({blockApiMethodParameters:{marginBottom:u.boxes.SPACING_V_NORMAL},blockApiMethodParametersTitle:{position:"relative",fontSize:u.font.SIZE_NORMAL,color:u.colors.GREY_DARK,marginBottom:4},blockApiMethodParametersMenu:{position:"absolute",top:"50%",right:u.boxes.PADDING_NORMAL/2,transform:"translateY(-50%)",cursor:"pointer",color:u.colors.GREY_BASE,opacity:0,transition:"opacity 150ms ease-out",":hover":{color:u.colors.BLACK}},blockApiMethodParametersMenuVisible:{opacity:1},blockApiMethodParametersBody:{}});var m=(o={},o[l.DOC_BLOCKS.API_METHOD_HEADERS]={id:"BlockApiMethodParameters.headers",defaultMessage:"Headers"},o[l.DOC_BLOCKS.API_METHOD_PATH_PARAMETERS]={id:"BlockApiMethodParameters.pathParameters",defaultMessage:"Path Parameters"},o[l.DOC_BLOCKS.API_METHOD_QUERY_PARAMETERS]={id:"BlockApiMethodParameters.queryParameters",defaultMessage:"Query Parameters"},o[l.DOC_BLOCKS.API_METHOD_FORM_DATA_PARAMETERS]={id:"BlockApiMethodParameters.formDataParameters",defaultMessage:"Form Data Parameters"},o[l.DOC_BLOCKS.API_METHOD_BODY_PARAMETERS]={id:"BlockApiMethodParameters.bodyParameters",defaultMessage:"Body Parameters"},o);var y=function(e){v(t,e);function t(){p(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.attributes,o=t.node,a=t.children;return i.createElement("div",r({className:(0,s.css)(h.blockApiMethodParameters)},n),i.createElement("div",{className:(0,s.css)(h.blockApiMethodParametersTitle),contentEditable:false},i.createElement(c.FormattedMessage,{id:m[o.type].id,defaultMessage:m[o.type].defaultMessage})),i.createElement("div",{className:(0,s.css)(h.blockApiMethodParametersBody)},a))};return t}(i.Component);t.default=y},"./space/components/Document/api/BlockApiMethodRequest.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o;var a=n("./node_modules/react/index.js");var i=p(a);var s=n("./node_modules/aphrodite/no-important.js");var c=n("./node_modules/react-intl/lib/index.es.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var d=n("./icons/index.js");function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=s.StyleSheet.create({blockApiMethodRequest:{},blockApiMethodRequestAdd:{marginBottom:u.boxes.SPACING_V_NORMAL},blockApiMethodRequestAddButton:{display:"inline-block",color:u.colors.GREY_DARK,fontSize:u.font.SIZE_NORMAL,cursor:"pointer"},blockApiMethodRequestContent:{}});var y=(o={},o[l.DOC_BLOCKS.API_METHOD_HEADERS]={id:"BlockApiMethodRequest.headers",defaultMessage:"Headers"},o[l.DOC_BLOCKS.API_METHOD_PATH_PARAMETERS]={id:"BlockApiMethodRequest.pathParameters",defaultMessage:"Path Parameters"},o[l.DOC_BLOCKS.API_METHOD_QUERY_PARAMETERS]={id:"BlockApiMethodRequest.queryParameters",defaultMessage:"Query Parameters"},o[l.DOC_BLOCKS.API_METHOD_FORM_DATA_PARAMETERS]={id:"BlockApiMethodRequest.formDataParameters",defaultMessage:"Form Data Parameters"},o[l.DOC_BLOCKS.API_METHOD_BODY_PARAMETERS]={id:"BlockApiMethodRequest.bodyParameters",defaultMessage:"Body Parameters"},o);var g=function(e){h(t,e);function t(){var n,r,o;f(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=v(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(){var e=r.props,t=e.type,n=e.onClick;n(t)},n),v(r,o)}t.prototype.render=function e(){var t=this.props.type;return i.createElement(u.Menu.Item,{onClick:this.onClick},i.createElement(c.FormattedMessage,{id:y[t].id,defaultMessage:y[t].defaultMessage}))};return t}(i.Component);var b=function(e){h(t,e);function t(){var n,r,o;f(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=v(this,e.call.apply(e,[this].concat(i))),r),r.onAddParameter=function(e){var t=r.props,n=t.editor,o=t.node;var a=o.nodes.find(function(t){return t.type===e});a?l.Edition.onChange(n,function(e){return e.insertNodeByKey(a.key,0,l.Edition.ApiMethod.createParameter())}):l.Edition.onChange(n,function(t){return t.insertNodeByKey(o.key,0,l.Edition.ApiMethod.createParameters(e))})},n),v(r,o)}t.prototype.render=function e(){var t=this;var n=this.props,o=n.attributes,a=n.readOnly,p=n.children;return i.createElement("div",r({className:(0,s.css)(m.blockApiMethodRequest)},o),i.createElement("div",{className:(0,s.css)(m.blockApiMethodRequestContent)},p),!a&&i.createElement("div",{className:(0,s.css)(m.blockApiMethodRequestAdd),contentEditable:false},i.createElement(u.Popover.Portal,{openByClickOn:i.createElement("div",{className:(0,s.css)(m.blockApiMethodRequestAddButton)},i.createElement(d.IconPlus,null)," ",i.createElement(c.FormattedMessage,{id:"BlockApiMethodRequest.add",defaultMessage:"Add a parameter"})),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},i.createElement(u.Popover,null,i.createElement(u.Menu,null,l.Edition.ApiMethod.PARAMETERS_ORDER.map(function(e){return i.createElement(g,{key:e,type:e,onClick:t.onAddParameter})}))))))};return t}(i.Component);t.default=b},"./space/components/Document/api/BlockApiMethodResponse.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=u(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./node_modules/react-intl/lib/index.es.js");var s=n("./core/index.js");var c=n("./styleguide/index.js");var l=n("./icons/index.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=a.StyleSheet.create({responseAddExample:{outline:"none",display:"inline-block",color:c.colors.GREY_DARK,fontSize:c.font.SIZE_NORMAL,cursor:"pointer",marginBottom:c.boxes.SPACING_V_NORMAL}});var h=function(e){f(t,e);function t(){var n,r,o;d(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=(n=(r=p(this,e.call.apply(e,[this].concat(i))),r),r.onAddResponseExample=function(){var e=r.props,t=e.editor,n=e.node;s.Edition.onChange(t,function(e){return e.insertNodeByKey(n.key,n.nodes.size,s.Edition.ApiMethod.createResponseExample())})},n),p(r,o)}t.prototype.render=function e(){var t=this.props,n=t.readOnly,r=t.children;return o.createElement("div",null,r,!n&&o.createElement("div",{role:"button",tabIndex:0,className:(0,a.css)(v.responseAddExample),onClick:this.onAddResponseExample,contentEditable:false},o.createElement(l.IconPlus,null)," ",o.createElement(i.FormattedMessage,{id:"BlockApiMethodResponse.add",defaultMessage:"Add Response Example"})))};return t}(o.Component);t.default=h},"./space/components/Document/api/BlockApiMethodResponseExample.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n("./node_modules/react/index.js");var a=f(o);var i=n("./node_modules/aphrodite/no-important.js");var s=n("./core/index.js");var c=n("./styleguide/index.js");var l=n("./icons/index.js");var u=n("./space/components/Document/api/HTTPCodeLabel.js");var d=p(u);function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=i.StyleSheet.create({responseExample:{position:"relative",":not(:last-child)":{marginBottom:c.boxes.SPACING_V_NORMAL}},responseExampleRemove:{cursor:"pointer",position:"absolute",zIndex:1,top:0,right:0,color:c.colors.GREY_BASE,opacity:0,transition:"opacity 150ms ease-out",backgroundColor:c.colors.WHITE,padding:4,borderRadius:c.boxes.RADIUS_NORMAL,":hover":{color:c.colors.BLACK}},responseExampleRemoveVisible:{opacity:1},responseExampleTitle:{display:"flex",alignItems:"center",fontSize:c.font.SIZE_MEDIUM,fontWeight:c.font.WEIGHT_BOLD,marginBottom:4}});var g=function(e){m(t,e);function t(){var n,r,o;v(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=(n=(r=h(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onChangeHTTPCode=function(e){var t=r.props,n=t.editor,o=t.node;s.Edition.onChange(n,function(t){return t.setNodeByKey(o.key,{data:o.data.merge({httpCode:e})})})},r.onRemove=function(){var e=r.props,t=e.editor,n=e.node;s.Edition.onChange(t,function(e){return e.removeNodeByKey(n.key)})},r.onMouseEnter=function(){return r.setState({isHover:true})},r.onMouseLeave=function(){return r.setState({isHover:false})},n),h(r,o)}t.prototype.render=function e(){var t=this.props,n=t.readOnly,o=t.node,s=t.attributes,c=t.children;var u=this.state.isHover;var p=o.data.get("httpCode");return a.createElement("div",r({className:(0,i.css)(y.responseExample),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},s),a.createElement("div",{className:(0,i.css)(y.responseExampleTitle)},a.createElement(d.default,{code:p,readOnly:n,onChange:this.onChangeHTTPCode}),!n&&a.createElement("div",{role:"button",tabIndex:-1,className:(0,i.css)(y.responseExampleRemove,u&&y.responseExampleRemoveVisible),onClick:this.onRemove,contentEditable:false},a.createElement(l.IconX,null))),c)};return t}(a.Component);t.default=g},"./space/components/Document/api/BlockApiMethodResponseExampleDescription.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=f(i);var c=n("./node_modules/aphrodite/no-important.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var d=n("./space/components/Document/Placeholder.js");var p=f(d);function f(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(a=o=function(e){m(t,e);function t(){v(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.readOnly,i=o.node,u=o.attributes,d=o.children;if(a&&l.Edition.isEmptyBlock(i))return null;return s.default.createElement("div",r({className:(0,c.css)(n.responseExampleDescription)},u),!a&&l.Edition.isEmptyBlock(i)&&s.default.createElement(p.default,null,"Briefly describe this response example..."),d)};return t}(s.default.Component),o.STYLES=c.StyleSheet.create({responseExampleDescription:{position:"relative",marginBottom:4,fontSize:u.font.SIZE_NORMAL,color:u.colors.GREY_DARK}}),a);t.default=y},"./space/components/Document/api/BlockApiMethodSpec.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o;var a=n("./node_modules/react/index.js");var i=v(a);var s=n("./node_modules/react-intl/lib/index.es.js");var c=n("./node_modules/aphrodite/no-important.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var d=n("./space/components/Document/tabs/TabsItem.js");var p=f(d);function f(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=c.StyleSheet.create({blockApiMethodSpecWrapper:{},blockApiMethodSpec:{position:"relative",zIndex:1,display:"flex",marginBottom:-1},blockApiMethodSpecContent:{display:"none",border:"1px solid "+u.colors.GREY_LIGHTER,padding:u.spacing.S300,paddingBottom:0,borderBottomLeftRadius:u.boxes.RADIUS_NORMAL,borderBottomRightRadius:u.boxes.RADIUS_NORMAL},blockApiMethodSpecContentActive:{display:"block"},blockApiMethodTab:{}});var b=(o={},o[l.DOC_BLOCKS.API_METHOD_REQUEST]={id:"BlockApiMethodSpec.request",defaultMessage:"Request"},o[l.DOC_BLOCKS.API_METHOD_RESPONSE]={id:"BlockApiMethodSpec.response",defaultMessage:"Response"},o);var E=function(e){y(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=m(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(){var e=r.props,t=e.index,n=e.onSelect;n(t)},n),m(r,o)}t.prototype.render=function e(){var t=this.props,n=t.isActive,r=t.type;return i.createElement(p.default,{isActive:n,onClick:this.onClick},i.createElement(s.FormattedMessage,{id:b[r].id,defaultMessage:b[r].defaultMessage}))};return t}(i.Component);var C=function(e){y(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=m(this,e.call.apply(e,[this].concat(i))),r),r.state={activeIndex:0},r.select=function(e){return r.setState({activeIndex:e})},n),m(r,o)}t.prototype.render=function e(){var t=this;var n=this.props,o=n.attributes,a=n.node,s=n.children;var l=this.state.activeIndex;return i.createElement("div",r({className:(0,c.css)(g.blockApiMethodSpecWrapper)},o),i.createElement("div",{className:(0,c.css)(g.blockApiMethodSpec),contentEditable:false},a.nodes.map(function(e,n){return i.createElement(E,{key:e.type,index:n,isActive:n===l,type:e.type,onSelect:t.select})})),i.Children.map(s,function(e,t){return i.createElement("div",{className:(0,c.css)(g.blockApiMethodSpecContent,t===l&&g.blockApiMethodSpecContentActive),key:t},e)}))};return t}(i.Component);t.default=C},"./space/components/Document/api/BlockApiMethodSummary.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=g(i);var c=n("./node_modules/aphrodite/no-important.js");n("./node_modules/immutable/dist/immutable.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var d=n("./space/components/Document/Placeholder.js");var p=y(d);var f=n("./space/components/Document/api/HTTPMethodLabel.js");var v=y(f);var h=n("./space/components/Document/api/HTTPUrlInput.js");var m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(a=o=function(e){C(t,e);function t(){var n,r,o;b(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=E(this,e.call.apply(e,[this].concat(i))),r),r.onChangeMethod=function(e){var t=r.props,n=t.editor,o=t.parent;l.Edition.onChange(n,function(t){return t.setNodeByKey(o.key,{data:o.data.merge({method:e})})})},r.onChangeUrl=function(e,t){var n=r.props,o=n.editor,a=n.parent;l.Edition.onChange(o,function(n){return n.setNodeByKey(a.key,{data:a.data.merge({host:e,path:t})})})},n),E(r,o)}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.attributes,i=o.headingIDs,u=o.parent,d=o.node,f=o.readOnly,h=o.children;var y=u.data.get("method");var g=i.get(d.key);return s.createElement("div",null,s.createElement("h2",r({id:g,className:(0,c.css)(n.blockApiMethodSummary)},a),s.createElement("div",{className:(0,c.css)(n.blockApiMethodSummaryMethod),contentEditable:false},s.createElement(v.default,{method:y,readOnly:f,onChange:this.onChangeMethod})),s.createElement("div",{className:(0,c.css)(n.blockApiMethodSummaryContent)},!f&&l.Edition.isEmptyBlock(d)&&s.createElement(p.default,null,"Give a title to this method..."),h)),s.createElement(m.default,{readOnly:f,host:u.data.get("host"),path:u.data.get("path"),onChange:this.onChangeUrl}))};return t}(s.Component),o.STYLES=c.StyleSheet.create({blockApiMethodSummary:{display:"flex",alignItems:"center",fontSize:20,fontWeight:u.font.WEIGHT_BOLD,margin:0,marginBottom:u.spacing.S300},blockApiMethodSummaryMethod:{paddingRight:u.spacing.S100},blockApiMethodSummaryContent:{position:"relative",flex:1,verticalAlign:"baseline"}}),a);t.default=_},"./space/components/Document/api/HTTPCodeDot.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=c(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./core/index.js");var s=n("./styleguide/index.js");function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=a.StyleSheet.create({httpCodeDot:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:s.colors.DIFF_MODIFIED,marginRight:6},httpCodeDotError:{backgroundColor:s.colors.RED_BASE},httpCodeDotSuccess:{backgroundColor:s.colors.GREEN_BASE}});var f=function(e){d(t,e);function t(){l(this,t);return u(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.code;return o.default.createElement("span",{className:(0,a.css)(p.httpCodeDot,i.Edition.ApiMethod.isErrorCode(t)&&p.httpCodeDotError,i.Edition.ApiMethod.isSuccessCode(t)&&p.httpCodeDotSuccess)})};return t}(o.default.Component);t.default=f},"./space/components/Document/api/HTTPCodeLabel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var i=n("./node_modules/react/index.js");var s=m(i);var c=n("./node_modules/aphrodite/no-important.js");var l=n("./node_modules/http-status/lib/index.js");var u=h(l);var d=n("./core/index.js");var p=n("./styleguide/index.js");var f=n("./space/components/Document/api/HTTPCodeDot.js");var v=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=d.Edition.ApiMethod.HTTP_CODES.map(function(e){return{uid:e,title:e+": "+u.default[e]}}).toArray();var C=c.StyleSheet.create({httpCodePicker:{display:"flex",alignItems:"center",fontSize:p.font.SIZE_MEDIUM,fontWeight:p.font.WEIGHT_BOLD,marginBottom:4},httpCodePickerInputWrapper:{width:"100%"},httpCodePickerInput:{display:"block",width:"100%",font:"inherit",color:"inherit",background:"transparent",border:0,outline:"none",":not(:focus)":{cursor:"pointer"}}});var _=(o=r=function(e){b(t,e);function t(n){y(this,t);var r=g(this,e.call(this,n));a.call(r);var o=r.props.value;r.state={value:o};return r}t.prototype.componentWillReceiveProps=function e(t){var n=this;var r=t.value;var o=this.props.value;if(o===r)return;this.setState({value:r},function(){n.input.blur()})};t.prototype.render=function e(){var t=this.state.value;return s.createElement(p.Autocomplete,{items:E,styles:[C.httpCodePickerInputWrapper],className:(0,c.css)(C.httpCodePickerInput),onChange:this.onChange,onFocus:this.onFocus,onPick:this.onPick,onBlur:this.onBlur,ref:this.inputRef,value:t})};return t}(s.Component),a=function e(){var t=this;this.inputRef=function(e){t.input=e};this.onChange=function(e){return t.setState({value:e.target.value})};this.onFocus=function(){return t.input.select()};this.onBlur=function(){var e=t.props.value;t.setState({value:e})};this.onPick=function(e){if(!e)return;var n=t.props.onChange;var r=e.uid;n(Number(r))}},o);var O=function(e){b(t,e);function t(){y(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.code,r=t.readOnly,o=t.onChange;var a=n+": "+u.default[n];return s.createElement("div",{className:(0,c.css)(C.httpCodePicker),contentEditable:false},s.createElement(v.default,{code:n}),r?s.createElement("span",null,a):s.createElement(_,{value:a,onChange:o}))};return t}(s.Component);t.default=O},"./space/components/Document/api/HTTPMethodLabel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=v(a);var s=n("./node_modules/aphrodite/no-important.js");var c=n("./styleguide/index.js");var l=n("./core/index.js");var u=n("./icons/index.js");var d=n("./space/components/Document/api/getHTTPMethodColor.js");var p=f(d);function f(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){y(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=m(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(){var e=r.props,t=e.method,n=e.onClick;n(t)},n),m(r,o)}t.prototype.render=function e(){var t=this.props.method;return i.createElement(c.Menu.Item,{onClick:this.onClick},t.toUpperCase())};return t}(i.Component);var b=(o=r=function(e){y(t,e);function t(){h(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.readOnly,a=r.method,s=r.onChange;var d=(0,p.default)(a);return o?i.createElement(c.Badge,{size:"medium",style:{backgroundColor:d}},a):i.createElement(c.Popover.Portal,{openByClickOn:i.createElement(c.Badge,{icon:i.createElement(u.IconChevronDown,null),size:"medium",styles:[n.methodLabelEditable],style:{backgroundColor:d}},a),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},i.createElement(c.Popover,null,i.createElement(c.Menu,null,l.Edition.ApiMethod.METHODS.map(function(e){return i.createElement(g,{key:e,method:e,onClick:s})}).toArray())))};return t}(i.Component),r.STYLES=s.StyleSheet.create({methodLabelEditable:{cursor:"pointer"}}),o);t.default=b},"./space/components/Document/api/HTTPUrlInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=u(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./node_modules/react-custom-debounced-input/lib/index.js");var s=l(i);var c=n("./styleguide/index.js");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=a.StyleSheet.create({apiMethodPath:{display:"flex",alignItems:"baseline",fontFamily:c.font.FAMILY_CODE,fontSize:c.font.SIZE_CODE,lineHeight:c.font.LINE_CODE,color:c.colors.GREY_DARK,marginBottom:c.spacing.S300},apiMethodPathHost:{borderRadius:c.boxes.RADIUS_NORMAL+"px 0 0 "+c.boxes.RADIUS_NORMAL+"px",padding:c.spacing.S100,paddingRight:0,backgroundColor:c.colors.GREY_LIGHTEST},apiMethodPathHostEditable:{outline:"none",font:"inherit",color:"inherit",border:0,"::placeholder":{color:c.colors.GREY_BASE},":not(:focus)":{cursor:"pointer"}},apiMethodPathPath:{fontWeight:"bold",flex:1,borderRadius:"0 "+c.boxes.RADIUS_NORMAL+"px "+c.boxes.RADIUS_NORMAL+"px 0",padding:c.spacing.S100,paddingLeft:0,color:c.colors.BLACK,backgroundColor:c.colors.GREY_LIGHTEST},apiMethodPathPathEditable:{outline:"none",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",border:0,"::placeholder":{color:c.colors.GREY_BASE},":not(:focus)":{cursor:"pointer"}}});var h=function(e){f(t,e);function t(){var n,r,o;d(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=p(this,e.call.apply(e,[this].concat(i))),r),r.hostRef=function(e){r.host=e},r.pathRef=function(e){r.path=e},r.onFocusHost=function(){r.host.select()},r.onFocusPath=function(){r.path.select()},r.onChangeHost=function(e){var t=r.props,n=t.onChange,o=t.path;n(e,o)},r.onChangePath=function(e){var t=r.props,n=t.onChange,o=t.host;n(o,e)},n),p(r,o)}t.prototype.render=function e(){var t=this.props,n=t.readOnly,r=t.host,i=t.path;if(n)return o.createElement("div",{className:(0,a.css)(v.apiMethodPath)},o.createElement("div",{className:(0,a.css)(v.apiMethodPathHost)},r),o.createElement("div",{className:(0,a.css)(v.apiMethodPathPath)},i));return o.createElement("div",{className:(0,a.css)(v.apiMethodPath),contentEditable:false},o.createElement(s.default,{value:r,onChange:this.onChangeHost,placeholder:"https://api.acme.com",inputClassName:(0,a.css)(v.apiMethodPathHost,v.apiMethodPathHostEditable),component:c.AutosizeInput,ref:this.hostRef,onFocus:this.onFocusHost}),o.createElement(s.default,{value:i,onChange:this.onChangePath,placeholder:"/v1/cakes/:id",className:(0,a.css)(v.apiMethodPathPath,v.apiMethodPathPathEditable),ref:this.pathRef,onFocus:this.onFocusPath}))};return t}(o.Component);t.default=h},"./space/components/Document/api/ParameterRequiredToggle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=l(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./node_modules/react-intl/lib/index.es.js");var s=n("./styleguide/index.js");var c=n("./icons/index.js");function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=a.StyleSheet.create({blockApiMethodParameterRequirement:{textTransform:"uppercase",fontSize:10,lineHeight:s.font.LINE_SMALL,color:s.colors.GREY_DARK},blockApiMethodParameterRequirementEditable:{cursor:"pointer"},blockApiMethodParameterRequirementRequired:{color:s.colors.RED_BASE}});var v=function(e){p(t,e);function t(){var n,r,o;u(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=d(this,e.call.apply(e,[this].concat(i))),r),r.onChangeRequired=function(){var e=r.props.onChange;e(true)},r.onChangeOptional=function(){var e=r.props.onChange;e(false)},n),d(r,o)}t.prototype.render=function e(){var t=this.props,n=t.readOnly,r=t.isRequired;if(n)return o.createElement("div",{className:(0,a.css)(f.blockApiMethodParameterRequirement,r&&f.blockApiMethodParameterRequirementRequired)},r?o.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.required",defaultMessage:"required"}):o.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.optional",defaultMessage:"optional"}));return o.createElement(s.Popover.Portal,{openByClickOn:o.createElement("div",{className:(0,a.css)(f.blockApiMethodParameterRequirement,f.blockApiMethodParameterRequirementEditable,r&&f.blockApiMethodParameterRequirementRequired)},r?o.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.required",defaultMessage:"required"}):o.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.optional",defaultMessage:"optional"})," ",o.createElement(c.IconChevronDown,null)),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},o.createElement(s.Popover,{align:"start"},o.createElement(s.Menu,null,o.createElement(s.Menu.Item,{onClick:this.onChangeRequired},o.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.required",defaultMessage:"required"})),o.createElement(s.Menu.Item,{onClick:this.onChangeOptional},o.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.optional",defaultMessage:"optional"})))))};return t}(o.Component);t.default=v},"./space/components/Document/api/ParameterTypePicker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=l(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./core/index.js");var s=n("./styleguide/index.js");var c=n("./icons/index.js");function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=a.StyleSheet.create({parameterType:{display:"inline-block",fontFamily:s.font.FAMILY_CODE,fontSize:s.font.SIZE_CODE,lineHeight:s.font.LINE_CODE,backgroundColor:s.colors.GREY_LIGHTEST,borderRadius:s.boxes.RADIUS_NORMAL,padding:"2px 6px",whiteSpace:"nowrap"},parameterTypeEditable:{cursor:"pointer"}});var v=function(e){p(t,e);function t(){var n,r,o;u(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=d(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(){var e=r.props,t=e.type,n=e.onClick;n(t)},n),d(r,o)}t.prototype.render=function e(){var t=this.props.type;return o.createElement(s.Menu.Item,{onClick:this.onClick},t)};return t}(o.Component);var h=function(e){p(t,e);function t(){u(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.type,r=t.readOnly,l=t.onChange;return r?o.createElement("div",{className:(0,a.css)(f.parameterType)},n):o.createElement(s.Popover.Portal,{openByClickOn:o.createElement("div",{className:(0,a.css)(f.parameterType,f.parameterTypeEditable)},n," ",o.createElement(c.IconChevronDown,null)),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},o.createElement(s.Popover,null,o.createElement(s.Menu,null,Object.keys(i.Edition.ApiMethod.TYPES).map(function(e){return o.createElement(v,{key:e,type:i.Edition.ApiMethod.TYPES[e],onClick:l})}))))};return t}(o.Component);t.default=h},"./space/components/Document/api/getHTTPMethodColor.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;var o=n("./core/index.js");var a=n("./styleguide/index.js");var i=(r={},r[o.Edition.ApiMethod.METHODS.get("GET")]=a.colors.BLUE_BASE,r[o.Edition.ApiMethod.METHODS.get("PUT")]=a.colors.ORANGE_BASE,r[o.Edition.ApiMethod.METHODS.get("POST")]=a.colors.GREEN_BASE,r[o.Edition.ApiMethod.METHODS.get("DELETE")]=a.colors.RED_BASE,r[o.Edition.ApiMethod.METHODS.get("OPTIONS")]=a.colors.YELLOW,r[o.Edition.ApiMethod.METHODS.get("HEAD")]=a.colors.PURPLE,r[o.Edition.ApiMethod.METHODS.get("PATCH")]=a.colors.CYAN,r);function s(e){return i[e]||a.colors.GREY_BASE}t.default=s},"./space/components/Document/api/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getHTTPMethodColor=t.BlockApiMethodResponseExampleDescription=t.BlockApiMethodResponseExample=t.BlockApiMethodResponse=t.BlockApiMethodParameter=t.BlockApiMethodParameters=t.BlockApiMethodRequest=t.BlockApiMethodSpec=t.BlockApiMethodSummary=t.BlockApiMethodDescription=t.BlockApiMethod=void 0;var r=n("./space/components/Document/api/BlockApiMethod.js");var o=P(r);var a=n("./space/components/Document/api/BlockApiMethodDescription.js");var i=P(a);var s=n("./space/components/Document/api/BlockApiMethodResponse.js");var c=P(s);var l=n("./space/components/Document/api/BlockApiMethodRequest.js");var u=P(l);var d=n("./space/components/Document/api/BlockApiMethodSummary.js");var p=P(d);var f=n("./space/components/Document/api/BlockApiMethodParameters.js");var v=P(f);var h=n("./space/components/Document/api/BlockApiMethodParameter.js");var m=P(h);var y=n("./space/components/Document/api/BlockApiMethodSpec.js");var g=P(y);var b=n("./space/components/Document/api/BlockApiMethodResponseExample.js");var E=P(b);var C=n("./space/components/Document/api/BlockApiMethodResponseExampleDescription.js");var _=P(C);var O=n("./space/components/Document/api/getHTTPMethodColor.js");var S=P(O);function P(e){return e&&e.__esModule?e:{default:e}}t.BlockApiMethod=o.default;t.BlockApiMethodDescription=i.default;t.BlockApiMethodSummary=p.default;t.BlockApiMethodSpec=g.default;t.BlockApiMethodRequest=u.default;t.BlockApiMethodParameters=v.default;t.BlockApiMethodParameter=m.default;t.BlockApiMethodResponse=c.default;t.BlockApiMethodResponseExample=E.default;t.BlockApiMethodResponseExampleDescription=_.default;t.getHTTPMethodColor=S.default},"./space/components/Document/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.connectDocument=t.DocumentView=void 0;var r=n("./space/components/Document/DocumentView.js");var o=s(r);var a=n("./space/components/Document/connectDocument.js");var i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}t.DocumentView=o.default;t.connectDocument=i.default},"./space/components/Document/tabs/TabsItem.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=u(i);var c=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(a=o=function(e){v(t,e);function t(){p(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.children,i=o.isActive,c=d(o,["children","isActive"]);return s.createElement(l.View,r({},c,{styles:[n.tab,l.font.KINDS.UIH300,i&&n.active],role:"button",tabIndex:0}),s.createElement(l.View,{styles:n.flexPadding}),s.createElement(l.View,{styles:n.tabInner},a),s.createElement(l.View,{styles:n.flexPadding}))};return t}(s.Component),o.STYLES=c.StyleSheet.create({tab:{padding:l.spacing.S100+"px 0",flex:"0 1 auto",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0,color:l.colors.GREY_BASE,border:"1px solid "+l.colors.GREY_LIGHTER,borderLeftColor:"transparent",backgroundColor:l.colors.GREY_LIGHTEST,transition:"color 250ms ease-out",outline:"none",position:"relative",display:"flex",":hover":{cursor:"pointer",color:l.colors.BLACK},":first-child":{borderLeftColor:l.colors.GREY_LIGHTER,borderTopLeftRadius:l.boxes.RADIUS_NORMAL},":last-child":{borderTopRightRadius:l.boxes.RADIUS_NORMAL}},active:{flex:"0 0 auto",cursor:"auto",color:l.colors.BLACK,backgroundColor:l.colors.WHITE,borderBottomColor:l.colors.WHITE},tabInner:{flex:"0 1 auto",maxWidth:"100%",minWidth:0,display:"flex",textOverflow:"ellipsis",overflow:"hidden"},flexPadding:{minWidth:8,width:16,flex:"1 1 16px"}}),a);t.default=h},"./space/components/Page/PageBody.js":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var c=m(s);var l=n("./node_modules/aphrodite/no-important.js");n("./node_modules/@gitbook/slate/lib/slate.es.js");var u=n("./core/index.js");var d=n("./styleguide/index.js");var p=n("./node_modules/react-redux/es/index.js");var f=n("./node_modules/react-router-dom/es/index.js");var v=n("./space/components/Document/index.js");var h=n("./space/components/Page/PageFooter/index.js");function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(r=(0,p.connect)(function(e,t){var n=e.space;var r=t.revision;return{spaceID:n.uid,isPrimaryRevision:n.primaryRevision==r.uid}}),(0,f.withRouter)(o=r(o=(i=a=function(t){b(n,t);function n(){y(this,n);return g(this,t.apply(this,arguments))}n.prototype.componentDidMount=function e(){var t=this;var n=this.props.history;this.attemptScroll();this.unlistenHistory=n.listen(function(e){t.attemptScroll()})};n.prototype.componentDidUpdate=function e(t){var n=this.props,r=n.pageURL,o=n.isShowingPlaceholder;(!o&&t.isShowingPlaceholder||r!=t.pageURL)&&this.attemptScroll()};n.prototype.componentWillUnmount=function e(){this.unlistenHistory&&this.unlistenHistory()};n.prototype.attemptScroll=function t(){var n=window.location.hash;if(n){var r=document.querySelector("[id='"+n.slice(1).replace(/[^a-z|\d]/gi,"\\$&")+"']");if(!r)return;e(function(){return r.scrollIntoView()})}};n.prototype.render=function e(){var t=n.STYLES;var r=this.props,o=r.version,a=r.page,i=r.revision,s=r.value,l=r.isDiff,p=r.isPrimaryRevision,f=r.readOnly,m=r.headingIDs,y=r.onChange;var g=u.Edition.isEmptyDocument(s.document);var b=f&&p&&!g;return c.default.createElement(d.View,{styles:[t.pageBody]},c.default.createElement(v.DocumentView,{page:a,version:o,revision:i,readOnly:f,value:s,isDiff:l,onChange:y,headingIDs:m}),f?c.default.createElement(h.PageFooter,{page:a,showRating:b,versionID:o.uid,version:o}):null)};return n}(c.default.Component),a.STYLES=l.StyleSheet.create({pageBody:{display:"flex",flexDirection:"column",fontSize:d.font.SIZE_MAIN}}),i))||o)||o);t.default=E}).call(t,n("../node_modules/timers-browserify/main.js").setImmediate)},"./space/components/Page/PageConflictStatus/PageConflictStatus.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=m(a);var s=n("./node_modules/react-redux/es/index.js");n("./core/index.js");var c=n("./space/actions/edition.js");var l=n("./space/components/Page/PageConflictStatus/PageConflictsCleared.js");var u=h(l);var d=n("./space/components/Page/PageConflictStatus/PageHasConflicts.js");var p=h(d);var f=n("./space/components/Page/PageConflictStatus/PageWasDeleted.js");var v=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(r=(0,s.connect)(function(e,t){var n=e.edition;var r=t.version,o=t.page;var a=n.getConflictsState();var i=n.isPageResolved(r,o);var s=n.getPageConflict(r,o);var c=void 0;if(s){var l="update"===s.head.type&&"remove"===s.base.type;var u="remove"===s.head.type&&"update"===s.base.type;c=l?"base":u&&"head"}return{conflictsState:a,isPageResolved:i,pageConflict:s,pageDeletionOrigin:c}}),r(o=function(e){b(t,e);function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=g(this,e.call.apply(e,[this].concat(i))),r),r.onDelete=function(){var e=r.props,t=e.dispatch,n=e.version,o=e.page;t((0,c.removePage)(n,o))},r.onKeep=function(){var e=r.props,t=e.dispatch,n=e.version,o=e.page;t((0,c.markPageAsResolved)({version:n,page:o,resolved:true}))},n),g(r,o)}t.prototype.render=function e(){var t=this.props,n=t.conflictsState,r=t.pageConflict,o=t.pageDeletionOrigin,a=t.isPageResolved;if(!r)return null;if(a)return i.createElement(u.default,null);if(o)return i.createElement(v.default,{deletedBy:o,conflictsState:n,conflict:r,onDelete:this.onDelete,onKeep:this.onKeep});return i.createElement(p.default,null)};return t}(i.Component))||o);t.default=E},"./space/components/Page/PageConflictStatus/PageConflictsCleared.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=c(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./styleguide/index.js");var s=n("./icons/index.js");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}var l=a.StyleSheet.create({conflictsAlert:{flex:"0 0 auto",marginRight:i.spacing.S300}});var u=function e(){return o.createElement(i.Alert,{styles:[i.Alert.STYLES.success,l.conflictsAlert],size:"small",vertical:true,icon:o.createElement(s.IconCheckCircle,null)},o.createElement(i.Text.TextH200,null,"You've resolved all conflicts on this page."))};t.default=u},"./space/components/Page/PageConflictStatus/PageHasConflicts.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=c(r);var a=n("./node_modules/aphrodite/no-important.js");var i=n("./styleguide/index.js");var s=n("./icons/index.js");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}var l=a.StyleSheet.create({conflictsAlert:{flex:"0 0 auto",marginRight:i.spacing.S300}});var u=function e(){return o.createElement(i.Alert,{styles:[i.Alert.STYLES.danger,l.conflictsAlert],size:"small",vertical:true,icon:o.createElement(s.IconConflict,null)},o.createElement(i.Text.TextH200,null,"We've detected conflicts on this page, please resolve them before publishing."))};t.default=u},"./space/components/Page/PageConflictStatus/PageWasDeleted.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var c=v(s);var l=n("./node_modules/aphrodite/no-important.js");var u=n("./flux/index.js");var d=n("./styleguide/index.js");var p=n("./common/index.js");var f=n("./core/index.js");function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(r=u.Connectors.database(function(e){var t=e.deletedBy,n=e.conflict,r=e.conflictsState;var o=r.base;var a=n.base.value;var i="base"===t?o.createdBy:a.modifiedBy.first();return{baseAuthor:f.User.queryByID(i).setOptions({waitFetched:false})}}),r(o=(i=a=function(e){y(t,e);function t(){h(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,r=n.deletedBy,o=n.baseAuthor,a=n.onDelete,i=n.onKeep;var s=t.STYLES;return c.createElement(d.Alert,{styles:[d.Alert.STYLES.danger,s.conflictsAlert],size:"small",vertical:true,icon:c.createElement(p.UserAvatar,{user:o,styles:[p.UserAvatar.STYLES.sizeSM,s.avatar]})},c.createElement(d.View,{styles:[d.View.MARGIN.S200Bottom]},c.createElement(d.Text.TextH200,null,"base"===r?"You modified this page, but "+o.displayName+" deleted it. Do you want to keep it?":"You deleted this page, but "+o.displayName+" modified it. Do you want to keep it?")),c.createElement(d.View,{styles:s.center},c.createElement(d.Button,{kind:"dangerFilled",size:"small",styles:d.View.MARGIN.S200Right,onClick:a},"Delete"),c.createElement(d.Button,{kind:"success",size:"small",onClick:i},"Keep")))};return t}(c.Component),a.STYLES=l.StyleSheet.create({conflictsAlert:{flex:"0 0 auto",marginRight:d.spacing.S300},avatar:{display:"inline-block"},center:{display:"flex",justifyContent:"center",alignItems:"center"}}),i))||o);t.default=g},"./space/components/Page/PageConflictStatus/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./space/components/Page/PageConflictStatus/PageConflictStatus.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./space/components/Page/PageHeader/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./space/components/Page/PageHeader/PageHeader.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./space/components/Page/PageMeta.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=l(r);var a=n("./node_modules/react-helmet/lib/Helmet.js");var i=c(a);var s=n("./space/components/Routing/index.js");function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){p(t,e);function t(){u(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.page,r=t.contentContext;return o.createElement(i.default,{title:n.title},n.description&&o.createElement("meta",{name:"description",content:n.description}),!(0,s.isContentIndexable)(r)&&o.createElement("meta",{name:"robots",content:"noindex, nofollow"}))};return t}(o.Component);t.default=f},"./space/components/Page/PageSide.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PAGE_SIDE_WIDTH=void 0;var r,o,a,i,s;var c=n("./node_modules/react/index.js");var l=E(c);var u=n("./node_modules/aphrodite/no-important.js");var d=n("./node_modules/react-redux/es/index.js");var p=n("./styleguide/index.js");var f=n("./core/index.js");var v=n("./space/components/Page/PageToC.js");var h=n("./space/components/PageDocumentMenu/index.js");var m=b(h);var y=n("./space/components/Page/PageConflictStatus/index.js");var g=b(y);function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=176+2*p.spacing.S300;var P=(r=(0,d.connect)(function(e){var t=e.userCanEdit,n=e.spaceURL;return{userCanEdit:t,spaceURL:n}}),r(o=(i=a=function(e){O(t,e);function t(){C(this,t);return _(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.sections,a=r.version,i=r.page,s=r.readOnly,c=r.userCanEdit;return l.createElement(p.MediaQuery,{query:p.MEDIA.DESKTOP_LARGE},l.createElement(p.View,{styles:[n.pageSide]},l.createElement(p.StickySidebar,{styles:[n.tocWrapper],stickyTopPadding:0},!s&&l.createElement(g.default,{page:i,version:a}),c&&l.createElement(p.View,{styles:n.pageOptionsWrapper},l.createElement(p.View,{styles:n.pageOptionsBorder},l.createElement(m.default,{version:a,page:i,readOnly:s,align:"end"}))),l.createElement(v.PageToCLive,{sections:o}))))};return t}(l.PureComponent),a.STYLES=u.StyleSheet.create({pageSide:(s={position:"relative",flex:"0 0 auto",width:S,marginRight:"auto"},s["@media "+p.MEDIA.SMALLER_THAN_DESKTOP_LARGE]={display:"none"},s),tocWrapper:{paddingTop:p.spacing.S500,paddingBottom:p.spacing.S500,display:"flex",flexDirection:"column"},pageOptionsWrapper:{display:"inline-block",marginBottom:p.spacing.S500,paddingRight:p.spacing.S300},pageOptionsBorder:{borderLeft:"1px solid "+p.colors.GREY_LIGHTER,padding:0}}),i))||o);t.default=P;t.PAGE_SIDE_WIDTH=S},"./space/components/Page/PageToC.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TOC_WIDTH=t.PageToCLive=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s;var c=n("./node_modules/react/index.js");var l=_(c);var u=n("./node_modules/@gitbook/slate-react/lib/slate-react.es.js");var d=_(u);var p=n("./node_modules/lodash.throttle/index.js");var f=C(p);var v=n("./node_modules/immutable/dist/immutable.js");var h=n("./node_modules/aphrodite/no-important.js");var m=n("./node_modules/react-intl/lib/index.es.js");var y=n("./core/index.js");var g=n("./icons/index.js");var b=n("./styleguide/index.js");var E=n("./space/components/Document/api/index.js");function C(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=3;var A=1;var j=2;var T=176;var k=h.StyleSheet.create({pageToc:{display:"inline-block",minWidth:T+2*b.spacing.S300,paddingRight:b.spacing.S300},pageTocInner:{borderLeft:A+"px solid "+b.colors.GREY_LIGHTER},pageTocTitle:{paddingLeft:b.spacing.S300,color:b.colors.GREY_BASE,marginBottom:b.spacing.S200,display:"flex"},pageTocTitleIcon:{cursor:"pointer",marginLeft:b.spacing.S100},pageTocList:{listStyle:"none",padding:0,margin:0,counterReset:"toc"},pageTocItem:{marginBottom:b.spacing.S100,paddingLeft:b.spacing.S300,display:"flex",color:b.colors.GREY_DARK},pageTocItemActive:{borderLeft:j+"px solid",paddingLeft:b.spacing.S300-j+A,marginLeft:-A},pageTocLink:{cursor:"pointer",textDecoration:"none",color:"inherit",":hover":{textDecoration:"inherit"}},pageTocLinkHTTPMethod:{marginLeft:-2,marginRight:b.spacing.S100},pageTocLinkH2:{paddingLeft:b.spacing.S200},pageTocReadMore:{fontSize:"20px"}});function M(e){return e.filter(function(e){return e.level<=2})}var R=function(e){P(t,e);function t(){O(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClick;return l.createElement("li",{className:(0,h.css)(k.pageTocItem)},l.createElement("span",{role:"button",tabIndex:0,onClick:t,className:(0,h.css)(k.pageTocLink,k.pageTocReadMore)},"..."))};return t}(l.Component);var w=function(e){P(t,e);function t(){O(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.method;return l.createElement(b.Badge,{styles:[k.pageTocLinkHTTPMethod],style:{backgroundColor:(0,E.getHTTPMethodColor)(t)}},t)};return t}(l.Component);var D=function(e){P(t,e);function t(){var n,r,o;O(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=S(this,e.call.apply(e,[this].concat(i))),r),r.state={isHovered:false},r.state={isHovered:false},r.onMouseEnter=function(){r.setState({isHovered:true})},r.onMouseLeave=function(){r.setState({isHovered:false})},n),S(r,o)}t.prototype.render=function e(){var t=this.props,n=t.section,r=t.active,o=t.colorPrimary;var a=this.state.isHovered;return l.createElement("li",{className:(0,h.css)(k.pageTocItem,r&&k.pageTocItemActive),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{color:(r||a)&&o}},l.createElement(b.Link,{styles:[k.pageTocLink,n.level>1&&k.pageTocLinkH2],href:"#"+n.id,kind:"text"},l.createElement(b.Text.UIH200,null,n.delimiter.type===y.DOC_BLOCKS.API_METHOD_SUMMARY&&l.createElement(w,{method:n.data.get("method")}),n.title)))};return t}(l.Component);var I=(o=b.ColorPalette.connect(["primary"]),o(a=(s=i=function(e){P(t,e);function t(){var n,r,o;O(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=S(this,e.call.apply(e,[this].concat(i))),r),r.state={isCollapsed:true},r.collapseList=function(){r.setState({isCollapsed:true})},r.expandList=function(){r.setState({isCollapsed:false})},n),S(r,o)}t.prototype.render=function e(){var t=this.props,n=t.activeNodeKey,r=t.condensed,o=t.colorPrimary;var a=this.state.isCollapsed;var i=M(this.props.sections);if(i.size<=1)return null;var s=r&&i.count()>x;var c=s&&a?i.slice(0,x):i;return l.createElement("div",{className:(0,h.css)(k.pageToc,b.Scrollable.STYLES.withScrollbar)},l.createElement("div",{className:(0,h.css)(k.pageTocInner)},l.createElement("div",{className:(0,h.css)(k.pageTocTitle)},l.createElement(b.Text.InfoH100,null,l.createElement(m.FormattedMessage,{id:"PageHeader.toc",defaultMessage:"Contents"})),s&&l.createElement("span",{className:(0,h.css)(k.pageTocTitleIcon)},a?l.createElement(g.IconChevronDown,{onClick:this.expandList}):l.createElement(g.IconChevronUp,{onClick:this.collapseList}))),l.createElement("ul",{className:(0,h.css)(k.pageTocList)},c.map(function(e){return l.createElement(D,{key:e.key,section:e,colorPrimary:o,active:!r&&e.key===n})}),s&&a&&l.createElement(R,{onClick:this.expandList}))))};return t}(l.PureComponent),i.defaultProps={condensed:false},s))||a);var N=function(e){P(t,e);function t(n){O(this,t);var r=S(this,e.call(this,n));r.state={activeNodeKey:null};r.updateActiveNode=function(){var e=r.props.sections;var t=M(e);var n=t.find(function(e,n){var r=e.delimiter;var o=void 0;try{o=d.findDOMNode(r)}catch(e){return false}if(o.getBoundingClientRect().top>0)return false;var a=t.get(n+1);if(!a)return true;var i=a.delimiter;var s=void 0;try{s=d.findDOMNode(i)}catch(e){return false}return s.getBoundingClientRect().top>0});r.setState({activeNodeKey:n?n.key:null})};r.onScroll=(0,f.default)(r.updateActiveNode,200);return r}t.prototype.componentDidMount=function e(){this.updateActiveNode();window.document.addEventListener("scroll",this.onScroll)};t.prototype.componentWillUnmount=function e(){this.onScroll.cancel();window.document.removeEventListener("scroll",this.onScroll)};t.prototype.render=function e(){var t=this.state.activeNodeKey;return l.createElement(I,r({},this.props,{activeNodeKey:t}))};return t}(l.PureComponent);t.default=I;t.PageToCLive=N;t.TOC_WIDTH=T},"./space/components/Page/WholePage.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i,s,c,l,u;var d=n("./node_modules/react/index.js");var p=M(d);var f=n("./node_modules/immutable/dist/immutable.js");var v=n("./node_modules/react-redux/es/index.js");var h=n("./node_modules/react-sticky/lib/index.js");var m=n("./node_modules/aphrodite/no-important.js");var y=n("./core/index.js");var g=n("./styleguide/index.js");var b=n("./space/components/styles/index.js");var E=n("./space/components/Routing/index.js");var C=n("./space/actions/edition.js");var _=n("./space/components/Document/index.js");var O=n("./space/components/Page/PageMeta.js");var S=M(O);var P=n("./space/components/Page/PageHeader/index.js");var x=M(P);var A=n("./space/components/Page/PageBody.js");var j=M(A);var T=n("./space/components/Page/PageSide.js");var k=M(T);function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=(r=(0,v.connect)(function(e){var t=e.user;return{isLoggedIn:t.isLoggedIn}}),o=(0,_.connectDocument)(function(e){var t=e.page,n=e.version,r=e.pageConflict;return{page:t,version:n,conflict:r}},function(e){var t=e.editorState;return{editorState:t}}),a=(0,_.connectDocument)(function(e){var t=e.pageToDiff;return{page:t}},function(e){var t=e.editorState;return{stateToDiff:t}}),i=g.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isShowingPlaceholder:t}}),r(s=o(s=a(s=(0,E.contentRoutingConnect)(s=i(s=(l=c=function(e){D(t,e);function t(){var n,r,o;R(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=w(this,e.call.apply(e,[this].concat(i))),r),r.updateEditorState=function(e){var t=r.props.editorState;r.onChange(e(t.change()))},r.onChange=function(e){var t=r.props,n=t.version,o=t.page,a=t.dispatch,i=t.editorState,s=t.isShowingPlaceholder;if(s)return;a((0,C.updateEditorState)(n,o,i,e.value))},n),w(r,o)}t.prototype.computeHeadingIDs=function e(t){var n=y.Edition.Heading.getHeadingIDs(t);(0,f.is)(n,this.cacheHeadingIDs)||(this.cacheHeadingIDs=n);return this.cacheHeadingIDs};t.prototype.computeSections=function e(t,n){var r=y.Edition.Section.getSections(t,n).filter(function(e){var t=e.title;return Boolean(t)}).map(function(e){return e.set("nodes",(0,f.List)())});(0,f.is)(r,this.cacheSections)||(this.cacheSections=r);return this.cacheSections};t.prototype.render=function e(){var n=this.props,r=n.contentContext,o=n.editorState,a=n.stateToDiff,i=n.readOnly,s=n.page,c=n.revision,l=n.version,u=n.workingRevision,d=n.isShowingPlaceholder,f=n.isLoggedIn;var v=t.STYLES;var b=void 0;a&&!d&&(b=c.diffDocuments(a.document,o.document));var E=this.computeHeadingIDs(o.document);var C=this.computeSections(o.document,E);return p.default.createElement(g.PlaceholderInteractionBlocker,{styles:[v.wholeContent,f?v.contentWithControlsBar:v.contentWithoutControlsBar]},p.default.createElement(h.StickyContainer,{className:(0,m.css)(v.wholeContentSticky)},p.default.createElement(g.View,{styles:v.pageContainer},p.default.createElement(S.default,{page:s,contentContext:r}),p.default.createElement(x.default,{readOnly:i,version:l,page:s,isEmptyDocument:y.Edition.isEmptyDocument(o.document),updateEditorState:this.updateEditorState,sections:C}),p.default.createElement(j.default,{version:l,page:s,pageURL:r.pageURL,revision:u||c,readOnly:i,headingIDs:E,value:b||o,isDiff:Boolean(b),isShowingPlaceholder:d,onChange:this.onChange})),p.default.createElement(k.default,{sections:C,version:l,page:s,readOnly:i})))};return t}(p.default.Component),c.STYLES=m.StyleSheet.create({wholeContent:{flex:"1 1 auto",minWidth:0,display:"flex",flexDirection:"column",background:"#fff",maxWidth:"100%"},contentWithControlsBar:{paddingBottom:b.layout.CONTROLSBAR_HEIGHT+2*g.spacing.S300},contentWithoutControlsBar:{paddingBottom:g.spacing.S800},wholeContentSticky:{flex:"1 1 auto",minWidth:0,display:"flex",position:"relative"},pageContainer:(u={flex:"1 1 auto",minWidth:0,maxWidth:g.layout.BODY_WIDTH,margin:"0px "+g.spacing.S200+"px"},u["@media "+g.MEDIA.MOBILE_LANDSCAPE]={margin:"0px "+g.spacing.S300+"px"},u["@media "+g.MEDIA.DESKTOP]={margin:"0px "+g.spacing.S900+"px"},u)}),l))||s)||s)||s)||s)||s);t.default=I},"./space/components/PageDocumentMenu/PageDocumentMenu.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s;var c=n("./node_modules/react/index.js");var l=x(c);var u=n("./node_modules/prop-types/index.js");var d=P(u);var p=n("./node_modules/react-redux/es/index.js");var f=n("./node_modules/aphrodite/no-important.js");var v=n("./node_modules/copy-to-clipboard/index.js");var h=P(v);var m=n("./node_modules/urljoin.js/dist/index.js");var y=P(m);var g=n("./core/index.js");var b=n("./styleguide/index.js");var E=n("./icons/index.js");var C=n("./space/actions/edition.js");var _=n("./space/components/Routing/index.js");var O=n("./space/components/PageDocumentMenu/PagePathInput.js");var S=P(O);function P(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function A(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function j(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a);var s=i.value}catch(e){n(e);return}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R={EDIT_SLUG:"slug",INSERT_LINK:"link"};var w=(o=(0,p.connect)(function(e){var t=e.userCanEdit,n=e.spaceURL;return{userCanEdit:t,spaceURL:n}}),o(a=(0,_.contentRoutingConnect)(a=(s=i=function(e){M(t,e);function t(){var n=this;var r,o,a;T(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return a=(r=(o=k(this,e.call.apply(e,[this].concat(s))),o),o.state={mode:null},o.onEditSlug=function(e){e.stopPropagation();o.setState({mode:R.EDIT_SLUG})},o.onClosePopover=function(){o.setState({mode:null})},o.onRemovePage=function(){var e=o.props,t=e.version,n=e.page,r=e.dispatch;r((0,C.removePage)(t,n))},o.onEditPage=j(regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,l,u,d,p;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props,r=t.dispatch,a=t.version,i=t.page,s=t.contentContext,c=t.navigate;l=a.page.uid===i.uid;u=a.page.getURLOf(i);if(!(!l&&!u)){n.next=5;break}throw new Error("pageURL not found for page "+i.uid);case 5:d=void 0;if(!s.draftID){n.next=10;break}d=s.draftID;n.next=14;break;case 10:n.next=12;return r((0,C.startDraft)());case 12:p=n.sent;d=p.uid;case 14:c({toPage:u||"",toDraft:d,toEdit:true});case 15:case"end":return n.stop()}},e,n)})),o.onCopyPageURL=function(){var e=o.props,t=e.spaceURL,n=e.contentContext;var r=(0,_.getContentRoute)(n,{});var a=(0,y.default)(t,r);(0,h.default)(a)},o.onPathSlugChanged=function(e){var t=o.props,n=t.dispatch,r=t.page,a=t.version;o.setState({mode:null},function(){e&&e!==r.path&&n((0,C.updatePagePath)(a,r,e))})},r),k(o,a)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.version,a=r.page,i=r.readOnly,s=r.isInPopover,c=r.userCanEdit,u=r.align;var d=this.state.mode;var p=o.page.uid===a.uid;var f=o.page.getURLOf(a);if(!p&&!f)throw new Error("pageURL not found for page "+a.uid);var v=!i;var h=o.page.getURLOfParentOf(a);if(s&&d===R.EDIT_SLUG)return l.createElement(S.default,{value:a.path,parentURL:h,onChange:this.onPathSlugChanged});return l.createElement(b.Menu,null,i&&c&&l.createElement(D,{onClick:this.onEditPage,styles:!s&&n.pageSideItem}),v&&!p&&l.createElement(l.Fragment,null,s?l.createElement(I,{onClick:this.onEditSlug}):l.createElement(b.Popover.ManualPortal,{isOpen:d===R.EDIT_SLUG,closeOnOutsideClick:true,closeOnEsc:true,onClose:this.onClosePopover,anchor:l.createElement(I,{onClick:this.onEditSlug,styles:n.pageSideItem})},l.createElement(b.Popover,{align:u},l.createElement(S.default,{value:a.path,parentURL:h,onChange:this.onPathSlugChanged}))),l.createElement(N,{onClick:this.onRemovePage,styles:!s&&n.pageSideItem})),v&&l.createElement(L,{onClick:this.onCopyPageURL,styles:!s&&n.pageSideItem}))};return t}(l.Component),i.defaultProps={isInPopover:false,align:"middle"},i.contextTypes={closePortal:d.default.func},i.STYLES=f.StyleSheet.create({pageSideItem:{paddingLeft:b.spacing.S300,overflow:"hidden",minWidth:"auto",":first-child":{marginTop:0},":last-child":{marginBottom:0}}}),s))||a)||a);var D=function e(t){return l.createElement(b.Menu.Item,r({icon:l.createElement(E.IconEdit,null)},t),l.createElement(b.Text.UIH300,null,"Edit this page"))};var I=function(e){M(t,e);function t(){T(this,t);return k(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.children,o=A(t,["children"]);return l.createElement(b.Menu.Item,r({icon:l.createElement(E.IconLink,null)},o),"Change path",n)};return t}(l.Component);var N=function e(t){return l.createElement(b.Menu.Item,r({icon:l.createElement(E.IconTrashcan,null)},t),"Delete this page")};var L=function e(t){return l.createElement(b.Menu.Item,r({icon:l.createElement(E.IconCopy,null)},t),"Copy URL")};t.default=w},"./space/components/PageDocumentMenu/PagePathInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var i=n("./node_modules/react/index.js");var s=h(i);var c=n("./node_modules/aphrodite/no-important.js");var l=n("./node_modules/react-intl/lib/index.es.js");var u=n("./node_modules/react-custom-debounced-input/lib/index.js");var d=v(u);var p=n("./core/index.js");var f=n("./styleguide/index.js");function v(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(0,l.injectIntl)(r=(a=o=function(e){g(t,e);function t(){var n,r,o;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=y(this,e.call.apply(e,[this].concat(i))),r),r.slugify=function(e){var t=e.target.value.replace(/\s/g,"-");if(!t||"-"===t.slice(-1))return t;return p.Page.normalizePath(t)},r.onClick=function(e){e.stopPropagation()},n),y(r,o)}t.prototype.componentDidMount=function e(){var t=this.input;if(t){t.focus();t.select()}};t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.props,a=o.intl,i=o.value,l=o.parentURL,u=o.onChange;var p=l?l+"/":"";return s.createElement("div",{role:"presentation",className:(0,c.css)(r.pathInput),onClick:this.onClick},s.createElement("div",{className:(0,c.css)(r.pathInputPrefix)},"/"+p),s.createElement(d.default,{component:f.AutosizeInput,ref:function e(t){n.input=t},type:"text",value:i||"",className:(0,c.css)(r.pathInputInner),inputClassName:(0,c.css)(r.pathInputInnerInput),onBeforeChange:this.slugify,onChange:u,placeholder:a.formatMessage({id:"PageMenu.pathPrompt",defaultMessage:"Path for this page"}),placeholderIsMinWidth:true}))};return t}(s.Component),o.STYLES=c.StyleSheet.create({pathInput:{display:"flex",fontSize:f.font.SIZE_NORMAL},pathInputPrefix:{padding:"6px 9px",flex:"0",background:f.colors.GREY_LIGHTEST,whiteSpace:"nowrap"},pathInputInner:{flex:"1"},pathInputInnerInput:{padding:"6px 9px",font:"inherit",background:"transparent",border:"none",outline:"none",maxWidth:300}}),a))||r;t.default=b},"./space/components/PageDocumentMenu/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./space/components/PageDocumentMenu/PageDocumentMenu.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./space/components/styles/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.layout=void 0;var r=n("./space/components/styles/layout.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.layout=o.default}});
//# space-part-09.437f3bac.js.map