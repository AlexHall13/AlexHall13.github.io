webpackJsonp([2],{"./website/components/RouteDashboard/RouteAccount/AccountAvatar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i,u,s;var c=n("./node_modules/react/index.js");var p=v(c);var d=n("./node_modules/react-redux/es/index.js");var f=n("./node_modules/aphrodite/no-important.js");var m=n("./styleguide/index.js");var h=n("./flux/index.js");var y=n("./common/index.js");function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(r=(0,d.connect)(),r(o=(l=a=function(e){w(t,e);function t(){var n=this;var r,o,a;E(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=b(this,e.call.apply(e,[this].concat(i))),o),o.state={loading:false,error:null},o.onSelectFile=function(){o.uploader&&m.FileUploader.promptFile(o.uploader)},o.onFiles=function(){var e=g(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r=o.props.dispatch;o.setState({loading:true,error:null});n.prev=2;n.next=5;return r(h.Flux.user.uploadPhoto(t[0]));case 5:n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](2);o.setState({error:n.t0});case 10:n.prev=10;o.setState({loading:false});return n.finish(10);case 13:case"end":return n.stop()}},e,n,[[2,7,10,13]])}));return function(t){return e.apply(this,arguments)}}(),r),b(o,a)}t.prototype.componentWillReceiveProps=function e(t){if(t.user.photoURL==this.props.user.photoURL)return;this.setState({loading:false})};t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.props.user;var a=this.state,l=a.loading,i=a.error;return p.createElement(m.Panel,null,p.createElement(m.Panel.Header,null,p.createElement(m.Panel.Header.Title,null,"Profile Photo")),p.createElement(m.Panel.Body,null,i&&p.createElement(m.Alert,{styles:[m.Alert.STYLES.danger]},"Please upload an image that is less than 5MB."),p.createElement(m.FileUploader,{ref:function e(t){n.uploader=t},onFiles:this.onFiles,accept:"image/*"}),p.createElement(m.View,{styles:[r.container]},l?p.createElement(m.View,{styles:[r.photoLoading]},p.createElement(m.Loading,null)):p.createElement(m.View,{styles:[r.photoWrapper]},p.createElement(y.UserAvatar,{user:o,styles:[y.UserAvatar.STYLES.sizeXL,r.photo],withTooltip:false,onClick:this.onSelectFile})),p.createElement(m.View,{styles:[r.contentWrapper]},p.createElement(m.Button,{kind:"secondary",onClick:this.onSelectFile,disabled:l},"Upload Photo"),p.createElement(m.Form.Hint,null,"This photo will be used to identify you in GitBook. It will be visible to anyone.",p.createElement("br",null),p.createElement("b",null,"Some tips:")," Use a photo or image rather than text and upload an image that is 132px square or larger.")))))};return t}(p.Component),a.STYLES=f.StyleSheet.create({container:(i={display:"flex",flexDirection:"column"},i["@media "+m.MEDIA.TABLET]={flexDirection:"row"},i),photoWrapper:{},photoLoading:{width:94,height:94,fontSize:32,display:"flex",alignItems:"center",justifyContent:"center",color:m.colors.BLUE_BASE},photo:(u={cursor:"pointer",marginBottom:m.boxes.PADDING_SMALL},u["@media "+m.MEDIA.TABLET]={marginBottom:0},u),contentWrapper:(s={},s["@media "+m.MEDIA.TABLET]={flex:1,padding:"0px "+m.spacing.S400+"px"},s)}),l))||o);t.default=S},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDangerZone.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=y(i);var s=n("./node_modules/aphrodite/no-important.js");var c=n("./styleguide/index.js");var p=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountExport.js");var d=h(p);var f=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/index.js");var m=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(o=r=function(e){E(t,e);function t(){var n,r,o;v(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=g(this,e.call.apply(e,[this].concat(l))),r),r.state={isCollapsed:true},r.onToggle=function(e){r.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n),g(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.state.isCollapsed;return u.createElement(c.Panel,null,u.createElement(c.Panel.Header,{onClick:r?this.onToggle:null},u.createElement(c.Panel.Header.Left,null,u.createElement(c.Panel.Header.Title,null,"Danger Zone")),u.createElement(c.Panel.Header.Right,null,u.createElement(c.Panel.Toggle,{isCollapsed:r,onClick:r?null:this.onToggle}))),!r&&u.createElement(c.Panel.Body,{styles:n.container},u.createElement(c.View,{styles:n.row},u.createElement(d.default,null)),u.createElement(c.View,{styles:n.row},u.createElement(m.default,null))))};return t}(u.Component),r.STYLES=s.StyleSheet.create({container:(a={padding:0},a["@media "+c.MEDIA.TABLET]={padding:0},a),row:(l={display:"flex",alignItems:"center",justifyContent:"space-between",padding:c.spacing.S200+"px "+c.spacing.S300+"px",borderBottom:"solid 1px "+c.colors.GREY_LIGHTEST},l["@media "+c.MEDIA.TABLET]={padding:c.spacing.S200+"px "+c.spacing.S500+"px"},l[":last-child"]={borderBottom:"none"},l)}),o);t.default=b},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/AccountDelete.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i;var u=n("./node_modules/react/index.js");var s=b(u);var c=n("./node_modules/react-redux/es/index.js");var p=n("./node_modules/aphrodite/no-important.js");var d=n("./styleguide/index.js");var f=n("./flux/index.js");var m=n("./core/index.js");var h=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/ConfirmDeletePopup.js");var y=E(h);var v=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/DeleteInfoPopup.js");var g=E(v);function E(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=(r=(0,c.connect)(function(e){var t=e.user;return{userID:t.uid}}),o=f.Connectors.database(function(e){var t=e.userID;return{userMemberships:m.UserMembership.queryByUser(t)}}),r(a=o(a=(i=l=function(e){P(t,e);function t(){var n,r,o;w(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=S(this,e.call.apply(e,[this].concat(l))),r),r.state={displayConfirm:false,displayInfo:false},r.onDisplayConfirm=function(){r.setState({displayConfirm:true,displayInfo:false})},r.onDisplayInfo=function(){r.setState({displayInfo:true,displayConfirm:false})},r.onCloseConfirm=function(){r.setState({displayConfirm:false})},r.onCloseInfo=function(){r.setState({displayInfo:false})},n),S(r,o)}t.prototype.render=function e(){var n=this.state,r=n.displayConfirm,o=n.displayInfo;var a=this.props.userMemberships;var l=t.STYLES;return s.createElement(s.Fragment,null,s.createElement(d.View,null,s.createElement(d.View,null,s.createElement(d.Text.HeadingH600,null,"Delete Account")),s.createElement(d.View,null,s.createElement(d.Text.TextH200,{styles:[l.grey]},"Delete your account."))),s.createElement(d.View,null,s.createElement(d.Button,{kind:"danger",size:"small",onClick:a.size>0?this.onDisplayInfo:this.onDisplayConfirm},"Delete")),o&&s.createElement(g.default,{onClose:this.onCloseInfo}),r&&s.createElement(y.default,{onClose:this.onCloseConfirm}))};return t}(s.PureComponent),l.STYLES=p.StyleSheet.create({grey:{color:d.colors.GREY_BASE}}),i))||a)||a);t.default=x},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/ConfirmDeletePopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=v(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./node_modules/react-router/es/index.js");var d=n("./styleguide/index.js");var f=n("./flux/index.js");n("./core/index.js");var m=n("./website/components/SignIn/ReauthenticatePopup.js");var h=y(m);function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(r=(0,s.connect)(function(e){var t=e.user;return{user:t}}),r(o=(0,p.withRouter)(o=(l=a=function(e){w(t,e);function t(){var n=this;var r,o,a;E(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=b(this,e.call.apply(e,[this].concat(i))),o),o.state={error:null,deleteInput:"",displayReauthenticatePopup:false},o.closeReauthenticatePopup=function(){o.setState({displayReauthenticatePopup:false})},o.onConfirmDelete=g(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props.dispatch;n.prev=1;n.next=4;return t(f.Flux.user.deleteAccount());case 4:n.next=9;break;case 6:n.prev=6;n.t0=n["catch"](1);"auth/requires-recent-login"===n.t0.code?o.setState({displayReauthenticatePopup:true}):o.setState({error:n.t0});case 9:case"end":return n.stop()}},e,n,[[1,6]])})),o.onInputChange=function(e){e.preventDefault();o.setState({deleteInput:e.currentTarget.value})},o.onReauthenticateSuccess=function(){o.setState({displayReauthenticatePopup:false});o.onConfirmDelete()},r),b(o,a)}t.prototype.render=function e(){var n=this.props,r=n.onClose,o=n.user;var a=this.state,l=a.error,i=a.deleteInput,s=a.displayReauthenticatePopup;var c=t.STYLES;return u.createElement(u.Fragment,null,u.createElement(d.Popup,{isOpened:true,closeOnEsc:true,closeOnOutsideClick:true,onClose:r},u.createElement(d.Modal,{size:d.Modal.SIZES.medium},u.createElement(d.Modal.Header,null,u.createElement(d.Modal.Title,null,"Are you sure you want to delete your account ?")),u.createElement(d.Modal.Body,null,u.createElement(d.View,{styles:[d.View.MARGIN.S300Bottom,c.grey]},l?u.createElement(d.Text,null,l.message):u.createElement(d.Text,null,"This action ",u.createElement("b",null,"CANNOT be undone"),". This will permanently delete your account.")),u.createElement(d.Form.Group,{title:"Please type in 'DELETE' to confirm",styles:c.noMargin},u.createElement(d.Form.Input,{value:i,onChange:this.onInputChange}))),u.createElement(d.Modal.Footer,null,u.createElement(d.Button,{kind:"cancel",onClick:r},"Cancel"),u.createElement(d.Button,{kind:"danger",onClick:this.onConfirmDelete,disabled:"DELETE"!==i},"Yes, I'm sure")))),s&&u.createElement(h.default,{isOpened:true,user:o,onSuccess:this.onReauthenticateSuccess,onClose:this.closeReauthenticatePopup}))};return t}(u.PureComponent),a.STYLES=c.StyleSheet.create({grey:{color:d.colors.GREY_BASE},noMargin:{margin:0}}),l))||o)||o);t.default=S},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/DeleteInfoPopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var l=n("./node_modules/react/index.js");var i=p(l);var u=n("./node_modules/react-router/es/index.js");var s=n("./node_modules/aphrodite/no-important.js");var c=n("./styleguide/index.js");function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(0,u.withRouter)(r=(a=o=function(e){m(t,e);function t(){d(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props.onClose;var r=t.STYLES;return i.createElement(c.Popup,{isOpened:true,closeOnEsc:true,closeOnOutsideClick:true,onClose:n},i.createElement(c.Modal,{size:c.Modal.SIZES.medium},i.createElement(c.Modal.Header,null,i.createElement(c.Modal.Title,null,"Delete your account")),i.createElement(c.Modal.Body,null,i.createElement(c.View,{styles:r.grey},i.createElement(c.View,null,i.createElement(c.Text,null,"You cannot delete your account if you are a member of an organization. Please leave/transfer or delete all your organizations first.")))),i.createElement(c.Modal.Footer,null,i.createElement(c.Button,{kind:"cancel",onClick:this.props.onClose},"Cancel"),i.createElement(c.Button,{kind:"danger",disabled:true},"Delete"))))};return t}(i.PureComponent),o.STYLES=s.StyleSheet.create({grey:{color:c.colors.GREY_BASE}}),a))||r;t.default=h},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDelete/AccountDelete.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountExport.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=f(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./flux/index.js");n("./core/index.js");var d=n("./styleguide/index.js");function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(r=(0,s.connect)(function(e){var t=e.user;return{user:t}}),r(o=(l=a=function(e){v(t,e);function t(){var n=this;var r,o,a;h(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=y(this,e.call.apply(e,[this].concat(i))),o),o.onClick=m(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props,r=t.user,a=t.dispatch;n.next=3;return a(p.Flux.user.exportContent({user:r}));case 3:case"end":return n.stop()}},e,n)})),r),y(o,a)}t.prototype.render=function e(){var n=t.STYLES;return u.createElement(u.Fragment,null,u.createElement(d.View,null,u.createElement(d.View,null,u.createElement(d.Text.HeadingH600,null,"Export Content")),u.createElement(d.View,null,u.createElement(d.Text.TextH200,{styles:[n.grey]},"Export user informations"))),u.createElement(d.View,null,u.createElement(d.Button,{onClick:this.onClick,size:"small",kind:"danger"},"Export")))};return t}(u.Component),a.STYLES=c.StyleSheet.create({grey:{color:d.colors.GREY_BASE}}),l))||o);t.default=g},"./website/components/RouteDashboard/RouteAccount/AccountDangerZone/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/AccountDangerZone.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./website/components/RouteDashboard/RouteAccount/AccountEmail.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=u(r);var a=n("./node_modules/react-router-dom/es/index.js");var l=n("./styleguide/index.js");var i=n("./core/index.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){p(t,e);function t(){var n,r,o;s(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=c(this,e.call.apply(e,[this].concat(l))),r),r.state={isCollapsed:true,error:null},r.onToggle=function(e){r.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n),c(r,o)}t.prototype.render=function e(){var t=this.props.user;var n=this.state,r=n.isCollapsed,i=n.error;return o.createElement(l.Panel,null,o.createElement(l.Panel.Header,{onClick:r?this.onToggle:null},o.createElement(l.Panel.Header.Left,null,o.createElement(l.Panel.Header.Title,null,"Email")),o.createElement(l.Panel.Header.Right,null,o.createElement(l.Panel.Toggle,{isCollapsed:r,onClick:r?null:this.onToggle}))),!r&&o.createElement(l.Panel.Body,null,i&&o.createElement(l.Alert,{styles:[l.Alert.STYLES.danger]},i.message),o.createElement(l.View,{styles:[l.View.MARGIN.S200Bottom]},t.emailVerified?o.createElement(l.Text,{styles:[l.Text.COLOR.greyBase]},"Your email address (",o.createElement("b",null,t.email),") has been verified."):o.createElement(l.Text,{styles:[l.Text.COLOR.greyBase]},"Verify your email to better protect your account."),o.createElement(l.Text,{styles:[l.Text.COLOR.greyBase]}," ","It will be used for account-related notifications and sign-in.")),o.createElement(l.Button,{kind:"secondary",styles:[l.Button.STYLES.medium],component:a.Link,to:"/account/verify/email"},t.email?"Update your email":"Verify an email address")))};return t}(o.Component);t.default=d},"./website/components/RouteDashboard/RouteAccount/AccountGithub.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=f(a);var i=n("./node_modules/react-redux/es/index.js");var u=n("./icons/index.js");var s=n("./styleguide/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./core/index.js");var d=n("./flux/index.js");function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=c.StyleSheet.create({githubLogo:{color:"#24292e",fontSize:18}});var g=(r=(0,i.connect)(),r(o=function(e){y(t,e);function t(){var n,r,o;m(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=h(this,e.call.apply(e,[this].concat(l))),r),r.state={error:null},r.onGithubLink=function(){var e=r.props.dispatch;return e(d.Flux.user.linkWithGithub()).catch(function(e){r.setState({error:e})})},r.onGithubUnlink=function(){var e=r.props.dispatch;return e(d.Flux.user.unlinkGithub()).catch(function(e){r.setState({error:e})})},n),h(r,o)}t.prototype.render=function e(){var t=this.props.user;var n=this.state.error;return l.default.createElement(s.Panel,null,l.default.createElement(s.Panel.Header,null,l.default.createElement(s.Panel.Header.Title,null,"Github")),l.default.createElement(s.Panel.Body,null,n&&l.default.createElement(s.Alert,{styles:[s.Alert.STYLES.danger]},n.message),l.default.createElement(s.View,{styles:[s.View.MARGIN.S200Bottom]},l.default.createElement(s.Text,{styles:[s.Text.COLOR.greyBase]},"Set up a single sign-on with GitHub and login with one click. Integrations can be configured on each space.")),t.hasGithubProvider?l.default.createElement(b,{onClick:this.onGithubUnlink}):l.default.createElement(E,{onClick:this.onGithubLink,text:"Link your account"})))};return t}(l.default.Component))||o);var E=function(e){y(t,e);function t(){m(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClick;return l.default.createElement(s.Button,{kind:"secondary",styles:[s.Button.STYLES.medium],onClick:t},l.default.createElement(u.IconGitHubLogo,{styles:[v.githubLogo]})," Link your account")};return t}(l.default.Component);var b=function(e){y(t,e);function t(){m(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClick;return l.default.createElement(s.Button,{kind:"danger",styles:[s.Button.STYLES.medium],onClick:t},"Unlink account")};return t}(l.default.Component);t.default=g},"./website/components/RouteDashboard/RouteAccount/AccountGoogle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=d(a);var i=n("./node_modules/react-redux/es/index.js");var u=n("./core/index.js");var s=n("./styleguide/index.js");var c=n("./icons/index.js");var p=n("./flux/index.js");function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(r=(0,i.connect)(),r(o=function(e){h(t,e);function t(){var n,r,o;f(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=m(this,e.call.apply(e,[this].concat(l))),r),r.state={error:null},r.onGoogleLink=function(){var e=r.props.dispatch;return e(p.Flux.user.linkWithGoogle()).catch(function(e){r.setState({error:e})})},r.onGoogleUnlink=function(){var e=r.props.dispatch;return e(p.Flux.user.unlinkGoogle()).catch(function(e){r.setState({error:e})})},n),m(r,o)}t.prototype.render=function e(){var t=this.props.user;var n=this.state.error;return l.default.createElement(s.Panel,null,l.default.createElement(s.Panel.Header,null,l.default.createElement(s.Panel.Header.Title,null,"Google")),l.default.createElement(s.Panel.Body,null,n&&l.default.createElement(s.Alert,{styles:[s.Alert.STYLES.danger]},n.message),l.default.createElement(s.View,{styles:[s.View.MARGIN.S200Bottom]},l.default.createElement(s.Text,{styles:[s.Text.COLOR.greyBase]},"Set up a single sign-on with Google and login with one click.")),t.hasGoogleProvider?l.default.createElement(g,{onClick:this.onGoogleUnlink}):l.default.createElement(v,{text:"Link your account",onClick:this.onGoogleLink})))};return t}(l.default.Component))||o);var v=function(e){h(t,e);function t(){f(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClick;return l.default.createElement(s.Button,{kind:"secondary",styles:[s.Button.STYLES.medium],onClick:t},l.default.createElement(c.IconGoogleLogo,{color:"svg"})," Link your account")};return t}(l.default.Component);var g=function(e){h(t,e);function t(){f(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClick;return l.default.createElement(s.Button,{kind:"danger",styles:[s.Button.STYLES.medium],onClick:t},"Unlink account")};return t}(l.default.Component);t.default=y},"./website/components/RouteDashboard/RouteAccount/AccountPassword.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=m(a);var i=n("./node_modules/react-redux/es/index.js");var u=n("./styleguide/index.js");var s=n("./flux/index.js");var c=n("./core/index.js");var p=n("./website/components/SignIn/ReauthenticatePopup.js");var d=f(p);function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(r=(0,i.connect)(),r(o=function(e){v(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=y(this,e.call.apply(e,[this].concat(l))),r),r.state={isCollapsed:true,error:null,newPassword:"",confirmNewPassword:"",success:false,reauthenticatePopupOpened:false},r.updatePassword=function(){var e=r.props.dispatch;var t=r.state.newPassword;e(s.Flux.user.updatePassword(t)).then(function(){r.setState({success:true,error:null,newPassword:"",confirmNewPassword:""});r.timeoutSuccess=setTimeout(function(){r.setState({success:false})},5e3)}).catch(function(e){"auth/requires-recent-login"===e.code?r.setState({reauthenticatePopupOpened:true}):r.onError(e)})},r.onReauthenticateSuccess=function(){r.setState({reauthenticatePopupOpened:false});r.updatePassword()},r.onClosePopup=function(){r.setState({reauthenticatePopupOpened:false})},r.onError=function(e){r.setState({error:e})},r.onSubmit=function(){var e=r.state,t=e.newPassword,n=e.confirmNewPassword;if(t!==n){r.onError(new Error("Password doesn't match the confirmation"));return}if(t.length<6){r.onError(new Error("Password need to be 6 characters long at least."));return}r.updatePassword()},r.onPasswordChange=function(e){r.setState({success:false,newPassword:e.currentTarget.value})},r.onConfirmPasswordChange=function(e){r.setState({success:false,confirmNewPassword:e.currentTarget.value})},r.onToggle=function(e){r.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n),y(r,o)}t.prototype.componentWillUnmount=function e(){clearTimeout(this.timeoutSuccess)};t.prototype.render=function e(){var t=this.state,n=t.isCollapsed,r=t.error,o=t.newPassword,a=t.confirmNewPassword,i=t.success,s=t.reauthenticatePopupOpened;var c=this.props.user;if(n)return l.createElement(u.Panel,null,l.createElement(u.Panel.Header,{onClick:this.onToggle},l.createElement(u.Panel.Header.Left,null,l.createElement(u.Panel.Header.Title,null,"Password")),l.createElement(u.Panel.Header.Right,null,l.createElement(u.Panel.Toggle,{isCollapsed:n}))));return l.createElement(u.Panel,null,l.createElement(u.Panel.Header,null,l.createElement(u.Panel.Header.Left,null,l.createElement(u.Panel.Header.Title,null,"Password")),l.createElement(u.Panel.Header.Right,null,l.createElement(u.Panel.Toggle,{isCollapsed:n,onClick:this.onToggle}))),l.createElement(u.Form,{onSubmit:this.onSubmit},l.createElement(u.Panel.Body,null,s&&l.createElement(d.default,{isOpened:true,user:c,onSuccess:this.onReauthenticateSuccess,onClose:this.onClosePopup}),i&&l.createElement(u.Alert,{styles:u.Alert.STYLES.success},"Your password has been updated."),l.createElement(u.Form.Group,{title:"New Password",error:r},l.createElement(u.Form.Input,{type:"password",value:o,onChange:this.onPasswordChange})),l.createElement(u.Form.Group,{title:"Confirm New Password"},l.createElement(u.Form.Input,{type:"password",value:a,onChange:this.onConfirmPasswordChange}))),o&&!i&&l.createElement(u.Panel.Footer,null,l.createElement(u.Panel.Footer.Controls,null,l.createElement(u.Button,null,"Update password")))))};return t}(l.Component))||o);t.default=g},"./website/components/RouteDashboard/RouteAccount/AccountPhone.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=d(a);var i=n("./node_modules/react-router-dom/es/index.js");var u=n("./node_modules/react-redux/es/index.js");var s=n("./styleguide/index.js");var c=n("./core/index.js");var p=n("./website/actions/phone.js");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(r=(0,u.connect)(),r(o=(0,i.withRouter)(o=function(e){y(t,e);function t(){var n=this;var r,o,a;m(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=h(this,e.call.apply(e,[this].concat(i))),o),o.state={isCollapsed:true,error:null},o.onClick=f(regeneratorRuntime.mark(function e(){var t,r,a,l;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props,r=t.history,a=t.user,l=t.dispatch;if(!a.hasPhoneVerified){n.next=11;break}n.prev=2;n.next=5;return l((0,p.unlinkPhone)());case 5:n.next=11;break;case 7:n.prev=7;n.t0=n["catch"](2);o.setState({error:n.t0});return n.abrupt("return");case 11:r.push("/account/verify/phone");case 12:case"end":return n.stop()}},e,n,[[2,7]])})),o.onToggle=function(e){o.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},r),h(o,a)}t.prototype.render=function e(){var t=this.props.user;var n=this.state,r=n.isCollapsed,o=n.error;return l.createElement(s.Panel,null,l.createElement(s.Panel.Header,{onClick:r?this.onToggle:null},l.createElement(s.Panel.Header.Left,null,l.createElement(s.Panel.Header.Title,null,"Phone Number")),l.createElement(s.Panel.Header.Right,null,l.createElement(s.Panel.Toggle,{isCollapsed:r,onClick:r?null:this.onToggle}))),!r&&l.createElement(s.Panel.Body,null,o&&l.createElement(s.Alert,{styles:[s.Alert.STYLES.danger]},o.message),l.createElement(s.View,{styles:[s.View.MARGIN.S200Bottom]},t.hasPhoneVerified?l.createElement(s.Text,{styles:[s.Text.COLOR.greyBase]},"This account has been verified with the phone number ",l.createElement("b",null,t.phoneNumber),"."):l.createElement(s.Text,{styles:[s.Text.COLOR.greyBase]},"Verify your identity and better protect your account using your phone number."),l.createElement(s.Text,{styles:[s.Text.COLOR.greyBase]}," ","It will be used for account-related notifications and sign-in.")),l.createElement(s.Button,{kind:"secondary",styles:[s.Button.STYLES.medium],onClick:this.onClick},t.hasPhoneVerified?"Verify with another phone number":"Verify your account")))};return t}(l.Component))||o)||o);t.default=v},"./website/components/RouteDashboard/RouteAccount/AccountProfile.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,l;var i=n("./node_modules/react/index.js");var u=f(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./styleguide/index.js");var p=n("./core/index.js");var d=n("./flux/index.js");function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}var g=(o=(0,s.connect)(),a=c.Form.withContext({getValueFromProps:function e(t){var n=t.user;return n},getPropsFromValue:function e(t){var n=t.value,o=v(t,["value"]);return r({user:n},o)}}),o(l=a(l=function(e){y(t,e);function t(){var n,r,o;m(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=h(this,e.call.apply(e,[this].concat(l))),r),r.onSubmit=function(e){var t=r.props,n=t.user,o=t.dispatch;e.preventDefault();o(d.Flux.user.updateProfile(n))},r.onNameChange=function(e){var t=r.props.onChange;var n=e.currentTarget.value;t(function(e){return e.merge({displayName:n})})},r.onBioChange=function(e){var t=r.props.onChange;var n=e.currentTarget.value;t(function(e){return e.updateBio(n)})},n),h(r,o)}t.prototype.render=function e(){var t=this.props,n=t.user,r=t.hasChanged;var o=p.AuthUser.BIO_MAX_LENGTH-n.bio.length;return u.default.createElement(c.Panel,null,u.default.createElement(c.Panel.Header,null,u.default.createElement(c.Panel.Header.Title,null,"Your Profile")),u.default.createElement("form",{onSubmit:this.onSubmit},u.default.createElement(c.Panel.Body,null,u.default.createElement(c.Form.Group,{title:"Your Name"},u.default.createElement(c.Form.Input,{type:"text",value:n.displayName,onChange:this.onNameChange}),u.default.createElement(c.Form.Hint,null,"Your name is displayed to publicly identify you.")),u.default.createElement(c.Form.Group,{title:"What You do"},u.default.createElement(c.Form.Input,{type:"text",value:n.bio,onChange:this.onBioChange}),u.default.createElement(c.Form.Hint,null,"Let people know what you do at GitBook.",o<10&&" ("+o+" character"+(1!==o?"s":"")+" left)"))),r&&u.default.createElement(c.Panel.Footer,null,u.default.createElement(c.Panel.Footer.Controls,null,u.default.createElement(c.Button,{type:"submit"},"Save Changes")))))};return t}(u.default.Component))||l)||l);t.default=g},"./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/LeaveOrganization.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i;var u=n("./node_modules/react/index.js");var s=w(u);var c=n("./node_modules/react-redux/es/index.js");var p=n("./node_modules/aphrodite/no-important.js");var d=n("./styleguide/index.js");var f=n("./core/index.js");var m=n("./flux/index.js");var h=n("./common/index.js");var y=n("./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/ConfirmLeavePopup.js");var v=b(y);var g=n("./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/LeaveInfoPopup.js");var E=b(g);function b(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(r=(0,c.connect)(function(e){var t=e.user;return{user:t}}),o=m.Connectors.database(function(e){var t=e.orgID;return{org:f.Organization.queryByID(t)}}),r(a=o(a=(i=l=function(e){x(t,e);function t(){var n,r,o;S(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=P(this,e.call.apply(e,[this].concat(l))),r),r.state={displayConfirm:false,displayInfo:false},r.displayConfirm=function(){r.setState({displayConfirm:true,displayInfo:false})},r.displayInfo=function(){r.setState({displayInfo:true,displayConfirm:false})},r.closeConfirm=function(){r.setState({displayConfirm:false})},r.closeInfo=function(){r.setState({displayInfo:false})},n),P(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.org,a=r.user;var l=this.state,i=l.displayConfirm,u=l.displayInfo;if(!o)return null;return s.createElement(s.Fragment,null,s.createElement(d.View,{styles:n.row},s.createElement(h.OrgAvatar,{org:o,styles:h.OrgAvatar.STYLES.sizeSM}),s.createElement(d.View,{styles:d.View.MARGIN.S100Left},o.name)),s.createElement(d.View,null,s.createElement(d.Button,{kind:"danger",size:"small",onClick:a.uid===o.createdBy?this.displayInfo:this.displayConfirm},"Leave")),i&&s.createElement(v.default,{org:o,user:a,onClose:this.closeConfirm}),u&&s.createElement(E.default,{onClose:this.closeInfo,org:o}))};return t}(s.PureComponent),l.STYLES=p.StyleSheet.create({row:{display:"flex",alignItems:"center"}}),i))||a)||a);t.default=C},"./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/LeaveOrganizations.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i,u,s;var c=n("./node_modules/react/index.js");var p=b(c);var d=n("./node_modules/react-redux/es/index.js");var f=n("./styleguide/index.js");var m=n("./flux/index.js");var h=n("./core/index.js");var y=n("./node_modules/aphrodite/no-important.js");var v=n("./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/LeaveOrganization.js");var g=E(v);function E(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=(r=(0,d.connect)(function(e){var t=e.user;return{userID:t.uid}}),o=m.Connectors.database(function(e){var t=e.userID;return{userMemberships:h.UserMembership.queryByUser(t)}}),r(a=o(a=(i=l=function(e){P(t,e);function t(){var n,r,o;w(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=S(this,e.call.apply(e,[this].concat(l))),r),r.state={isCollapsed:true},r.onToggle=function(){r.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n),S(r,o)}t.prototype.render=function e(){var n=this.props.userMemberships;var r=this.state.isCollapsed;var o=t.STYLES;if(n.isEmpty())return null;return p.createElement(f.Panel,null,p.createElement(f.Panel.Header,{onClick:r?this.onToggle:null},p.createElement(f.Panel.Header.Left,null,p.createElement(f.Panel.Header.Title,null,"Organizations")),p.createElement(f.Panel.Header.Right,null,p.createElement(f.Panel.Toggle,{isCollapsed:r,onClick:r?null:this.onToggle}))),!r&&p.createElement(f.Panel.Body,{styles:o.container},n.map(function(e){return p.createElement(f.View,{styles:o.row,key:e.uid},p.createElement(g.default,{key:e.uid,orgID:e.uid,userMembership:e}))}).toArray()))};return t}(p.PureComponent),l.STYLES=y.StyleSheet.create({container:(u={padding:0,maxHeight:300,overflow:"auto"},u["@media "+f.MEDIA.TABLET]={padding:0},u),row:(s={display:"flex",alignItems:"center",justifyContent:"space-between",padding:f.spacing.S200+"px "+f.spacing.S300+"px",borderBottom:"solid 1px "+f.colors.GREY_LIGHTEST},s["@media "+f.MEDIA.TABLET]={padding:f.spacing.S200+"px "+f.spacing.S500+"px"},s[":last-child"]={borderBottom:"none"},s)}),i))||a)||a);t.default=x},"./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/LeaveOrganizations.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./website/components/RouteDashboard/RouteAccount/RouteAccount.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=k(a);var i=n("./node_modules/react-helmet/lib/Helmet.js");var u=D(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/react-router-dom/es/index.js");var p=n("./styleguide/index.js");n("./core/index.js");var d=n("./common/index.js");var f=n("./website/components/RouteDashboard/DashboardPage/index.js");var m=D(f);var h=n("./website/components/RouteDashboard/RouteAccount/AccountAvatar.js");var y=D(h);var v=n("./website/components/RouteDashboard/RouteAccount/AccountProfile.js");var g=D(v);var E=n("./website/components/RouteDashboard/RouteAccount/AccountPassword.js");var b=D(E);var w=n("./website/components/RouteDashboard/RouteAccount/AccountGoogle.js");var S=D(w);var P=n("./website/components/RouteDashboard/RouteAccount/AccountGithub.js");var x=D(P);var C=n("./website/components/RouteDashboard/RouteAccount/AccountEmail.js");var j=D(C);var _=n("./website/components/RouteDashboard/RouteAccount/AccountPhone.js");var O=D(_);var T=n("./website/components/RouteDashboard/RouteAccount/LeaveOrganizations/index.js");var R=D(T);var L=n("./website/components/RouteDashboard/RouteAccount/AccountDangerZone/index.js");var A=D(L);function D(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=(r=(0,s.connect)(function(e){var t=e.user;return{user:t}}),r(o=function(e){B(t,e);function t(){I(this,t);return M(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.user;if(!t.isLoggedIn)return l.createElement(c.Redirect,{to:"/login"});return l.createElement(l.Fragment,null,l.createElement(d.BannerContainer,null,l.createElement(d.LegacyBanner,null)),l.createElement(m.default,{active:{route:m.default.ROUTES.ACCOUNT,title:"Account"}},l.createElement(u.default,{title:"Account Settings"}),l.createElement(p.TabsPage.Header,null,l.createElement(p.TabsPage.Header.Title,null,"Account Settings"),l.createElement(p.TabsPage.Header.Desc,null,"Use these settings to make GitBook your own. Control your email and notifications settings.")),l.createElement(y.default,{user:t}),l.createElement(g.default,{user:t}),l.createElement(j.default,{user:t}),l.createElement(b.default,{user:t}),l.createElement(S.default,{user:t}),l.createElement(x.default,{user:t}),l.createElement(R.default,{user:t}),l.createElement(O.default,{user:t}),l.createElement(A.default,{user:t})))};return t}(l.Component))||o);t.default=H},"./website/components/RouteDashboard/RouteOrganization/Billing/CardPanel/CardPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=c(r);var a=n("./styleguide/index.js");var l=n("./core/index.js");var i=n("./website/components/RouteDashboard/RouteOrganization/Billing/CardPanel/CurrentCard.js");var u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){f(t,e);function t(){p(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.onToggle,r=t.isCollapsed,l=t.billingConfig,i=t.upcomingInvoice,s=t.onUpdateCardPopupDisplay,c=t.onCouponPopupDisplay;return o.createElement(a.Panel,null,o.createElement(a.Panel.Header,{onClick:r?n:null},o.createElement(a.Panel.Header.Left,null,o.createElement(a.Panel.Header.Title,null,"Payment method"),r&&l.card&&o.createElement(a.Panel.Header.Hint,null,l.card.brand," - **** ***** ****"," ",l.card.last4)),o.createElement(a.Panel.Header.Right,null,o.createElement(a.Panel.Toggle,{isCollapsed:r}))),!r&&o.createElement(o.Fragment,null,o.createElement(a.Panel.Body,null,o.createElement(u.default,{card:l.card,upcomingInvoice:i})),o.createElement(a.Panel.Footer,null,o.createElement(a.Panel.Footer.Controls,null,o.createElement(a.Button,{kind:"link",onClick:c},"Add coupon"),o.createElement(a.Button,{kind:"primary",onClick:s},"Update credit card")))))};return t}(o.Component);t.default=m},"./website/components/RouteDashboard/RouteOrganization/Billing/CardPanel/CurrentCard.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=P(a);var i=n("./node_modules/aphrodite/no-important.js");n("./core/index.js");var u=n("./styleguide/index.js");var s=n("./website/components/RouteDashboard/RouteOrganization/Billing/common/index.js");var c=n(45);var p=S(c);var d=n(46);var f=S(d);var m=n(47);var h=S(m);var y=n(48);var v=S(y);var g=n(49);var E=S(g);var b=n(50);var w=S(b);function S(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(o=r=function(e){j(t,e);function t(){x(this,t);return C(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,r=n.card,o=n.upcomingInvoice;var a=t.STYLES;return l.createElement(u.View,{styles:[a.container]},l.createElement(u.View,{styles:[a.logo,a["logo"+r.brand],u.View.MARGIN.S400Right]}),l.createElement(u.View,{styles:[a.info]},l.createElement(s.LabelGroup,{label:"CARD NUMBER",content:"**** **** **** "+r.last4}),l.createElement(s.LabelGroup,{label:"EXPIRATION",content:r.expMonth+"/"+r.expYear}),o&&o.coupon&&o.coupon.percentOff&&l.createElement(s.LabelGroup,{label:"COUPON",content:o.coupon.percentOff+"%"})))};return t}(l.Component),r.STYLES=i.StyleSheet.create({container:{display:"flex",alignItems:"center"},info:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",width:"100%"},logo:{backgroundSize:"cover",width:64,height:40},logoVisa:{backgroundImage:"url("+w.default+")"},logoMasterCard:{backgroundImage:"url("+E.default+")"},logoAmericanExpress:{backgroundImage:"url("+p.default+")"},logoDiscover:{backgroundImage:"url("+h.default+")"},logoDinersClub:{backgroundImage:"url("+f.default+")"},logoJCB:{backgroundImage:"url("+v.default+")"}}),o);t.default=_},"./website/components/RouteDashboard/RouteOrganization/Billing/InfoPanel/InfoPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=c(a);var i=n("./node_modules/aphrodite/no-important.js");var u=n("./styleguide/index.js");n("./core/index.js");var s=n("./website/components/RouteDashboard/RouteOrganization/Billing/common/index.js");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){f(t,e);function t(){p(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.billingConfig.billingAddress,a=void 0===o?{}:o,i=r.isCollapsed,c=r.onToggle,p=r.onInfoPopupDisplay;var d=a.organization,f=a.street,m=a.zip,h=a.region,y=a.country,v=a.name,g=a.email,E=a.phone,b=a.vat;var w=[f,m,h,y].filter(Boolean).join(", ");return l.createElement(u.Panel,null,l.createElement(u.Panel.Header,{onClick:i?c:null},l.createElement(u.Panel.Header.Left,null,l.createElement(u.Panel.Header.Title,null,"Billing Details"),i&&l.createElement(u.Panel.Header.Hint,null,d," ",w&&"- "+w)),l.createElement(u.Panel.Header.Right,null,l.createElement(u.Panel.Toggle,{isCollapsed:i}))),!i&&l.createElement(l.Fragment,null,l.createElement(u.Panel.Body,null,l.createElement(u.View,{styles:[n.grid]},d&&l.createElement(s.LabelGroup,{label:"organization",content:d}),v&&l.createElement(s.LabelGroup,{label:"name",content:v}),f&&l.createElement(s.LabelGroup,{label:"billing address",content:w}),g&&l.createElement(s.LabelGroup,{label:"email",content:g}),E&&l.createElement(s.LabelGroup,{label:"phone",content:E}),b&&l.createElement(s.LabelGroup,{label:"VAT",content:b}))),l.createElement(u.Panel.Footer,null,l.createElement(u.Panel.Footer.Controls,null,l.createElement(u.Button,{onClick:p},"Update billing details")))))};return t}(l.Component),r.STYLES=i.StyleSheet.create({grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridRowGap:u.spacing.S200,gridColumnGap:u.spacing.S200}}),o);t.default=m},"./website/components/RouteDashboard/RouteOrganization/Billing/InvoicesPanel/InvoicesPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i,u;var s=n("./node_modules/react/index.js");var c=E(s);var p=n("./node_modules/react-router-dom/es/index.js");var d=n("./node_modules/react-intl/lib/index.es.js");var f=n("./node_modules/aphrodite/no-important.js");var m=n("./icons/index.js");var h=n("./styleguide/index.js");var y=n("./functions/api/Billing/Invoice/Model.js");var v=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(o=r=function(e){S(t,e);function t(){b(this,t);return w(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.onToggle,a=r.isCollapsed,l=r.invoices;var i=l?l[0]:null;return c.createElement(h.Panel,null,c.createElement(h.Panel.Header,{onClick:a?o:null},c.createElement(h.Panel.Header.Left,null,c.createElement(h.Panel.Header.Title,null,"Invoices"),a&&i&&c.createElement(h.Panel.Header.Hint,null,c.createElement(d.FormattedDate,{value:i.date,month:"short",day:"numeric",year:"numeric"}),", ",c.createElement(d.FormattedNumber,{value:i.amountDue/100,style:"currency",currency:i.currency}))),c.createElement(h.Panel.Header.Right,null,c.createElement(h.Panel.Toggle,{isCollapsed:a}))),!l&&!a&&c.createElement(h.Panel.DataGrid.Placeholder,null),l&&!a&&c.createElement(h.Panel.DataGrid,null,c.createElement(h.Panel.DataGrid.Header,null,c.createElement(h.Panel.DataGrid.HeaderCell,{isFirst:true},"Date"),c.createElement(h.Panel.DataGrid.HeaderCell,null,"Amount"),c.createElement(h.Panel.DataGrid.HeaderCell,null)),c.createElement(h.Panel.DataGrid.Body,{styles:n.dataGrid},l.map(function(e){return c.createElement(x,{invoice:e,key:e.id})}))))};return t}(c.Component),r.STYLES=f.StyleSheet.create({dataGrid:{maxHeight:300}}),o);var x=(0,p.withRouter)(a=(i=l=function(e){S(t,e);function t(){var n,r,o;b(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=w(this,e.call.apply(e,[this].concat(l))),r),r.state={isHover:false},r.onMouseLeave=function(){r.setState({isHover:false})},r.onMouseEnter=function(){r.setState({isHover:true})},r.onClick=function(){var e=r.props,t=e.history,n=e.invoice;t.push("./billing/"+n.id)},n),w(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props.invoice;var o=this.state.isHover;return c.createElement(h.Panel.DataGrid.Row,{styles:[n.row],onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},c.createElement(h.Panel.DataGrid.Cell,{label:"Date"},c.createElement(d.FormattedDate,{value:r.date,day:"numeric",month:"short",year:"numeric"})),c.createElement(h.Panel.DataGrid.Cell,{label:"Amount"},c.createElement(d.FormattedNumber,{value:r.amountDue/100,style:"currency",currency:r.currency})),c.createElement(h.Panel.DataGrid.Cell,null,c.createElement(h.View,{styles:[n.icon,o&&n.iconHover]},c.createElement(m.IconDownload,null))))};return t}(c.Component),l.STYLES=f.StyleSheet.create({icon:(u={},u["@media "+h.MEDIA.TABLET]={width:40,marginLeft:"auto",textAlign:"center"},u),iconHover:{color:h.colors.BLUE_BASE}}),i))||a;t.default=P},"./website/components/RouteDashboard/RouteOrganization/Billing/PlansPanel/NonProfitPlansPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=m(a);var i=n("../node_modules/querystring-es3/index.js");var u=f(i);var s=n("./node_modules/react-router-dom/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./styleguide/index.js");var d=n("./icons/index.js");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(o=r=function(e){v(t,e);function t(){h(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.type,a=r.isCollapsed,i=r.onToggle;var c={nonprofit:"non-profit",opensource:"open-source",education:"education"}[o];var f="http://twitter.com/home?"+u.default.stringify({status:"Thank you @GitBookIO 🙌 for hosting our #docs ! https://www.gitbook.com"});return l.createElement(p.Panel,null,l.createElement(p.Panel.Header,{onClick:a?i:null},l.createElement(p.Panel.Header.Left,null,l.createElement(p.Panel.Header.Title,null,"Plan")),l.createElement(p.Panel.Header.Right,null,!a&&l.createElement(p.Panel.Header.Hint,{styles:[n.info]},l.createElement(p.Link,{to:"/pricing",component:s.Link,styles:[n.pricingLink]},l.createElement(p.Button,{kind:"link",icon:l.createElement(d.IconInfoCircle,null)},"Learn more about pricing"))),l.createElement(p.Panel.Toggle,{isCollapsed:a}))),!a&&l.createElement(p.Panel.Body,null,l.createElement(p.View,{styles:n.blankPanel},l.createElement(p.View,null,l.createElement(p.View,{styles:[p.View.MARGIN.S200Bottom]},l.createElement(p.Text.TextH400,null,"GitBook is happy to support your"," ",l.createElement(p.Text.UIH400,{style:{color:p.colors.BLACK}},c)," ","organization. Enjoy it for free !")),l.createElement(p.View,null,l.createElement(p.Button,{icon:l.createElement(d.IconHeart,{styles:[n.heartIcon]}),kind:"secondary",component:"a",href:f,target:"_blank"},"Share your love on Twitter!"))))))};return t}(l.Component),r.STYLES=c.StyleSheet.create({blankPanel:{padding:"120px 0px",display:"flex",justifyContent:"center",textAlign:"center",color:p.colors.GREY_DARK,alignItems:"center"},heartIcon:{color:p.colors.RED_BASE}}),o);t.default=g},"./website/components/RouteDashboard/RouteOrganization/Billing/PlansPanel/PlanCard.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PlanCardBusiness=t.PlanCardStartup=t.PlanCardFree=t.PlanCard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,l,i,u,s,c,p,d,f;var m=n("./node_modules/react/index.js");var h=b(m);var y=n("./node_modules/aphrodite/no-important.js");var v=n("./core/index.js");var g=n("./styleguide/index.js");var E=n("./website/components/RouteDashboard/RouteOrganization/Billing/common/index.js");function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=(o=g.Skeleton.connectToSkeleton(),o(a=(i=l=function(e){P(t,e);function t(){var n,r,o;w(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=S(this,e.call.apply(e,[this].concat(l))),r),r.state={isHover:false},r.onMouseEnter=function(){r.setState({isHover:true})},r.onMouseLeave=function(){r.setState({isHover:false})},r.onSwitch=function(e){e.preventDefault();var t=r.props,n=t.billingConfig,o=t.type,a=t.onSwitchPlan;if(!n||!a||n.plan===o)return;a(o)},n),S(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.type,a=r.billingConfig,l=r.onSwitchPlan,i=r.isLoading;var u=this.state.isHover;var s=v.BILLING.BILLING_SPEC[o];var c=s.priceByMemberMonthly||s.price;var p=E.PLANS[o].title;var d=E.PLANS[o].priceInfo;var f=a?a.activePlan:"free";var m=!!a&&("free"===a.plan&&"free"!==a.activePlan);var y=(v.BillingConfig.isUpgrade(a.plan,o)||v.BillingConfig.isDowngrade(a.plan,o))&&l;var b=f===o&&!m&&!i;return h.createElement(g.View,{role:"button",tabIndex:0,styles:[n.card,y&&n.interactiveCard],onClick:y?this.onSwitch:null,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},h.createElement(g.View,{styles:[n.container,b&&n.active,g.View.PADDING.S300,g.View.PADDING.S400Vertical]},h.createElement(C,{title:p,price:c,priceInfo:d,active:b}),h.createElement(j,{plan:o,nbUsers:s.members,nbPublicSpaces:s.publicSpaces,nbPrivateSpaces:s.privateSpaces})),h.createElement(_,{isHover:u,previousPlan:a.plan,plan:o,active:b,disabled:!l}))};return t}(h.Component),l.defaultProps={billingConfig:null,onSwitchPlan:null},l.STYLES=y.StyleSheet.create({card:{display:"flex",flexDirection:"column",position:"relative",textAlign:"center",background:g.colors.WHITE,boxShadow:g.boxes.SHADOW_LOW},container:{flex:"1 0 auto",border:"1px solid "+g.colors.GREY_LIGHT,borderBottom:0,color:g.colors.GREY_BASE,borderTopLeftRadius:g.boxes.RADIUS_NORMAL,borderTopRightRadius:g.boxes.RADIUS_NORMAL},interactiveCard:{cursor:"pointer",":hover":{borderColor:g.colors.GREY_LIGHT,boxShadow:g.boxes.SHADOW_HIGH}},active:{backgroundColor:g.colors.BLUE_BASE,color:g.colors.BLUE_LIGHTER}}),i))||a);var C=(s=u=function(e){P(t,e);function t(){w(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.title,a=r.price,l=r.priceInfo,i=r.active;return h.createElement(g.View,{styles:[n.header,i&&n.active]},h.createElement(g.View,{styles:[g.View.MARGIN.S100Bottom]},h.createElement(g.Text.TextH500,null,o)),h.createElement(g.View,null,h.createElement(g.Text.DisplayH800,null,a>0?h.createElement(g.Text.DisplayH800,null,h.createElement(g.Text.TextH400,{styles:[n.currency]},"$"),a,h.createElement(g.Text.TextH400,null,"/user")):0)),h.createElement(g.View,null,l&&h.createElement(g.View,null,h.createElement(g.Text.TextH200,{styles:[n.priceInfo,i&&n.priceInfoActive]},l))))};return t}(h.Component),u.defaultProps={priceInfo:null},u.STYLES=y.StyleSheet.create({currency:{verticalAlign:"text-top"},header:{color:g.colors.BLUE_BASE,minHeight:110},active:{backgroundColor:g.colors.BLUE_BASE,color:g.colors.WHITE},priceInfo:{color:g.colors.GREY_BASE},priceInfoActive:{color:g.colors.BLUE_LIGHTER}}),s);var j=(p=c=function(e){P(t,e);function t(){w(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.nbUsers,a=r.nbPublicSpaces,l=r.nbPrivateSpaces,i=r.plan;if("v2_business"===i)return h.createElement(g.View,{styles:[n.body,g.View.MARGIN.S200Top]},h.createElement(g.View,null,h.createElement(g.Text.TextH200,null,"Startup plan ",h.createElement("b",null,"+"))),h.createElement(g.View,null,h.createElement(g.Text.TextH200,null,"Private Sharing")),h.createElement(g.View,null,h.createElement(g.Text.TextH200,null,"Advanced Branding")));return h.createElement(g.View,{styles:[n.body,g.View.MARGIN.S200Top]},h.createElement(g.View,null,h.createElement(g.Text.TextH200,null,h.createElement("b",null,Infinity===o?"Unlimited":o)," ","user",o>1&&"s")),h.createElement(g.View,null,h.createElement(g.Text.TextH200,null,h.createElement("b",null,Infinity===a?"Unlimited":a)," ","public space",a>1&&"s")),h.createElement(g.View,null,h.createElement(g.Text.TextH200,null,h.createElement("b",null,Infinity===l?"Unlimited":l)," ","private space",l>1&&"s")))};return t}(h.Component),c.STYLES=y.StyleSheet.create({body:{marginBottom:"auto"}}),p);var _=(f=d=function(e){P(t,e);function t(){w(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props.isHover;var r=t.STYLES;var o=this.props,a=o.active,l=o.disabled,i=o.previousPlan,u=o.plan;if(a)return h.createElement(g.View,{styles:[r.footer,r.active]},h.createElement(g.Text,null,"Current Plan"));if(l)return h.createElement(g.View,{styles:[r.footer]},h.createElement(g.Text,null,"Coming Soon"));if(v.BillingConfig.isUpgrade(i,u))return h.createElement(g.View,{styles:[r.footer,r.upgrade]},h.createElement(g.Text,null,"Upgrade"));if(n&&v.BillingConfig.isDowngrade(i,u))return h.createElement(g.View,{styles:[r.footer]},h.createElement(g.Text,null,"Downgrade"));return h.createElement(g.View,{styles:[r.footer,r.emptyFooter]})};return t}(h.Component),d.STYLES=y.StyleSheet.create({active:{backgroundColor:g.colors.BLUE_BASE,color:g.colors.WHITE,borderTop:"solid 1px "+g.colors.BLUE_LIGHT},emptyFooter:{borderTop:0},footer:{minHeight:45,padding:g.spacing.S100+"px "+g.spacing.S300+"px",textAlign:"center",border:"solid 1px "+g.colors.GREY_LIGHT,color:g.colors.GREY_BASE},upgrade:{border:"solid 1px "+g.colors.BLUE_BASE,color:g.colors.BLUE_BASE}}),f);var O=function e(t){return h.createElement(x,r({},t,{type:"free"}))};var T=function e(t){return h.createElement(x,r({},t,{type:"v2_startup"}))};var R=function e(t){return h.createElement(x,r({},t,{type:"v2_business",onSwitchPlan:null}))};t.PlanCard=x;t.PlanCardFree=O;t.PlanCardStartup=T;t.PlanCardBusiness=R},"./website/components/RouteDashboard/RouteOrganization/Billing/PlansPanel/PlansPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=m(a);var i=n("./node_modules/react-router-dom/es/index.js");var u=n("./node_modules/react-intl/lib/index.es.js");var s=n("./node_modules/aphrodite/no-important.js");var c=n("./styleguide/index.js");var p=n("./icons/index.js");var d=n("./website/components/RouteDashboard/RouteOrganization/Billing/PlansPanel/PlanCard.js");var f=n("./website/components/RouteDashboard/RouteOrganization/Billing/common/index.js");function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(o=r=function(e){v(t,e);function t(){h(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,r=n.billingConfig,o=n.onSwitchPlan,a=n.isCollapsed,s=n.onToggle,m=n.upcomingInvoice,h=n.orgUsage,y=n.onUpcomingInvoicePopupDisplay;var v=t.STYLES;return l.createElement(c.Panel,null,l.createElement(c.Panel.Header,{onClick:a?s:null},l.createElement(c.Panel.Header.Left,null,l.createElement(c.Panel.Header.Title,null,"Plan"),a&&l.createElement(c.Panel.Header.Hint,null,f.PLANS[r.activePlan].title," ",m&&l.createElement(u.FormattedNumber,{value:m.total/100,style:"currency",currency:m.currency}))),l.createElement(c.Panel.Header.Right,null,!a&&l.createElement(c.Panel.Header.Hint,{styles:[v.info]},l.createElement(c.Link,{to:"/pricing",component:i.Link,styles:[v.pricingLink]},l.createElement(c.Button,{kind:"link",icon:l.createElement(p.IconInfoCircle,null)},"Learn more about pricing"))),l.createElement(c.Panel.Toggle,{isCollapsed:a}))),!a&&l.createElement(l.Fragment,null,l.createElement(c.Panel.Body,null,r.isLegacyPlan()&&l.createElement(c.Alert,{icon:l.createElement(p.IconInfoCircle,null),styles:[c.Alert.STYLES.info,v.alert]},"You're currently on a legacy plan.\n                                            You can migrate on a new plan as\n                                            soon as you want."),"free"===r.plan&&"free"!==r.activePlan&&l.createElement(c.Alert,{icon:l.createElement(p.IconInfoCircle,null),styles:[c.Alert.STYLES.info,v.alert]},"Your "+f.PLANS[r.activePlan].title+" subscription is still active. You will be downgraded to the Free plan at\n                                                the end of the billing period",m&&l.createElement("span",null," (",l.createElement(u.FormattedDate,{value:m.periodEnd,month:"short",day:"numeric",year:"numeric"}),")")),l.createElement(c.View,{styles:[v.plans]},l.createElement(d.PlanCardFree,{billingConfig:r,onSwitchPlan:o}),l.createElement(d.PlanCardStartup,{billingConfig:r,onSwitchPlan:o}),l.createElement(d.PlanCardBusiness,{billingConfig:r,onSwitchPlan:o}))),m&&l.createElement(c.Panel.Footer,{styles:[v.footer]},l.createElement(c.View,null,l.createElement(c.Text.TextH200,null,l.createElement(c.Badge,{styles:[c.Badge.STYLES.primary]},h.membersCount," USERS")," ","in your organization")),l.createElement(c.View,{styles:[v.upcomingInvoice],role:"button",tabIndex:0,onClick:y},l.createElement(c.View,null,l.createElement(c.Text.TextH200,null,"Upcoming Invoice -"," ",l.createElement(u.FormattedDate,{value:m.periodEnd,month:"short",day:"numeric",year:"numeric"}))),l.createElement(c.View,{styles:[v.price,c.View.MARGIN.S100Left]},l.createElement(c.Text.TextH500,null,l.createElement(u.FormattedNumber,{value:m.amountDue/100,style:"currency",currency:m.currency})))))))};return t}(l.Component),r.STYLES=s.StyleSheet.create({pricingLink:{textDecoration:"none"},footer:{color:c.colors.GREY_BASE},upcomingInvoice:{marginLeft:"auto",display:"flex",alignItems:"center",cursor:"pointer"},plans:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridGap:c.spacing.S200},info:{color:c.colors.BLUE_BASE,marginRight:c.spacing.S200},price:{color:c.colors.BLUE_BASE}}),o);t.default=g},"./website/components/RouteDashboard/RouteOrganization/Billing/Popup/UpgradePlanPopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=E(i);var s=n("./node_modules/aphrodite/no-important.js");var c=n("./node_modules/react-stripe-elements/es/index.js");var p=n("./node_modules/react-intl/lib/index.es.js");var d=n("./core/index.js");var f=n("./icons/index.js");var m=n("./styleguide/index.js");var h=n("./website/components/RouteDashboard/RouteOrganization/Billing/common/index.js");var y=n(51);var v=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=(o=r=function(e){P(t,e);function t(){var n=this;var r,o,a;w(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=S(this,e.call.apply(e,[this].concat(i))),o),o.state={error:null,pending:false,isFetchingToken:false,displayCardForm:!o.props.billingConfig.cardID,displayDiscount:false,coupon:""},o.onChange=function(e){if(e.error){o.setState({error:e.error});return}o.setState({error:null})},o.onUpdatePlan=b(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props.onUpdatePlan;r=o.state.coupon;o.setState({pending:true,error:null});n.next=5;return t(r);case 5:case"end":return n.stop()}},e,n)})),o.onUpdateCard=b(regeneratorRuntime.mark(function e(){var t,r,a,l,i;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props,r=t.onUpdateCard,a=t.stripe;l=o.state.coupon;o.setState({isFetchingToken:true,error:null});i=void 0;n.prev=4;n.next=7;return a.createToken();case 7:i=n.sent;if(!i.error){n.next=10;break}throw i.error;case 10:n.next=16;break;case 12:n.prev=12;n.t0=n["catch"](4);o.setState({isFetchingToken:false,error:n.t0});return n.abrupt("return");case 16:o.setState({pending:true});r({token:i.token.id,coupon:l});case 18:case"end":return n.stop()}},e,n,[[4,12]])})),o.onDisplayDiscount=function(){o.setState({displayDiscount:true})},o.onCouponChange=function(e){o.setState({coupon:e.target.value})},r),S(o,a)}t.prototype.componentWillReceiveProps=function e(t){if(this.props.billingConfig.token&&!t.billingConfig.token&&!t.billingConfig.cardID&&t.billingConfig.error){this.setState({error:new Error(t.billingConfig.error),pending:false,isFetchingToken:false});return}if(t.billingConfig.error&&this.props.billingConfig.error!==t.billingConfig.error){this.setState({error:new Error(t.billingConfig.error),pending:false});return}if(t.billingConfig.cardID&&t.billingConfig.activePlan===t.billingConfig.plan&&!t.billingConfig.error){this.setState({pending:false});this.props.onClose();this.props.onInfoPopupDisplay()}};t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.billingConfig,a=r.orgUsage,l=r.onClose,i=r.plan;var s=this.state,c=s.error,p=s.pending,d=s.isFetchingToken,y=s.displayCardForm,v=s.displayDiscount,g=s.coupon;return u.createElement(m.Popup,{isOpened:true,closeOnEsc:true,closeOnOutsideClick:true,onClose:l},u.createElement(m.Modal,{size:m.Modal.SIZES.medium,error:o.error},c&&u.createElement(m.Modal.Status,{styles:[m.View.PADDING.S200Vertical,m.Modal.Status.STYLES.danger]},u.createElement(f.IconAlert,null)," ",c.message),u.createElement(m.Modal.Header,{styles:[n.header]},u.createElement(m.Modal.Title,null,"Upgrade to ",h.PLANS[i].title," plan"),u.createElement(m.View,{styles:[n.logo,n["logo"+i]]})),u.createElement(m.Modal.Body,{styles:[m.View.PADDING.S300Vertical]},y?u.createElement(u.Fragment,null,u.createElement(m.View,{styles:[m.View.PADDING.S100Top,m.View.PADDING.S300Bottom,n.subline,n.row]},u.createElement(m.View,null,u.createElement(m.Text,null,"Please enter your credit card information for upgrading to"," ",h.PLANS[i].title," plan")),u.createElement(m.View,{styles:m.View.MARGIN.S600Left},u.createElement(C,{onDisplayDiscount:this.onDisplayDiscount,orgUsage:a,plan:i}))),u.createElement(m.View,{styles:[n.formLine]},u.createElement(h.CardForm,{onSubmit:this.onUpdateCard,billingConfig:o,onChange:this.onChange}),v&&u.createElement(m.View,{styles:[m.View.MARGIN.S100Left]},u.createElement(m.Form.Input,{type:"text",placeholder:"Coupon code",value:g,onChange:this.onCouponChange})))):u.createElement(m.View,{styles:[m.View.PADDING.S100Vertical,n.subline,n.row]},u.createElement(m.View,null,u.createElement(m.Text,null,"Please confirm to upgrade to"," ",h.PLANS[i].title," plan."),v&&!o.subscriptionID&&u.createElement(m.View,{styles:[m.View.MARGIN.S100Top]},u.createElement(m.Form.Input,{type:"text",placeholder:"Coupon code",value:g,onChange:this.onCouponChange}))),u.createElement(m.View,{styles:m.View.MARGIN.S600Left},u.createElement(C,{onDisplayDiscount:o.subscriptionID?null:this.onDisplayDiscount,orgUsage:a,plan:i})))),u.createElement(m.Modal.Footer,null,u.createElement(m.Button,{kind:"cancel",onClick:l},"Cancel"),u.createElement(m.Button,{onClick:o.cardID?this.onUpdatePlan:this.onUpdateCard},!d&&!p||c?u.createElement(u.Fragment,null,o.cardID?"Upgrade":"Add a card"):u.createElement(m.Loading,null)))))};return t}(u.Component),r.STYLES=s.StyleSheet.create({row:{display:"flex",justifyContent:"space-between"},header:{position:"relative"},subline:{color:m.colors.GREY_BASE},logo:{top:m.spacing.S100,right:m.spacing.S500,position:"absolute",width:84,height:84,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},logov2_startup:{backgroundImage:"url("+v.default+")"},formLine:{display:"flex"}}),o);var C=(l=a=function(e){P(t,e);function t(){var n,r,o;w(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=S(this,e.call.apply(e,[this].concat(l))),r),r.state={isPriceHover:false},r.onMouseEnter=function(){r.setState({isPriceHover:true})},r.onMouseLeave=function(){r.setState({isPriceHover:false})},n),S(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.orgUsage,a=r.plan,l=r.onDisplayDiscount;var i=this.state.isPriceHover;var s=d.BILLING.BILLING_SPEC[a];var c=Math.max(s.membersIncluded,o.membersCount);var h=c*s.priceByMemberMonthly;var y=o.membersCount>s.membersIncluded?o.membersCount+" users in your organization x $"+s.priceByMemberMonthly:"Starting at $"+s.priceByMemberMonthly*s.membersIncluded+"/month which includes your first "+s.membersIncluded+" users";return u.createElement(m.View,{styles:[n.container],onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.createElement(m.View,{styles:n.header},u.createElement(m.Text,null,"Your first invoice")),u.createElement(m.View,{styles:n.content},i&&l&&u.createElement(m.View,{styles:[n.addDiscount,m.View.MARGIN.S100Right]},u.createElement(m.Link,{onClick:l},u.createElement(m.Text.TextH200,null,"Add a discount"))),u.createElement(m.View,null,u.createElement(m.Text.TextH500,{styles:n.price},u.createElement(p.FormattedNumber,{value:h,style:"currency",currency:"usd",minimumFractionDigits:2,maximumFractionDigits:2}))),u.createElement(m.View,{styles:m.View.MARGIN.S100Left},u.createElement(m.Text,{"aria-label":y,styles:[m.tooltip.tooltipped,m.tooltip.bottomLeft]},u.createElement(f.IconHelpCircle,null)))))};return t}(u.Component),a.STYLES=s.StyleSheet.create({container:{minWidth:170},addDiscount:{whiteSpace:"nowrap"},content:{display:"flex",alignItems:"center",justifyContent:"flex-end"},price:{color:m.colors.BLUE_BASE},header:{whiteSpace:"nowrap",textAlign:"right"}}),l);t.default=(0,c.injectStripe)(x)},"./website/components/RouteDashboard/RouteOrganization/SettingsCustomDomain.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=c(a);var i=n("./node_modules/react-redux/es/index.js");var u=n("./node_modules/react-router-dom/es/index.js");var s=n("./styleguide/index.js");n("./core/index.js");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(r=(0,i.connect)(),r(o=(0,u.withRouter)(o=function(e){f(t,e);function t(){var n,r,o;p(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=d(this,e.call.apply(e,[this].concat(l))),r),r.onClick=function(){var e=r.props,t=e.history,n=e.org;t.push("/@"+n.baseDomain+"/domain")},n),d(r,o)}t.prototype.render=function e(){var t=this.props.org;return l.createElement(s.ColorPalette.Brand,null,l.createElement(s.Panel,null,l.createElement(s.Panel.Header,null,l.createElement(s.Panel.Header.Left,null,l.createElement(s.Panel.Header.Title,null,"Custom Domain"),l.createElement(s.Panel.Header.Hint,null,"Setup a custom common domain for all of your organization's projects."))),t.customDomain?l.createElement(s.Form,null,l.createElement(s.Panel.Body,null,l.createElement(s.Form.Input,{disabled:true,value:t.customDomain},l.createElement(s.Form.InputAddOn,{prefix:true},"https://"))),l.createElement(s.Panel.Footer,null,l.createElement(s.Panel.Footer.Controls,null,l.createElement(s.Button,{onClick:this.onClick},"Edit custom domain")))):l.createElement(s.Panel.Body,null,l.createElement(s.Button,{kind:"secondary",onClick:this.onClick},"Add a custom domain"))))};return t}(l.Component))||o)||o);t.default=m},"./website/components/RouteDashboard/RouteOrganization/SettingsDanger/ConfirmDeletePopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=m(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/react-router/es/index.js");var p=n("./node_modules/aphrodite/no-important.js");var d=n("./styleguide/index.js");n("./core/index.js");var f=n("./website/actions/org.js");function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(r=(0,s.connect)(),r(o=(0,c.withRouter)(o=(l=a=function(e){g(t,e);function t(){var n=this;var r,o,a;y(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=v(this,e.call.apply(e,[this].concat(i))),o),o.state={deleteInput:""},o.onConfirmDelete=h(regeneratorRuntime.mark(function e(){var t,r,a,l;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props,r=t.org,a=t.history,l=t.dispatch;n.next=3;return l((0,f.deleteOrganization)(r));case 3:a.push("/");case 4:case"end":return n.stop()}},e,n)})),o.onInputChange=function(e){e.preventDefault();o.setState({deleteInput:e.currentTarget.value})},r),v(o,a)}t.prototype.render=function e(){var n=this.props.onClose;var r=this.state.deleteInput;var o=t.STYLES;return u.createElement(d.Popup,{isOpened:true,closeOnEsc:true,closeOnOutsideClick:true,onClose:n},u.createElement(d.Modal,{size:d.Modal.SIZES.medium},u.createElement(d.Modal.Header,null,u.createElement(d.Modal.Title,null,"Are you sure you want to delete this ?")),u.createElement(d.Modal.Body,null,u.createElement(d.View,{styles:[o.grey,d.View.MARGIN.S300Bottom]},u.createElement(d.View,null,u.createElement(d.Text,null,"Before deleting your organization, please make sure that you have exported a copy of its content. You can also transfer the ownership to another member.")),u.createElement(d.View,null,u.createElement(d.Text,null,"Warning: all content will be definitely erase and members access will be revoked."))),u.createElement(d.Form.Group,{title:"Please type in 'DELETE' to confirm",styles:o.noMargin},u.createElement(d.Form.Input,{value:r,onChange:this.onInputChange}))),u.createElement(d.Modal.Footer,null,u.createElement(d.Button,{kind:"cancel",onClick:n},"Cancel"),u.createElement(d.Button,{kind:"danger",onClick:this.onConfirmDelete,disabled:"DELETE"!==r},"Yes, I'm sure"))))};return t}(u.Component),a.STYLES=p.StyleSheet.create({grey:{color:d.colors.GREY_BASE},noMargin:{margin:0}}),l))||o)||o);t.default=E},"./website/components/RouteDashboard/RouteOrganization/SettingsDanger/ContactUsPopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=c(a);var i=n("./node_modules/aphrodite/no-important.js");var u=n("./common/index.js");var s=n("./styleguide/index.js");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){f(t,e);function t(){var n,r,o;p(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=d(this,e.call.apply(e,[this].concat(l))),r),r.onContactUs=function(){var e=r.props.onClose;(0,u.openSupportDialog)();e()},n),d(r,o)}t.prototype.render=function e(){var n=this.props.onClose;var r=t.STYLES;return l.createElement(s.Popup,{isOpened:true,closeOnEsc:true,closeOnOutsideClick:true,onClose:n},l.createElement(s.Modal,{size:s.Modal.SIZES.medium},l.createElement(s.Modal.Header,null,l.createElement(s.Modal.Title,null,"Delete your organization")),l.createElement(s.Modal.Body,null,l.createElement(s.View,{styles:r.grey},l.createElement(s.Text,null,"Please contact us to delete the organization."))),l.createElement(s.Modal.Footer,null,l.createElement(s.Button,{kind:"cancel",onClick:n},"Cancel"),l.createElement(s.Button,{kind:"primary",onClick:this.onContactUs},"Contact us"))))};return t}(l.Component),r.STYLES=i.StyleSheet.create({grey:{color:s.colors.GREY_BASE}}),o);t.default=m},"./website/components/RouteDashboard/RouteOrganization/SettingsDanger/SettingsDanger.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i,u;var s=n("./node_modules/react/index.js");var c=E(s);var p=n("./node_modules/react-redux/es/index.js");var d=n("./node_modules/aphrodite/no-important.js");n("./core/index.js");var f=n("./styleguide/index.js");var m=n("./website/components/RouteDashboard/RouteOrganization/SettingsDanger/SettingsDelete.js");var h=g(m);var y=n("./website/components/RouteDashboard/RouteOrganization/SettingsDanger/SettingsOrgExport.js");var v=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(r=(0,p.connect)(function(e){var t=e.user;return{user:t}}),r(o=(l=a=function(e){S(t,e);function t(){var n,r,o;b(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=w(this,e.call.apply(e,[this].concat(l))),r),r.state={isCollapsed:true},r.onToggle=function(e){r.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n),w(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.org,a=r.user;var l=this.state.isCollapsed;return c.createElement(f.Panel,null,c.createElement(f.Panel.Header,{onClick:l?this.onToggle:null},c.createElement(f.Panel.Header.Left,null,c.createElement(f.Panel.Header.Title,null,"Danger Zone")),c.createElement(f.Panel.Header.Right,null,c.createElement(f.Panel.Toggle,{isCollapsed:l,onClick:l?null:this.onToggle}))),!l&&c.createElement(f.Panel.Body,{styles:n.container},c.createElement(f.View,{styles:n.row},c.createElement(v.default,{org:o})),o.canSuperAdmin(a)&&c.createElement(f.View,{styles:n.row},c.createElement(h.default,{org:o,user:a}))))};return t}(c.Component),a.STYLES=d.StyleSheet.create({container:(i={padding:0},i["@media "+f.MEDIA.TABLET]={padding:0},i),row:(u={display:"flex",alignItems:"center",justifyContent:"space-between",padding:f.spacing.S200+"px "+f.spacing.S300+"px",borderBottom:"solid 1px "+f.colors.GREY_LIGHTEST},u["@media "+f.MEDIA.TABLET]={padding:f.spacing.S200+"px "+f.spacing.S500+"px"},u[":last-child"]={borderBottom:"none"},u)}),l))||o);t.default=P},"./website/components/RouteDashboard/RouteOrganization/SettingsDanger/SettingsDelete.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i;var u=n("./node_modules/react/index.js");var s=w(u);var c=n("./node_modules/react-redux/es/index.js");var p=n("./node_modules/react-router-dom/es/index.js");var d=n("./node_modules/aphrodite/no-important.js");var f=n("./styleguide/index.js");var m=n("./core/index.js");var h=n("./flux/index.js");var y=n("./website/components/RouteDashboard/RouteOrganization/SettingsDanger/ConfirmDeletePopup.js");var v=b(y);var g=n("./website/components/RouteDashboard/RouteOrganization/SettingsDanger/ContactUsPopup.js");var E=b(g);function b(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(r=(0,c.connect)(),o=h.Connectors.database(function(e){var t=e.org;return{billingConfig:m.BillingConfig.queryByID(t.uid),orgUsage:m.OrgUsage.queryByID(t.uid)}}),r(a=(0,p.withRouter)(a=o(a=(i=l=function(e){x(t,e);function t(){var n,r,o;S(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=P(this,e.call.apply(e,[this].concat(l))),r),r.state={displayConfirm:false,displayContactUs:false},r.displayConfirm=function(){r.setState({displayConfirm:true})},r.closeConfirm=function(){r.setState({displayConfirm:false})},r.displayContactUs=function(){r.setState({displayContactUs:true})},r.closeContactUs=function(){r.setState({displayContactUs:false})},n),P(r,o)}t.prototype.render=function e(){var n=this.props,r=n.org,o=n.billingConfig,a=n.orgUsage,l=n.user;var i=this.state,u=i.displayConfirm,c=i.displayContactUs;var p=t.STYLES;var d=(!o||"free"===o.plan)&&(!a||1===a.membersCount);return s.createElement(s.Fragment,null,s.createElement(f.View,null,s.createElement(f.View,null,s.createElement(f.Text.HeadingH600,null,"Delete Organization")),s.createElement(f.View,null,s.createElement(f.Text.TextH200,{styles:[p.grey]},"Once deleted, it will be gone forever. Please be certain."))),s.createElement(f.View,null,l.isSiteAdmin||d?s.createElement(f.Button,{kind:"danger",size:"small",onClick:this.displayConfirm},"Delete"):s.createElement(f.Button,{kind:"danger",size:"small",onClick:this.displayContactUs},"Delete")),u&&s.createElement(v.default,{org:r,onClose:this.closeConfirm}),c&&s.createElement(E.default,{onClose:this.closeContactUs}))};return t}(s.Component),l.STYLES=d.StyleSheet.create({grey:{color:f.colors.GREY_BASE}}),i))||a)||a)||a);t.default=C},"./website/components/RouteDashboard/RouteOrganization/SettingsDanger/SettingsOrgExport.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=f(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./flux/index.js");n("./core/index.js");var d=n("./styleguide/index.js");function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(r=(0,s.connect)(function(e){var t=e.user;return{user:t}}),r(o=(l=a=function(e){v(t,e);function t(){var n=this;var r,o,a;h(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=y(this,e.call.apply(e,[this].concat(i))),o),o.onClick=m(regeneratorRuntime.mark(function e(){var t,r,a,l;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=o.props,r=t.user,a=t.org,l=t.dispatch;n.next=3;return l(p.Flux.organization.exportContent({org:a,user:r}));case 3:case"end":return n.stop()}},e,n)})),r),y(o,a)}t.prototype.render=function e(){var n=t.STYLES;return u.createElement(u.Fragment,null,u.createElement(d.View,null,u.createElement(d.View,null,u.createElement(d.Text.HeadingH600,null,"Export Content")),u.createElement(d.View,null,u.createElement(d.Text.TextH200,{styles:[n.grey]},"Export organization informations"))),u.createElement(d.View,null,u.createElement(d.Button,{onClick:this.onClick,size:"small",kind:"danger"},"Export")))};return t}(u.Component),a.STYLES=c.StyleSheet.create({grey:{color:d.colors.GREY_BASE}}),l))||o);t.default=g},"./website/components/RouteDashboard/RouteOrganization/SettingsDanger/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./website/components/RouteDashboard/RouteOrganization/SettingsDanger/SettingsDanger.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./website/components/RouteDashboard/RouteOrganization/SettingsLogo.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l,i;var u=n("./node_modules/react/index.js");var s=h(u);var c=n("./node_modules/react-redux/es/index.js");var p=n("./node_modules/aphrodite/no-important.js");var d=n("./styleguide/index.js");var f=n("./common/index.js");var m=n("./website/actions/org.js");function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=p.StyleSheet.create({container:(r={display:"flex",flexDirection:"column"},r["@media "+d.MEDIA.TABLET]={flexDirection:"row"},r),logoWrapper:(o={marginBottom:d.boxes.PADDING_SMALL},o["@media "+d.MEDIA.TABLET]={marginBottom:0},o),logoLoading:{width:94,height:94,fontSize:32,display:"flex",alignItems:"center",justifyContent:"center",color:d.colors.BLUE_BASE},logo:{cursor:"pointer",borderRadius:d.boxes.RADIUS_LARGE},contentWrapper:(a={},a["@media "+d.MEDIA.TABLET]={flex:1,padding:"0px "+d.boxes.PADDING_LARGE+"px"},a)});var w=(l=(0,c.connect)(),l(i=function(e){E(t,e);function t(){var n=this;var r,o,a;v(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=g(this,e.call.apply(e,[this].concat(i))),o),o.state={loading:false,error:null},o.onSelectFile=function(){o.uploader&&d.FileUploader.promptFile(o.uploader)},o.onFiles=function(){var e=y(regeneratorRuntime.mark(function e(t){var r,a,l;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r=o.props,a=r.dispatch,l=r.org;o.setState({loading:true,error:null});n.prev=2;n.next=5;return a((0,m.updateOrgLogo)(l,t[0]));case 5:n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](2);o.setState({error:n.t0});case 10:n.prev=10;o.setState({loading:false});return n.finish(10);case 13:case"end":return n.stop()}},e,n,[[2,7,10,13]])}));return function(t){return e.apply(this,arguments)}}(),r),g(o,a)}t.prototype.componentWillReceiveProps=function e(t){if(t.org.logoURL==this.props.org.logoURL)return;this.setState({loading:false})};t.prototype.render=function e(){var t=this;var n=this.props.org;var r=this.state,o=r.loading,a=r.error;return s.createElement(d.Panel,null,s.createElement(d.Panel.Header,null,s.createElement(d.Panel.Header.Title,null,"Your Organization Logo")),s.createElement(d.Panel.Body,null,a&&s.createElement(d.Alert,{styles:[d.Alert.STYLES.danger]},"Please upload an image that is less than 5MB."),s.createElement(d.FileUploader,{ref:function e(n){t.uploader=n},onFiles:this.onFiles,accept:"image/*"}),s.createElement("div",{className:(0,p.css)(b.container)},o?s.createElement("div",{className:(0,p.css)(b.logoLoading)},s.createElement(d.Loading,null)):s.createElement("div",{className:(0,p.css)(b.logoWrapper)},s.createElement(f.OrgAvatar,{org:n,styles:[f.OrgAvatar.STYLES.sizeXL,b.logo],onClick:this.onSelectFile})),s.createElement("div",{className:(0,p.css)(b.contentWrapper)},s.createElement(d.Button,{kind:"secondary",onClick:this.onSelectFile,disabled:o},"Upload Logo"),s.createElement(d.Form.Hint,null,"This icon will be used to identify your organization in GitBook. It will be visible to members of your organization and your users."),s.createElement(d.Form.Hint,null,s.createElement("b",null,"Some tips:")," Use a graphical logo or image rather than text and upload an image that is 132px square or larger.")))))};return t}(s.Component))||i);t.default=w},"./website/components/RouteDashboard/RouteOrganization/SettingsName.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var l=n("./node_modules/react/index.js");var i=p(l);var u=n("./node_modules/react-redux/es/index.js");var s=n("./styleguide/index.js");var c=n("./website/actions/org.js");function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(r=s.Form.withContext({getValueFromProps:function e(t){var n=t.org;return n.name}}),o=(0,u.connect)(),r(a=o(a=function(e){m(t,e);function t(){var n,r,o;d(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=f(this,e.call.apply(e,[this].concat(l))),r),r.onNameChange=function(e){var t=r.props.onChange;var n=e.currentTarget.value;t(n)},r.onSubmit=function(e){var t=r.props,n=t.org,o=t.value,a=t.dispatch;e.preventDefault();a((0,c.updateOrgName)(n,o))},n),f(r,o)}t.prototype.render=function e(){var t=this.props,n=t.value,r=t.hasChanged;return i.default.createElement(s.Panel,null,i.default.createElement(s.Panel.Header,null,i.default.createElement(s.Panel.Header.Title,null,"Your Organization Name")),i.default.createElement("form",{onSubmit:this.onSubmit},i.default.createElement(s.Panel.Body,null,i.default.createElement(s.Form.Input,{value:n,onChange:this.onNameChange}),i.default.createElement(s.Form.Hint,null,"Your organization's name as displayed in the header and all email correspondances")),r&&i.default.createElement(s.Panel.Footer,null,i.default.createElement(s.Panel.Footer.Controls,null,i.default.createElement(s.Button,{type:"submit"},"Save Changes")))))};return t}(i.default.Component))||a)||a);t.default=h},"./website/components/RouteDashboard/RouteOrganization/SettingsSAML/SAMLSettingsPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=s(r);var a=n("./styleguide/index.js");n("./core/index.js");var l=n("./website/components/RouteDashboard/RouteOrganization/SettingsSAML/SAMLSetupForm.js");var i=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){d(t,e);function t(){var n,r,o;c(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=p(this,e.call.apply(e,[this].concat(l))),r),r.state={isCollapsed:true},r.onToggle=function(){r.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n),p(r,o)}t.prototype.render=function e(){var t=this.props.org;var n=this.state.isCollapsed;if(n)return o.createElement(a.Panel,null,o.createElement(a.Panel.Header,{onClick:this.onToggle},o.createElement(a.Panel.Header.Left,null,o.createElement(a.Panel.Header.Title,null,"Single Sign On (SSO)"),o.createElement(a.Panel.Header.Hint,null,"Get set up with Google Apps, Azure, Okta, OneLogin, or your custom"," ",o.createElement(a.Link,{href:"https://docs.gitbook.com/organization-management/saml",target:"_blank",rel:"noopener noreferrer",kind:"text"},"SAML 2.0 solution"),".")),o.createElement(a.Panel.Header.Right,null,o.createElement(a.Panel.Toggle,{isCollapsed:n}))));return o.createElement(a.Panel,null,o.createElement(a.Panel.Header,null,o.createElement(a.Panel.Header.Left,null,o.createElement(a.Panel.Header.Title,null,"Single Sign On (SSO)"),o.createElement(a.Panel.Header.Hint,null,"Get set up with Google Apps, Azure, Okta, OneLogin, or your custom"," ",o.createElement(a.Link,{href:"https://docs.gitbook.com/organization-management/saml",target:"_blank",rel:"noopener noreferrer",kind:"text"},"SAML 2.0 solution"),".")),o.createElement(a.Panel.Header.Right,null,o.createElement(a.Panel.Toggle,{isCollapsed:n,onClick:this.onToggle}))),o.createElement(i.default,{org:t,onClose:this.onToggle}))};return t}(o.Component);t.default=f},"./website/components/RouteDashboard/RouteOrganization/SettingsSAML/SAMLSetupForm.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,l;var i=n("./node_modules/react/index.js");var u=v(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./styleguide/index.js");var p=n("./core/index.js");var d=n("./flux/index.js");var f=n("./icons/index.js");var m=n("./website/components/RouteDashboard/RouteOrganization/SettingsSAML/SAMLSetupInfos.js");var h=y(m);function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=p.SAMLIdP.create();var P=(r=d.Connectors.database(function(e){var t=e.org;return{config:p.SAMLIdP.queryByOrg(t.uid).defaultsTo(null)}}),o=c.Form.withContext({getValueFromProps:function e(t){var n=t.config;return n||S}}),a=(0,s.connect)(),r(l=o(l=a(l=function(e){w(t,e);function t(n){var r=this;E(this,t);var o=b(this,e.call(this,n));o.onSave=g(regeneratorRuntime.mark(function e(){var t,n,a,l,i;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.props,n=t.org,a=t.value,l=t.dispatch,i=t.onChange;o.setState({loading:true,error:null});r.prev=2;r.next=5;return l(d.Flux.organization.updateSAMLIdP(n,a));case 5:r.next=12;break;case 7:r.prev=7;r.t0=r["catch"](2);o.setState({loading:false,error:r.t0});i(a);return r.abrupt("return");case 12:o.setState({loading:false,editConfig:false,saved:true});case 13:case"end":return r.stop()}},e,r,[[2,7]])}));o.onChangeLabel=function(e){var t=o.props.onChange;var n=e.currentTarget.value;t(function(e){return e.merge({label:n})})};o.onChangeSSOUrl=function(e){var t=o.props.onChange;var n=e.currentTarget.value;t(function(e){return e.merge({ssoURL:n})})};o.onChangeEntityID=function(e){var t=o.props.onChange;var n=e.currentTarget.value;t(function(e){return e.merge({entityID:n})})};o.onCertificateFile=function(e){var t=o.props.onChange;var n=new FileReader;n.onload=function(e){if(2!=e.target.readyState||e.target.error)return;t(function(t){return t.merge({certificate:e.target.result})})};n.readAsText(e[0])};o.onClickUploadCert=function(e){e.preventDefault();o.uploader&&c.FileUploader.promptFile(o.uploader)};o.onClickEditMetadata=function(){o.setState({editConfig:true})};o.onClickDisable=function(){var e=o.props,t=e.org,n=e.config,r=e.dispatch;n&&r(d.Flux.organization.disableSAML(t,n))};o.onClickShowDetails=function(){o.setState({editConfig:false})};o.state={editConfig:!n.config,saved:false,loading:false,error:null};return o}t.prototype.render=function e(){var t=this;var n=this.props,r=n.org,o=n.config,a=n.value;var l=this.state,i=l.error,s=l.loading,p=l.editConfig,d=l.saved;var m=a.ssoURL&&a.entityID&&a.certificate&&a.label;var y=!s&&m&&(!o||o.ssoURL!=a.ssoURL||o.entityID!=a.entityID||o.certificate!=a.certificate||o.label!=a.label);if(!p&&!y&&m)return u.createElement(u.Fragment,null,u.createElement(c.Panel.Body,null,u.createElement(c.Form,null,d&&u.createElement(c.Alert,{styles:[c.Alert.STYLES.success]},"Your Identity Provider configuration has been saved on GitBook, to finalize enter these metadata on your IdP side:"),u.createElement(h.default,{org:r}))),u.createElement(c.Panel.Footer,null,u.createElement(c.Panel.Footer.Controls,null,u.createElement(c.Button.Toolbar,null,u.createElement(c.Button,{type:"button",kind:"secondary",onClick:this.onClickDisable},"Disable"),u.createElement(c.Button,{type:"button",kind:"secondary",onClick:this.onClickEditMetadata},"Edit configuration")))));return u.createElement(u.Fragment,null,u.createElement(c.Panel.Body,null,u.createElement(c.Form,null,i&&u.createElement(c.Alert,{styles:[c.Alert.STYLES.danger]},"An error occurred with your configuration, check that all fields are valid!"),u.createElement(c.FileUploader,{ref:function e(n){t.uploader=n},onFiles:this.onCertificateFile}),u.createElement(c.Form.Group,{title:"Provider Label"},u.createElement(c.Form.Input,{type:"text",placeholder:"Google, OneLogin, Okta",value:a.label,onChange:this.onChangeLabel}),u.createElement(c.Form.Hint,null,"Do you have a nickname for your SSO system? Add it to the Sign in Button!")),u.createElement(c.Form.Group,{title:"SAML SSO URL"},u.createElement(c.Form.Input,{type:"text",placeholder:"https://company-app.okta.com/apps/company/abc123",value:a.ssoURL,onChange:this.onChangeSSOUrl})),u.createElement(c.Form.Group,{title:"Identity Provider Issuer (Entity ID)"},u.createElement(c.Form.Input,{type:"text",placeholder:"https://okta.com/abc123",value:a.entityID,onChange:this.onChangeEntityID})),u.createElement(c.Form.Group,{title:"Public Certificate"},u.createElement(c.Button,{kind:a.certificate?"success":"secondary",styles:[c.Button.STYLES.small],onClick:this.onClickUploadCert},a.certificate&&u.createElement(f.IconCheck,null)," Upload"),u.createElement(c.Form.Hint,null,"Select and upload your entire x.509 certificate here.")))),u.createElement(c.Panel.Footer,null,u.createElement(c.Panel.Footer.Controls,null,m&&!y&&u.createElement(c.Button,{type:"button",kind:"link",onClick:this.onClickShowDetails},"Service provider details"),u.createElement(c.Button,{onClick:this.onSave,disabled:!y},s?u.createElement(c.Loading,null):"Save"))))};return t}(u.Component))||l)||l)||l);t.default=P},"./website/components/RouteDashboard/RouteOrganization/SettingsSAML/SAMLSetupInfos.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var l=d(a);var i=n("./node_modules/urljoin.js/dist/index.js");var u=p(i);var s=n("./node_modules/react-redux/es/index.js");var c=n("./styleguide/index.js");n("./core/index.js");function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(r=(0,s.connect)(function(e){var t=e.config;return{config:t}}),r(o=function(e){h(t,e);function t(){f(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.org,r=t.config;var o=(0,u.default)(r.urls.website,"saml",n.uid);var a=(0,u.default)(o,"assert");var i=(0,u.default)(o,"login");var s=(0,u.default)(o,"metadata.xml");var p=(0,u.default)(r.urls.website,"login",n.baseDomain);return l.createElement(l.Fragment,null,l.createElement(c.Form.Group,{title:"Start URL"},l.createElement(c.Form.Input,{readOnly:true,value:i})),l.createElement(c.Form.Group,{title:"ACS URL"},l.createElement(c.Form.Input,{readOnly:true,value:a})),l.createElement(c.Form.Group,{title:"Entity ID"},l.createElement(c.Form.Input,{readOnly:true,value:s})),l.createElement(c.Form.Group,{title:"Name-id format"},l.createElement(c.Form.Input,{readOnly:true,value:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"})),l.createElement(c.Form.Group,{title:"Sign-in URL"},l.createElement(c.Form.Input,{readOnly:true,value:p}),l.createElement(c.Form.Hint,null,"Share this url with your company employees.")))};return t}(l.Component))||o);t.default=y},"./website/components/RouteDashboard/RouteOrganization/SettingsSAML/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n("./website/components/RouteDashboard/RouteOrganization/SettingsSAML/SAMLSettingsPanel.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./website/components/RouteDashboard/RouteOrganization/SettingsURL.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var l=n("./node_modules/react/index.js");var i=p(l);var u=n("./node_modules/react-redux/es/index.js");var s=n("./styleguide/index.js");n("./core/index.js");var c=n("./website/actions/org.js");function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var l=t[o](a);var i=l.value}catch(e){n(e);return}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(r=s.Form.withContext({getValueFromProps:function e(t){var n=t.org;return n}}),o=(0,u.connect)(function(e){var t=e.config;return{config:t}}),r(a=o(a=function(e){h(t,e);function t(){var n=this;var r,o,a;f(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(r=(o=m(this,e.call.apply(e,[this].concat(i))),o),o.state={isCollapsed:true,error:null},o.onBaseDomainChange=function(e){var t=o.props,n=t.value,r=t.onChange;r(n.setBaseDomain(e.currentTarget.value));o.setState({error:null})},o.onSubmit=function(){var e=d(regeneratorRuntime.mark(function e(t){var r,a,l,i;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r=o.props,a=r.org,l=r.value,i=r.dispatch;t.preventDefault();n.prev=2;n.next=5;return i((0,c.updateOrgBaseDomain)(a,l.baseDomain));case 5:n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](2);o.setState({error:new Error('The "'+l.baseDomain+'" organization URL is already taken :(')});case 10:case"end":return n.stop()}},e,n,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),o.onToggle=function(e){o.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},r),m(o,a)}t.prototype.render=function e(){var t=this.props,n=t.org,r=t.value,o=t.hasChanged,a=t.config;var l=this.state,u=l.isCollapsed,c=l.error;if(u)return i.default.createElement(s.Panel,null,i.default.createElement(s.Panel.Header,{onClick:this.onToggle},i.default.createElement(s.Panel.Header.Left,null,i.default.createElement(s.Panel.Header.Title,null,"Your Organization URL"),i.default.createElement(s.Panel.Header.Hint,null,"Your organization URL is"," ",i.default.createElement("b",null,n.getURL(a.domains.spaces)),".")),i.default.createElement(s.Panel.Header.Right,null,i.default.createElement(s.Panel.Toggle,{isCollapsed:u}))));return i.default.createElement(s.Panel,null,i.default.createElement(s.Panel.Header,null,i.default.createElement(s.Panel.Header.Left,null,i.default.createElement(s.Panel.Header.Title,null,"Your Organization URL"),i.default.createElement(s.Panel.Header.Hint,null,"Your organization URL is"," ",i.default.createElement("b",null,n.getURL(a.domains.spaces)),".")),i.default.createElement(s.Panel.Header.Right,null,i.default.createElement(s.Panel.Toggle,{isCollapsed:u,onClick:this.onToggle}))),i.default.createElement("form",{onSubmit:this.onSubmit},i.default.createElement(s.Panel.Body,null,i.default.createElement(s.Form.Group,{error:c},i.default.createElement(s.Form.Input,{value:r.baseDomain,onChange:this.onBaseDomainChange},i.default.createElement(s.Form.InputAddOn,null,".",a.domains.spaces))),i.default.createElement(s.Form.Hint,null,"You can change your organization’s URL (web address), but out of courtesy to your teammates and other GitBook users, please don’t do this often :)"),i.default.createElement(s.Form.Hint,null,i.default.createElement("b",null,"Note"),": If you change your organization’s URL, GitBook will automatically redirect from the old to the new address. However, you should still make sure your teammates know about the change because the old name will be placed back into the pool and could be used by some other organization in the future.")),o&&i.default.createElement(s.Panel.Footer,null,i.default.createElement(s.Panel.Footer.Controls,null,i.default.createElement(s.Button,{type:"submit",disabled:!!c},"Save Changes")))))};return t}(i.default.Component))||a)||a);t.default=y},"./website/components/SignIn/AuthModal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var l=n("./node_modules/react/index.js");var i=p(l);var u=n("./node_modules/aphrodite/no-important.js");var s=n("./styleguide/index.js");var c=n("./icons/index.js");function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(a=o=function(e){h(t,e);function t(){f(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.title,l=o.status,u=o.children,p=o.error,f=d(o,["title","status","children","error"]);return i.createElement(s.Modal,r({},f,{styles:s.Modal.STYLES.border}),l&&!p&&i.createElement(s.Modal.Status,{styles:[s.Modal.Status.STYLES.info]},l),p&&i.createElement(s.Modal.Status,{styles:[s.Modal.Status.STYLES.danger]},p.message),i.createElement(s.Modal.Header,{styles:[n.header]},i.createElement(s.Modal.Title,{styles:[n.headerTitle]},a),i.createElement(s.View,{styles:[n.gitbookLogo]},i.createElement(c.Logo,null))),u)};return t}(i.Component),o.STYLES=u.StyleSheet.create({header:{display:"flex",flexDirection:"row",alignItems:"center"},headerTitle:{flex:1},gitbookLogo:{fontSize:"42px",color:s.colors.BLUE_BASE}}),a);t.default=y},"./website/components/SignIn/ReauthenticatePopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,l,i;var u=n("./node_modules/react/index.js");var s=b(u);var c=n("./node_modules/react-redux/es/index.js");var p=n("./styleguide/index.js");var d=n("./node_modules/react-router-dom/es/index.js");var f=n("./icons/index.js");var m=n("./node_modules/aphrodite/no-important.js");var h=n("./flux/index.js");var y=n("./website/components/SignIn/AuthModal.js");var v=E(y);var g=n("./website/components/SignIn/errors.js");function E(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=m.StyleSheet.create({popup:{minWidth:400},separator:{position:"relative",borderBottom:"1px solid #f1f1f1",margin:"20px 0"},separatorTitle:{position:"absolute",top:0,left:"50%",transform:"translate(-50%, -50%)",color:p.colors.GREY_BASE,background:"#fff",padding:"0 10px"},oAuthButton:{fontWeight:p.font.WEIGHT_NORMAL,borderColor:"#ccc",marginBottom:10,":last-of-type":{marginBottom:0}},githubLogo:{color:"#24292e",fontSize:18},forgotPassword:{textAlign:"center",margin:p.boxes.PADDING_NORMAL},forgotPasswordText:{color:p.colors.BLUE_BASE}});var C=(o=(0,c.connect)(),o(a=function(e){P(t,e);function t(){w(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.user,o=t.onSuccess;return s.createElement(p.Popup,r({closeOnEsc:true,closeOnOutsideClick:true},this.props),s.createElement("div",{className:(0,m.css)(x.popup)},s.createElement(v.default,{title:"Confirm your identity"},s.createElement(p.Modal.Body,null,s.createElement(j,{onSuccess:o,user:n})))))};return t}(s.Component))||a);var j=(l=(0,c.connect)(),l(i=function(e){P(t,e);function t(){var n,r,o;w(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(n=(r=S(this,e.call.apply(e,[this].concat(l))),r),r.state={error:null,password:""},r.onError=function(e){(0,g.handleException)(e,function(){r.setState({error:e})})},r.onSubmit=function(){var e=r.props,t=e.dispatch,n=e.user,o=e.onSuccess;var a=r.state.password;t(h.Flux.user.reauthenticate(n.email,a)).then(function(){o()}).catch(r.onError)},r.onClickGitHub=function(e){e.preventDefault();var t=r.props,n=t.dispatch,o=t.onSuccess;n(h.Flux.user.reauthenticateWithGithub()).then(function(){o()}).catch(r.onError)},r.onClickGoogle=function(e){e.preventDefault();var t=r.props,n=t.dispatch,o=t.onSuccess;n(h.Flux.user.reauthenticateWithGoogle()).then(function(){o()}).catch(r.onError)},r.onPasswordChange=function(e){r.setState({password:e.currentTarget.value})},n),S(r,o)}t.prototype.componentDidMount=function e(){var t=this;setTimeout(function(){t.passwordInput&&t.passwordInput.focus()},0)};t.prototype.render=function e(){var t=this;var n=this.state,r=n.error,o=n.password;var a=this.props.user;return s.createElement(p.Form,{onSubmit:this.onSubmit},r&&s.createElement(p.Alert,{styles:[p.Alert.STYLES.danger]},r.message),a.hasPassword&&s.createElement("div",null,s.createElement(p.Form.Group,{title:"Password"},s.createElement(p.Form.Input,{type:"password",value:o,inputRef:function e(n){t.passwordInput=n},onChange:this.onPasswordChange})),s.createElement(p.Form.Actions,null,s.createElement(p.Button,{styles:[p.Button.STYLES.block]},"Confirm")),s.createElement("div",{className:(0,m.css)(x.forgotPassword)},s.createElement(d.Link,{className:(0,m.css)(x.forgotPasswordText),to:"/forgot"},s.createElement("span",null,"Forgot Password ?")))),!a.hasPassword&&a.hasGoogleProvider&&s.createElement(p.Button,{kind:"secondary",styles:[p.Button.STYLES.block,x.oAuthButton],onClick:this.onClickGoogle},s.createElement(f.IconGoogleLogo,{color:"svg"})," ",s.createElement("span",null,"Reauthenticate with Google")),!a.hasPassword&&a.hasGithubProvider&&s.createElement(p.Button,{kind:"secondary",styles:[p.Button.STYLES.block,x.githubButton,x.oAuthButton],onClick:this.onClickGitHub},s.createElement(f.IconGitHubLogo,{styles:[x.githubLogo]})," ",s.createElement("span",null,"Reauthenticate with Github")))};return t}(s.Component))||i);t.default=C},"./website/components/SignIn/errors.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=["auth/network-request-failed","auth/too-many-requests","auth/user-disabled","auth/popup-closed-by-user","auth/cancelled-popup-request","auth/requires-recent-login","auth/email-already-in-use","auth/weak-password","auth/account-exists-with-different-credential","auth/invalid-email","auth/user-not-found","auth/wrong-password","auth/user-disabled","auth/too-many-requests","auth/expired-action-code","auth/invalid-verification-code","auth/code-expired","auth/invalid-phone-number"];var o=["auth/popup-closed-by-user","auth/cancelled-popup-request"];var a={"auth/code-expired":"The SMS code has expired. Please try again.","auth/invalid-verification-code":"The SMS verification code entered is invalid.","auth/invalid-phone-number":"The format of the phone number provided is incorrect.","auth/network-request-failed":"A network error has occurred. The service may be blocked by your ISP or in your area."};function l(e){return!(e.code&&r.indexOf(e.code)>-1||e.status&&403===e.status)}function i(e){return!!(e.code&&o.indexOf(e.code)>-1)}function u(e){if(a[e.code])return new Error(a[e.code]);return e}function s(e,t){if(i(e))return;t(u(e));if(l(e))throw e}t.isAuthException=l;t.isIgnoredException=i;t.handleException=s},45:function(e,t,n){e.exports=n.p+"images/e98d429307a1421c45071d7eada35f60.png"},46:function(e,t,n){e.exports=n.p+"images/4d235446dff4f1b9ff282ae80de89d7f.png"},47:function(e,t,n){e.exports=n.p+"images/5cc14b7619e9e9638681c88ce90c72cb.png"},48:function(e,t,n){e.exports=n.p+"images/93ef4865618024eebc8ab78b46de409b.png"},49:function(e,t,n){e.exports=n.p+"images/5186e3f60aa26fab78381660f4c4e167.png"},50:function(e,t,n){e.exports=n.p+"images/de7e8ab023afb1ba9e61366d368f43d8.png"},51:function(e,t,n){e.exports=n.p+"images/d70b6ea6ada17cfa759641997dad9972.svg"}});
//# website-part-07.bf0c8f67.js.map