webpackJsonp([18],{"./node_modules/react-lazy-load/node_modules/fbjs/lib/emptyFunction.js":function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function e(){};o.thatReturns=r;o.thatReturnsFalse=r(false);o.thatReturnsTrue=r(true);o.thatReturnsNull=r(null);o.thatReturnsThis=function(){return this};o.thatReturnsArgument=function(e){return e};e.exports=o},"./node_modules/react-lazy-load/node_modules/fbjs/lib/invariant.js":function(e,t,n){"use strict";var r=function e(t){};false;function o(e,t,n,o,a,i,s,l){r(t);if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,a,i,s,l];var p=0;u=new Error(t.replace(/%s/g,function(){return c[p++]}));u.name="Invariant Violation"}u.framesToPop=1;throw u}}e.exports=o},"./node_modules/react-lazy-load/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},"./space/actions/navigationPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.closePanel=t.togglePageLinkEditPanel=t.openPageLinkCreatePanel=t.togglePageGroupEditPanel=t.openPageGroupCreatePanel=t.toggleReleaseEditPanel=t.openReleaseCreatePanel=void 0;var r=n("./space/constants/ACTIONS.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return{type:o.default.NAVIGATION_PANEL_CREATE_RELEASE,versionID:e}}function s(e){return{type:o.default.NAVIGATION_PANEL_EDIT_RELEASE,versionID:e}}function l(){return{type:o.default.NAVIGATION_PANEL_CREATE_PAGE_GROUP}}function u(e){return{type:o.default.NAVIGATION_PANEL_EDIT_PAGE_GROUP,pageID:e}}function c(e,t){return{type:o.default.NAVIGATION_PANEL_CREATE_PAGE_LINK,parentID:e,index:t}}function p(e){return{type:o.default.NAVIGATION_PANEL_EDIT_PAGE_LINK,pageID:e}}function f(){return{type:o.default.NAVIGATION_PANEL_CLOSE}}t.openReleaseCreatePanel=i;t.toggleReleaseEditPanel=s;t.openPageGroupCreatePanel=l;t.togglePageGroupEditPanel=u;t.openPageLinkCreatePanel=c;t.togglePageLinkEditPanel=p;t.closePanel=f},"./space/components/Content/ConflictsPopup/ConflictsIllustration.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=d(a);var s=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");var u=n("./common/index.js");var c=n(34);var p=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){h(t,e);function t(){v(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.baseRevision,a=r.headRevision,c=r.isPublishConflict;return i.createElement(l.View,{styles:n.schemaWrapper},i.createElement(l.View,{styles:n.side},i.createElement(l.View,{styles:n.avatar},i.createElement(u.UserAvatar,{userID:a.createdBy,styles:[u.UserAvatar.STYLES.sizeSM]})),i.createElement(l.Badge,{styles:[n.originBadge,n.draftBadge]},"Draft")),i.createElement("img",{alt:"Conflicts",src:p.default,className:(0,s.css)(n.illustration)}),i.createElement(l.View,{styles:n.side},i.createElement(l.View,{styles:n.avatar},i.createElement(u.UserAvatar,{userID:o.createdBy,styles:[u.UserAvatar.STYLES.sizeSM]})),i.createElement(l.Badge,{styles:[n.originBadge,c?n.publishedBadge:n.draftBadge]},c?"Published":"Draft")))};return t}(i.Component),r.STYLES=s.StyleSheet.create({schemaWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",marginBottom:l.spacing.S300},illustration:{flex:"0 0 auto",height:84,width:84},side:{position:"relative",flex:"1 1 auto"},avatar:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -100%)"},originBadge:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},draftBadge:{background:l.colors.ORANGE_BASE},publishedBadge:{background:l.colors.GREEN_BASE}}),o);t.default=m},"./space/components/Content/ConflictsPopup/ConflictsModal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=u(r);var a=n("./styleguide/index.js");var i=n("./space/components/Content/ConflictsPopup/ConflictsIllustration.js");var s=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){f(t,e);function t(){c(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.baseRevision,r=t.headRevision,i=t.isPublishConflict,l=t.onStart,u=t.onCancel;return o.createElement(a.ColorPalette.Brand,null,o.createElement(a.Modal,{size:a.Modal.SIZES.small},o.createElement(a.Modal.Header,null,o.createElement(a.Modal.Title,null,"We've detected conflicts")),o.createElement(a.Modal.Body,null,o.createElement(s.default,{baseRevision:n,headRevision:r,isPublishConflict:i}),o.createElement(a.View,null,o.createElement(a.Text.TextH400,{styles:a.Text.COLOR.greyBase},i?"Some recent changes in the published version are conflicting with changes in your draft. Resolve all conflicts before publishing the draft.":"Someone made changes to the draft you were editing, which led to conflicts. Resolve the conflicts before saving your changes."))),o.createElement(a.Modal.Footer,null,o.createElement(a.Button,{kind:"cancel",styles:[a.Button.STYLES.block,a.View.MARGIN.S100Right],onClick:u},"Cancel"),o.createElement(a.Button,{kind:"primary",styles:[a.Button.STYLES.block,a.View.MARGIN.S100Left],onClick:l},"Resolve conflicts"))))};return t}(o.Component);t.default=d},"./space/components/Content/ConflictsPopup/ConflictsPopup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=v(a);var s=n("./node_modules/react-redux/es/index.js");var l=n("./styleguide/index.js");var u=n("./space/components/Content/ConflictsPopup/ConflictsModal.js");var c=d(u);var p=n("./space/actions/edition.js");var f=n("./space/components/Routing/index.js");function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y="";var E=(r=(0,s.connect)(function(e){var t=e.edition,n=e.space;return{conflicts:t.getConflictsState()}}),r(o=(0,f.contentRoutingConnect)(o=function(e){m(t,e);function t(n){g(this,t);var r=h(this,e.call(this,n));r.onCancel=function(){var e=r.props.dispatch;r.dismiss();e((0,p.cancelConflict)())};r.onStartResolution=function(){var e=r.props,t=e.conflicts,n=e.revision,o=e.navigate;r.dismiss();if(!t)return;var a=void 0;var i=n.versions.find(function(e){a=e.page.findPage(function(n){return Boolean(t.getConflict(e,n))});return a});i&&a&&o({toVersion:i.uid,toPage:i.page.getURLOf(a)})};r.state={open:Boolean(n.conflicts)};return r}t.getDerivedStateFromProps=function e(t,n){if(!n.open&&t.conflicts&&t.conflicts.uid!==y)return{open:true};if(n.open&&(!t.conflicts||t.conflicts.uid===y))return{open:false};return null};t.prototype.dismiss=function e(){var t=this.props.conflicts;t&&(y=t.uid);this.setState({open:false})};t.prototype.render=function e(){var t=this.props.conflicts;var n=this.state.open;if(!n)return null;return i.createElement(l.Popup,{isOpened:true,closeOnEsc:true,closeOnOutsideClick:true,onClose:this.onCancel},i.createElement(c.default,{headRevision:t.head,baseRevision:t.base,isPublishConflict:t.isPublish,onStart:this.onStartResolution,onCancel:this.onCancel}))};return t}(i.Component))||o)||o);t.default=E},"./space/components/ControlsBar/ControlsBar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=_(i);var l=n("./node_modules/unstated/lib/unstated.es.js");var u=n("./core/index.js");var c=n("./styleguide/index.js");var p=n("./space/components/Routing/index.js");var f=n("./space/components/ControlsBar/DefaultBar.js");var d=b(f);var v=n("./space/components/ControlsBar/RevisionBar.js");var g=b(v);var h=n("./space/components/ControlsBar/DraftBar.js");var m=b(h);var y=n("./space/components/ControlsBar/DraftEditBar.js");var E=b(y);var P=n("./space/components/ControlsBar/StatePicker/index.js");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(o=c.Skeleton.connectToSkeleton(),(0,p.contentRoutingConnect)(a=o(a=function(e){w(t,e);function t(){j(this,t);return O(this,e.apply(this,arguments))}t.prototype.componentDidUpdate=function e(t){var n=this.props,r=n.contentContext,o=n.statePicker;var a=t.contentContext!==r;var i=Boolean(r.revisionID);var s=o.state.isOpen&&a&&!i;s&&o.toggle(false)};t.prototype.render=function e(){var t=this.props,n=t.contentContext,r=t.revision,o=t.draft,a=t.isLoading;if(a)return null;if(n.revisionID)return r?s.createElement(g.default,{revision:r,draft:o}):null;if(n.draftID){if(!o)return null;return n.editing?s.createElement(E.default,{draft:o}):s.createElement(m.default,{draft:o})}return s.createElement(d.default,null)};return t}(s.PureComponent))||a)||a);var x=function e(t){return s.createElement(l.Subscribe,{to:[P.StatePickerContainer]},function(e){return s.createElement(S,r({statePicker:e},t))})};t.default=x},"./space/components/ControlsBar/DefaultBar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i,s,l;var u=n("./node_modules/react/index.js");var c=O(u);var p=n("./node_modules/react-redux/es/index.js");var f=n("./node_modules/aphrodite/no-important.js");var d=n("./core/index.js");var v=n("./flux/index.js");var g=n("./styleguide/index.js");var h=n("./space/components/ControlsBar/Controls/index.js");var m=n("./space/components/ControlsBar/BarWithStatePicker.js");var y=j(m);var E=n("./space/components/ControlsBar/GitHubSyncIndicator/index.js");var P=j(E);var b=n("./space/components/ControlsBar/Bar.js");var _=j(b);function j(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(r=(0,p.connect)(function(e){var t=e.space,n=e.userCanEdit,r=e.user,o=e.membership,a=e.userIsSiteAdmin;return{space:t,userCanEdit:n,isLoggedIn:r.isLoggedIn,isMember:Boolean(o),userIsSiteAdmin:a}}),o=v.Connectors.database(function(e){var t=e.space;return{revision:d.Revision.queryByID({spaceID:t.uid,revisionID:t.primaryRevision})}}),r(a=o(a=(s=i=function(e){x(t,e);function t(){w(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.space,a=r.userCanEdit,i=r.revision,s=r.isLoggedIn,l=r.isMember,u=r.userIsSiteAdmin;if(!s)return null;if(!l&&!u)return c.createElement(_.default,null);if(!i)return null;return c.createElement(y.default,{revision:i},c.createElement(g.View,{styles:[n.defaultBarHideMobile]},o.hasGitHubSync&&a&&c.createElement(P.default,{space:o}),a&&c.createElement(h.EditButton,null)))};return t}(c.PureComponent),i.STYLES=f.StyleSheet.create({defaultBarHideMobile:(l={display:"flex"},l["@media "+g.MEDIA.SMALLER_THAN_TABLET]={display:"none"},l)}),s))||a)||a);t.default=C},"./space/components/PagesNavigation/Footer/Footer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=p(a);var s=n("./styleguide/index.js");var l=n("./space/components/PagesNavigation/Footer/Trademark.js");var u=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(r=s.Skeleton.connectToSkeleton(),r(o=function(e){v(t,e);function t(){f(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.isLoading,r=t.isLoggedIn;if(n||r)return null;return i.createElement(s.View,{styles:[s.View.MARGIN.S200]},i.createElement(u.default,null))};return t}(i.Component))||o);t.default=g},"./space/components/PagesNavigation/Footer/Trademark.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var l=v(s);var u=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./styleguide/index.js");var f=n("./icons/index.js");var d=n("./space/components/Routing/index.js");function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(r=(0,u.connect)(function(e){var t=e.org;return{baseDomain:t.baseDomain}}),r(o=(i=a=function(e){m(t,e);function t(){var n,r,o;g(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=h(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onMouseEnter=function(){r.setState({isHover:true})},r.onMouseLeave=function(){r.setState({isHover:false})},n),h(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props.baseDomain;var o=this.state.isHover;var a="https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign="+r;return l.createElement(p.View,{styles:[p.View.PADDING.S200,n.trademark]},l.createElement("a",{href:a,target:"_blank",className:(0,c.css)(n.trademarkLogo,n.trademarkPowered,o&&n.trademarkHover),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},l.createElement(f.Logo,null)),l.createElement(p.View,{styles:[n.trademarkContent]},l.createElement(p.View,null,l.createElement(p.Text.TextH200,null,l.createElement("a",{href:a,target:"_blank",className:(0,c.css)(n.trademarkPowered,o&&n.trademarkHover)},l.createElement(p.Text.TextH200,null,"Powered by ",l.createElement("b",null,"GitBook"))))),l.createElement(p.View,null,l.createElement(p.Text.TextH200,null,"Have an account? ",l.createElement(d.SignInLink,{component:"a","data-test":"login",className:(0,c.css)(n.trademarkSignIn)},"Sign in")))))};return t}(l.Component),a.STYLES=c.StyleSheet.create({trademark:{color:p.colors.GREY_BASE,backgroundColor:p.colors.GREY_LIGHTER,display:"flex",alignItems:"center",borderRadius:p.boxes.RADIUS_NORMAL},trademarkLogo:{fontSize:40},trademarkContent:{flex:1,paddingLeft:p.boxes.PADDING_NORMAL},trademarkPowered:{color:"inherit",textDecoration:"none",":hover":{color:p.colors.BLUE_BASE}},trademarkSignIn:{color:"inherit",textDecoration:"none",paddingBottom:"0.1em",borderBottom:"1px solid",":hover":{color:p.colors.BLUE_BASE}},trademarkHover:{color:p.colors.BLUE_BASE}}),i))||o);t.default=y},"./space/components/PagesNavigation/Footer/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Footer=void 0;var r=n("./space/components/PagesNavigation/Footer/Footer.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.Footer=o.default},"./space/components/PagesNavigation/NavButton/DiffIndicator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=u(a);var s=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d={modified:"Modified",added:"Added",removed:"Removed",identical:null};function v(e){return Math.sqrt(3*e*e/4)}var g=(o=r=function(e){f(t,e);function t(){c(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props.diff;return i.createElement(l.View,{component:"span",styles:[n.diffIndicator,n[r],d[r]&&l.tooltip.tooltipped],"aria-label":d[r]})};return t}(i.Component),r.STYLES=s.StyleSheet.create({diffIndicator:{height:8,width:8,marginRight:l.spacing.S100},modified:{width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderBottom:v(10)+"px solid "+l.colors.DIFF_MODIFIED,marginLeft:-1,marginRight:l.spacing.S100-1},added:{borderRadius:"50%",background:l.colors.DIFF_ADDED},removed:{height:3,width:10,marginLeft:-1,marginRight:l.spacing.S100-1,background:l.colors.DIFF_REMOVED},identical:{background:"transparent"}}),o);t.default=g},"./space/components/PagesNavigation/NavButton/NavButton.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s;var l=n("./node_modules/react/index.js");var u=b(l);var c=n("./node_modules/aphrodite/no-important.js");var p=n("./styleguide/index.js");var f=n("./space/components/PagesNavigation/NavButton/NavButtonGrabber.js");var d=P(f);var v=n("./space/components/PagesNavigation/NavButton/NavButtonIcon.js");var g=P(v);var h=n("./space/components/PagesNavigation/NavButton/NavButtonIconOverlay.js");var m=P(h);var y=n("./space/components/PagesNavigation/NavButton/DiffIndicator.js");var E=P(y);function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function _(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(o=p.ColorPalette.connect(["primary"]),o(a=(s=i=function(e){w(t,e);function t(){var n,r,o;j(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=O(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onMouseEnter=function(e){var t=r.props.onMouseEnter;t(e);r.setState({isHover:true})},r.onMouseLeave=function(e){var t=r.props.onMouseLeave;t(e);r.setState({isHover:false})},n),O(r,o)}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.component,i=o.icon,s=o.colorPrimary,l=o.isOpen,c=o.isActive,f=o.isDraggable,v=o.isClickable,g=o.styles,h=o.children,m=o.diff,y=_(o,["component","icon","colorPrimary","isOpen","isActive","isDraggable","isClickable","styles","children","diff"]);var P=this.state.isHover;var b={};l&&(b.color=s);c&&(b.boxShadow="inset 2px 0 0 "+s);return u.createElement(a,r({},y,{styles:[n.navButton,g,v&&n.navButtonClickable,v&&P&&n.navButtonHover,l&&n.navButtonOpen,c&&n.navButtonActive],style:b,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),u.createElement(u.Fragment,null,f&&u.createElement(d.default,{style:{opacity:P?1:0}}),m&&u.createElement(E.default,{diff:m}),u.createElement(p.Text.UIH300,{styles:[n.navButtonLabel]},h),i))};return t}(u.Component),i.Icon=g.default,i.IconOverlay=m.default,i.defaultProps={component:p.View,styles:null,diff:null,icon:null,isDraggable:false,isClickable:true,onMouseEnter:function e(){},onMouseLeave:function e(){}},i.STYLES=c.StyleSheet.create({navButton:{position:"relative",display:"flex",alignItems:"center",textDecoration:"none",color:"inherit",padding:p.spacing.S100-1+"px "+p.spacing.S300+"px "+(p.spacing.S100-1)+"px "+p.spacing.S200+"px",border:"1px solid transparent",borderRight:0},navButtonClickable:{cursor:"pointer"},navButtonHover:{backgroundColor:p.colors.GREY_LIGHTER},navButtonOpen:{backgroundColor:p.colors.WHITE,borderColor:p.colors.GREY_LIGHTER+" !important",":hover":{backgroundColor:p.colors.WHITE,borderColor:p.colors.GREY_LIGHTER}},navButtonActive:{borderLeftWidth:0,paddingLeft:p.spacing.S200+1},navButtonLabel:{flex:1},action:{color:p.colors.GREY_BASE+" !important",":hover":{color:p.colors.GREY_DARKER}},large:{paddingTop:p.spacing.S200,paddingBottom:p.spacing.S200},disabled:{pointerEvents:"none",opacity:.5}}),s))||a);t.default=S},"./space/components/PagesNavigation/NavButton/NavButtonGrabber.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i;var s=n("./node_modules/react/index.js");var l=d(s);var u=n("./node_modules/react-sortable-hoc/dist/commonjs/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./styleguide/index.js");var f=n("./icons/index.js");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(0,u.SortableHandle)(o=(i=a=function(e){h(t,e);function t(){v(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;return l.createElement(p.View,r({},this.props,{component:"span",styles:[n.navButtonGrabber]}),l.createElement(f.IconGrabber,null))};return t}(l.Component),a.STYLES=c.StyleSheet.create({navButtonGrabber:{cursor:"grab",fontSize:18,position:"absolute",top:"50%",left:0,transform:"translate(-100%, -50%)",color:p.colors.GREY_BASE}}),i))||o;t.default=m},"./space/components/PagesNavigation/NavButton/NavButtonIcon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a;var i=n("./node_modules/react/index.js");var s=c(i);var l=n("./node_modules/aphrodite/no-important.js");var u=n("./styleguide/index.js");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(a=o=function(e){v(t,e);function t(){f(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.children,i=p(o,["children"]);return s.createElement(u.View,r({},i,{component:"span",styles:[n.navButtonIcon,i.onClick&&n.navButtonIconClickable]}),a)};return t}(s.Component),o.defaultProps={onClick:null},o.STYLES=l.StyleSheet.create({navButtonIcon:{color:u.colors.GREY_BASE,fontSize:18,lineHeight:1,position:"relative",padding:u.spacing.S100,margin:-u.spacing.S100,marginLeft:0},navButtonIconClickable:{cursor:"pointer",":hover":{color:u.colors.GREY_DARKER}}}),a);t.default=g},"./space/components/PagesNavigation/NavButton/NavButtonIconOverlay.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=u(a);var s=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=(o=r=function(e){f(t,e);function t(){c(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props.children;return i.createElement(l.View,{component:"span",styles:[n.navButtonIconOverlay]},r)};return t}(i.Component),r.STYLES=s.StyleSheet.create({navButtonIconOverlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),o);t.default=d},"./space/components/PagesNavigation/NavButton/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./space/components/PagesNavigation/NavButton/NavButton.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},"./space/components/PagesNavigation/NavigationPanel/CreatePageGroupPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=h(a);var s=n("./node_modules/react-redux/es/index.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var c=n("./space/actions/edition.js");var p=n("./space/actions/navigationPanel.js");var f=n("./space/components/Routing/index.js");var d=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js");var v=g(d);function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(r=(0,s.connect)(),r(o=(0,f.contentRoutingConnect)(o=function(e){E(t,e);function t(){var n,r,o;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=y(this,e.call.apply(e,[this].concat(i))),r),r.state={title:"",errorTitle:null},r.onChangeTitle=function(e){r.setState({title:e.target.value,errorTitle:null})},r.onSubmit=function(){var e=r.props,t=e.version,n=e.navigate,o=e.dispatch;var a=r.state.title;if(!a||!l.Page.isValidTitle(a)){r.setState({errorTitle:new Error("Please enter a valid title")});return}var i=l.Page.createGroup({title:a});var s=o((0,c.createGroup)(t,t.page,i));o((0,p.closePanel)());n({toPage:s})},r.onCancel=function(){var e=r.props.dispatch;e((0,p.closePanel)())},n),y(r,o)}t.prototype.render=function e(){var t=this.state,n=t.title,r=t.errorTitle;return i.createElement(v.default,{title:"Group"},i.createElement(u.Form,{onSubmit:this.onSubmit},i.createElement(u.Form.Group,{title:"Group Title",error:r},i.createElement(u.Form.Input,{hasError:Boolean(r),onChange:this.onChangeTitle,value:n,placeholder:"New Group",autoFocus:true})),i.createElement(v.default.Footer,null,i.createElement(u.Form.Actions,null,i.createElement(u.Form.Actions.Left,null,i.createElement(u.Button,{kind:"cancel",type:"button",onClick:this.onCancel},"Cancel")),i.createElement(u.Form.Actions.Right,null,i.createElement(u.Button,{kind:"primary"},"Save"))))))};return t}(i.Component))||o)||o);t.default=P},"./space/components/PagesNavigation/NavigationPanel/CreatePageLinkPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=g(a);var s=n("./node_modules/react-redux/es/index.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var c=n("./space/actions/edition.js");var p=n("./space/actions/navigationPanel.js");var f=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js");var d=v(f);function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(r=(0,s.connect)(),r(o=function(e){y(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=m(this,e.call.apply(e,[this].concat(i))),r),r.state={title:"",errorTitle:null,url:"",errorURL:null},r.onChangeTitle=function(e){r.setState({title:e.target.value,errorTitle:null})},r.onChangeURL=function(e){r.setState({url:e.target.value,errorURL:null})},r.onSubmit=function(){var e=r.props,t=e.version,n=e.parentID,o=e.index,a=e.dispatch;var i=r.state,s=i.title,u=i.url;var f=s&&l.Page.isValidTitle(s)?null:new Error("Please enter a valid title");var d=u&&l.Page.isValidHref(u)?null:new Error("Please enter a valid URL");if(f||d){r.setState({errorTitle:f,errorURL:d});return}var v=t.page.getByID(n);if(null==v)throw new Error("Cannot insert a page in a non-existing parent");var g=l.Page.createLink({title:s,href:u});a((0,c.insertPage)(t,v,o,g));a((0,p.closePanel)())},r.onCancel=function(){var e=r.props.dispatch;e((0,p.closePanel)())},n),m(r,o)}t.prototype.render=function e(){var t=this.state,n=t.title,r=t.errorTitle,o=t.url,a=t.errorURL;return i.createElement(d.default,{title:"External Link"},i.createElement(u.Form,{onSubmit:this.onSubmit},i.createElement(u.Form.Group,{title:"Link Title",error:r},i.createElement(u.Form.Input,{hasError:Boolean(r),onChange:this.onChangeTitle,value:n,placeholder:"Example",autoFocus:true})),i.createElement(u.Form.Group,{title:"Link URL",error:a},i.createElement(u.Form.Input,{hasError:Boolean(a),onChange:this.onChangeURL,value:o,placeholder:"https://example.com"})),i.createElement(d.default.Footer,null,i.createElement(u.Form.Actions,null,i.createElement(u.Form.Actions.Left,null,i.createElement(u.Button,{kind:"cancel",type:"button",onClick:this.onCancel},"Cancel")),i.createElement(u.Form.Actions.Right,null,i.createElement(u.Button,{kind:"primary"},"Save"))))))};return t}(i.Component))||o);t.default=E},"./space/components/PagesNavigation/NavigationPanel/CreateReleasePanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=h(a);var s=n("./node_modules/react-redux/es/index.js");var l=n("./core/index.js");var u=n("./styleguide/index.js");var c=n("./space/actions/edition.js");var p=n("./space/actions/navigationPanel.js");var f=n("./space/components/Routing/index.js");var d=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js");var v=g(d);function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(r=(0,s.connect)(),r(o=(0,f.contentRoutingConnect)(o=function(e){E(t,e);function t(){var n,r,o;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=y(this,e.call.apply(e,[this].concat(i))),r),r.state={title:"",error:null,isSaved:false},r.onChangeTitle=function(e){r.setState({title:e.target.value,error:null})},r.onCancel=function(){var e=r.props,t=e.revision,n=e.versionID,o=e.dispatch;var a=t.versions.get(n);o((0,c.removeVersion)(a));o((0,p.closePanel)())},r.onSubmit=function(){var e=r.props,t=e.dispatch,n=e.revision,o=e.versionID,a=e.navigate;var i=r.state.title.trim();if(!i){r.setState({error:new Error("Please enter a name for this release.")});return}var s=n.versions.get(o);var u=l.Version.getRef(n.versions,l.Version.normalizeRef(i));t((0,c.updateVersionTitle)(s,i));t((0,c.updateVersionRef)(s,u));r.setState({isSaved:true},function(){a({toVersion:u});t((0,p.toggleReleaseEditPanel)(u))})},n),y(r,o)}t.prototype.componentWillReceiveProps=function e(t){t.versionID!==this.props.versionID&&this.setState({title:""})};t.prototype.componentWillUnmount=function e(){var t=this.props,n=t.revision,r=t.versionID,o=t.dispatch;var a=this.state.isSaved;if(!a){var i=n.versions.get(r);o((0,c.removeVersion)(i))}};t.prototype.render=function e(){var t=this.props,n=t.revision,r=t.versionID;var o=this.state,a=o.title,s=o.error;var l=n.versions.get(r);return i.createElement(v.default,{title:"New Release"},i.createElement(u.Form,{onSubmit:this.onSubmit},i.createElement(u.Form.Group,{title:"Release Name",error:s},i.createElement(u.Form.Input,{hasError:Boolean(s),onChange:this.onChangeTitle,value:a,placeholder:l.title,autoFocus:true})),i.createElement(v.default.Footer,null,i.createElement(u.Form.Actions,null,i.createElement(u.Form.Actions.Left,null,i.createElement(u.Button,{kind:"cancel",type:"button",onClick:this.onCancel},"Cancel")),i.createElement(u.Form.Actions.Right,null,i.createElement(u.Button,{kind:"primary"},"Save"))))))};return t}(i.Component))||o)||o);t.default=P},"./space/components/PagesNavigation/NavigationPanel/EditPageGroupPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=y(a);var s=n("./node_modules/react-redux/es/index.js");var l=n("./node_modules/react-custom-debounced-input/lib/index.js");var u=m(l);var c=n("./core/index.js");var p=n("./styleguide/index.js");var f=n("./icons/index.js");var d=n("./space/actions/edition.js");var v=n("./space/actions/navigationPanel.js");var g=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js");var h=m(g);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(r=(0,s.connect)(function(e){var t=e.edition;return{isShowingOnlyConflicts:t.isShowingOnlyConflicts}}),r(o=function(e){b(t,e);function t(){var n,r,o;E(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=P(this,e.call.apply(e,[this].concat(i))),r),r.state={errorTitle:null,errorPath:null},r.normalizePath=function(e){var t=e.target.value.replace(/\s/g,"-");if(!t)return t;if(t.endsWith("-"))return t;return c.Page.normalizePath(t)},r.moveGroup=function(e){var t=r.props,n=t.dispatch,o=t.version,a=t.pageID;var i=o.page.getByID(a);if(null==i)throw new Error("Cannot move up a group that doesn't exist");var s=o.page.getParentOf(i);if(null==s)throw new Error("Cannot move up a group that doesn't have a parent");var l=Math.min(s.pages.size-1,Math.max(0,s.getIndexOf(i)+e));n((0,d.movePage)(o,i,s,l))},r.onMoveUp=function(){return r.moveGroup(-1)},r.onMoveDown=function(){return r.moveGroup(1)},r.onChangeTitle=function(e){var t=r.props,n=t.version,o=t.pageID,a=t.dispatch;var i=n.page.getByID(o);if(null==i)throw new Error("Cannot change title of a group that doesn't exist");if(!c.Page.isValidTitle(e)){r.setState({errorTitle:new Error("Please enter a valid title")},function(){r.errorTitleTimeout=setTimeout(function(){r.setState({errorTitle:null})},6e3)});return}a((0,d.updatePageTitle)(n,i,e))},r.onChangePath=function(e){var t=r.props,n=t.dispatch,o=t.version,a=t.pageID;var i=o.page.getByID(a);if(null==i)throw new Error("Cannot change path of a group that doesn't exist");if(!e){r.setState({errorPath:new Error("Please enter a valid path")},function(){r.errorPathTimeout=setTimeout(function(){r.setState({errorPath:null})},6e3)});return}n((0,d.updatePagePath)(o,i,e))},r.onDelete=function(){var e=r.props,t=e.dispatch,n=e.version,o=e.pageID;var a=n.page.getByID(o);if(null==a)throw new Error("Cannot delete a group that doesn't exist");t((0,d.removePage)(n,a));t((0,v.closePanel)())},n),P(r,o)}t.prototype.componentWillUnmount=function e(){if(this.errorTitleTimeout){clearTimeout(this.errorTitleTimeout);this.errorTitleTimeout=null}if(this.errorPathTimeout){clearTimeout(this.errorPathTimeout);this.errorPathTimeout=null}};t.prototype.render=function e(){var t=this.props,n=t.version,r=t.pageID,o=t.isShowingOnlyConflicts;var a=this.state,s=a.errorTitle,l=a.errorPath;var c=n.page.getByID(r);if(null==c)throw new Error("Cannot edit a group that doesn't exist");var d=n.page.getParentOf(c);if(null==d)throw new Error("Cannot edit a group that doesn't have a parent");var v=d.getIndexOf(c);var g=d.pages.slice(0,v).some(function(e){return e.isGroup});var m=v<d.pages.size-1;return i.createElement(h.default,{title:"Group"},i.createElement(p.Form,null,i.createElement(p.Form.Group,{title:"Group Title",error:s},i.createElement(u.default,{refProp:"inputRef",component:p.Form.Input,onChange:this.onChangeTitle,value:c.title,placeholder:c.title})),i.createElement(p.Form.Group,{title:"Group Path",error:l},i.createElement(u.default,{refProp:"inputRef",component:p.Form.Input,onBeforeChange:this.normalizePath,onChange:this.onChangePath,value:c.path,placeholder:c.path}))),i.createElement(h.default.Footer,null,i.createElement(h.default.Footer.Menu,null,i.createElement(h.default.Footer.Menu.Item,{icon:i.createElement(f.IconArrowUp,null),onClick:this.onMoveUp,disabled:!g||o},"Move up"),i.createElement(h.default.Footer.Menu.Item,{icon:i.createElement(f.IconArrowDown,null),onClick:this.onMoveDown,disabled:!m||o},"Move down"),i.createElement(h.default.Footer.Menu.Item,{icon:i.createElement(f.IconTrashcan,null),onClick:this.onDelete},"Delete this group"))))};return t}(i.Component))||o);t.default=_},"./space/components/PagesNavigation/NavigationPanel/EditPageLinkPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=y(a);var s=n("./node_modules/react-redux/es/index.js");var l=n("./node_modules/react-custom-debounced-input/lib/index.js");var u=m(l);var c=n("./core/index.js");var p=n("./styleguide/index.js");var f=n("./icons/index.js");var d=n("./space/actions/edition.js");var v=n("./space/actions/navigationPanel.js");var g=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js");var h=m(g);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(r=(0,s.connect)(),r(o=function(e){b(t,e);function t(){var n,r,o;E(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=P(this,e.call.apply(e,[this].concat(i))),r),r.state={errorTitle:null,errorURL:null},r.onChangeTitle=function(e){var t=r.props,n=t.version,o=t.pageID,a=t.dispatch;var i=n.page.getByID(o);if(null==i)throw new Error("Cannot change title of a page that doesn't exist");if(!c.Page.isValidTitle(e)){r.setState({errorTitle:new Error("Please enter a valid title")},function(){r.errorTitleTimeout=setTimeout(function(){r.setState({errorTitle:null})},6e3)});return}a((0,d.updatePageTitle)(n,i,e))},r.onChangeURL=function(e){var t=r.props,n=t.dispatch,o=t.version,a=t.pageID;var i=o.page.getByID(a);if(null==i)throw new Error("Cannot change path of a page that doesn't exist");if(!e||!c.Page.isValidHref(e)){r.setState({errorURL:new Error("Please enter a valid URL")},function(){r.errorURLTimeout=setTimeout(function(){r.setState({errorURL:null})},6e3)});return}n((0,d.updatePage)(o,i.merge({href:e})))},r.onDelete=function(){var e=r.props,t=e.dispatch,n=e.version,o=e.pageID;var a=n.page.getByID(o);if(null==a)throw new Error("Cannot delete a page that doesn't exist");t((0,d.removePage)(n,a));t((0,v.closePanel)())},n),P(r,o)}t.prototype.componentWillUnmount=function e(){if(this.errorTitleTimeout){clearTimeout(this.errorTitleTimeout);this.errorTitleTimeout=null}if(this.errorURLTimeout){clearTimeout(this.errorURLTimeout);this.errorURLTimeout=null}};t.prototype.render=function e(){var t=this.props,n=t.version,r=t.pageID;var o=this.state,a=o.errorTitle,s=o.errorURL;var l=n.page.getByID(r);if(null==l)throw new Error("Cannot edit a page that doesn't exist");return i.createElement(h.default,{title:"External Link"},i.createElement(p.Form,null,i.createElement(p.Form.Group,{title:"Link Title",error:a},i.createElement(u.default,{refProp:"inputRef",component:p.Form.Input,onChange:this.onChangeTitle,value:l.title,placeholder:l.title})),i.createElement(p.Form.Group,{title:"Link URL",error:s},i.createElement(u.default,{refProp:"inputRef",component:p.Form.Input,onChange:this.onChangeURL,value:l.href,placeholder:l.href}))),i.createElement(h.default.Footer,null,i.createElement(h.default.Footer.Menu,null,i.createElement(h.default.Footer.Menu.Item,{icon:i.createElement(f.IconTrashcan,null),onClick:this.onDelete},"Delete this link"))))};return t}(i.Component))||o);t.default=_},"./space/components/PagesNavigation/NavigationPanel/EditReleasePanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var o,a;var i=n("./node_modules/react/index.js");var s=P(i);var l=n("./node_modules/react-redux/es/index.js");var u=n("./node_modules/react-custom-debounced-input/lib/index.js");var c=E(u);var p=n("./core/index.js");var f=n("./styleguide/index.js");var d=n("./icons/index.js");var v=n("./space/actions/edition.js");var g=n("./space/actions/navigationPanel.js");var h=n("./space/components/Routing/index.js");var m=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js");var y=E(m);function E(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(o=(0,l.connect)(),o(a=(0,h.contentRoutingConnect)(a=function(e){j(t,e);function t(){var n,r,o;b(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=_(this,e.call.apply(e,[this].concat(i))),r),r.state={errorPath:null,errorName:null},r.timeoutID=null,r.slugify=function(e){var t=e.target.value;t=t.replace(/\s/g,"-");return p.Version.normalizeRef(t)},r.onUpdateTitle=function(e){var t=r.props.dispatch;var n=r,o=n.version;if(!e){r.setState({errorName:new Error("The name cannot be empty.")},function(){setTimeout(function(){r.setState({errorName:null})},6e3)});return}t((0,v.updateVersionTitle)(o,e.trim()))},r.onUpdatePath=function(e){var t=r.props,n=t.dispatch,o=t.contentContext,a=t.navigate,i=t.revision;var s=r,l=s.version;var u=p.Version.getRef(i.versions,e);e!==u&&r.setState({errorPath:new Error('The path "'+e+'" is already taken.')},function(){r.timeoutID=setTimeout(function(){r.timeoutID=null;r.setState({errorPath:null})},6e3)});n((0,v.updateVersionRef)(l,u));l.uid===o.versionID&&a({toVersion:p.Version.pathFromUid(u)});n((0,g.toggleReleaseEditPanel)(u))},r.onSetPrimary=function(){var e=r.props,t=e.dispatch,n=e.contentContext,o=e.navigate;var a=r,i=a.version;t((0,v.markVersionAsPrimary)(i));n.versionID===i.uid&&o({toPrimaryVersion:true})},r.onDelete=function(){var e=r.props.dispatch;var t=r,n=t.version;e((0,v.removeVersion)(n));e((0,g.closePanel)())},n),_(r,o)}t.prototype.componentWillUnmount=function e(){this.timeoutID&&clearTimeout(this.timeoutID)};t.prototype.render=function e(){var t=this.props.revision;var n=this.state,r=n.errorPath,o=n.errorName;var a=this.version;var i=t.primaryVersionID===a.uid;return s.createElement(y.default,{title:"Release"},s.createElement(f.Form,null,s.createElement(f.Form.Group,{title:"Release Name",error:o},s.createElement(c.default,{refProp:"inputRef",component:f.Form.Input,onChange:this.onUpdateTitle,value:a.title,placeholder:"Version 2.0"})),s.createElement(f.Form.Group,{title:"Release Path",error:r},s.createElement(c.default,{refProp:"inputRef",component:f.Form.Input,onBeforeChange:this.slugify,onChange:this.onUpdatePath,value:a.path,placeholder:"/v2"}))),!i&&s.createElement(y.default.Footer,null,s.createElement(y.default.Footer.Menu,null,s.createElement(y.default.Footer.Menu.Item,{icon:s.createElement(d.IconStar,null),onClick:this.onSetPrimary},"Set as main release"),s.createElement(y.default.Footer.Menu.Item,{icon:s.createElement(d.IconTrashcan,null),onClick:this.onDelete},"Delete this release"))))};r(t,[{key:"version",get:function e(){var t=this.props,n=t.revision.versions,r=t.versionID;return n.get(r)}}]);return t}(s.Component))||a)||a);t.default=O},"./space/components/PagesNavigation/NavigationPanel/NavigationPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s,l,u,c,p,f,d;var v=n("./node_modules/react/index.js");var g=b(v);var h=n("./node_modules/react-redux/es/index.js");var m=n("./node_modules/aphrodite/no-important.js");var y=n("./styleguide/index.js");var E=n("./icons/index.js");var P=n("./space/actions/navigationPanel.js");function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function _(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(a=o=function(e){w(t,e);function t(){j(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.children,i=_(o,["children"]);return g.createElement(y.Menu.Item,r({},i,{styles:[n.navigationPanelFooterMenuItem]}),a)};return t}(g.Component),o.STYLES=m.StyleSheet.create({navigationPanelFooterMenuItem:{paddingLeft:y.spacing.S300,paddingRight:y.spacing.S300,":first-child":{marginTop:0}}}),a);var x=(s=i=function(e){w(t,e);function t(){j(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,a=o.children,i=_(o,["children"]);return g.createElement(y.Menu,r({},i,{styles:[n.navigationPanelFooterMenu]}),a)};return t}(g.Component),i.Item=S,i.STYLES=m.StyleSheet.create({navigationPanelFooterMenu:{margin:"0 -"+y.spacing.S300+"px"}}),s);var C=(u=l=function(e){w(t,e);function t(){j(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.styles,a=r.children;return g.createElement(y.View,{styles:[n.navigationPanelFooter,o]},a)};return t}(g.Component),l.Menu=x,l.STYLES=m.StyleSheet.create({navigationPanelFooter:{marginTop:y.spacing.S100,paddingTop:y.spacing.S300,borderTop:"1px solid "+y.colors.GREY_LIGHTER}}),u);var T=(c=(0,h.connect)(),c(p=(d=f=function(e){w(t,e);function t(){var n,r,o;j(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=O(this,e.call.apply(e,[this].concat(i))),r),r.onClose=function(){var e=r.props.dispatch;e((0,P.closePanel)())},n),O(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.title,a=r.children;return g.createElement(y.ColorPalette.Brand,null,g.createElement(y.View,{styles:[n.navigationPanel]},g.createElement(y.View,{styles:[n.navigationPanelHeader]},g.createElement(y.Text.InfoH200,{styles:[n.navigationPanelHeaderTitle]},o),g.createElement(y.Button,{kind:"link",size:"small",onClick:this.onClose,styles:[n.navigationPanelHeaderClose]},g.createElement(E.IconArrowLeft,null))),g.createElement(y.View,{styles:[n.navigationPanelBody]},a)))};return t}(g.Component),f.Footer=C,f.STYLES=m.StyleSheet.create({navigationPanel:{},navigationPanelHeader:{display:"flex",alignItems:"center",padding:y.spacing.S300,borderBottom:"1px solid "+y.colors.GREY_LIGHTER},navigationPanelHeaderTitle:{flex:1,color:y.colors.GREY_DARK},navigationPanelHeaderClose:{color:y.colors.BLACK,marginRight:-y.spacing.S200},navigationPanelBody:{padding:y.spacing.S300}}),d))||p);t.default=T},"./space/components/PagesNavigation/NavigationPanel/NavigationPanelWrapper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i,s;t.isNavigationPanelWrapper=k;var l=n("./node_modules/react/index.js");var u=T(l);var c=n("./node_modules/react-redux/es/index.js");var p=n("./node_modules/aphrodite/no-important.js");var f=n("./styleguide/index.js");var d=n("./space/models/StateNavigationPanel.js");var v=C(d);var g=n("./space/actions/navigationPanel.js");var h=n("./space/components/PagesNavigation/NavigationPanel/CreateReleasePanel.js");var m=C(h);var y=n("./space/components/PagesNavigation/NavigationPanel/EditReleasePanel.js");var E=C(y);var P=n("./space/components/PagesNavigation/NavigationPanel/CreatePageGroupPanel.js");var b=C(P);var _=n("./space/components/PagesNavigation/NavigationPanel/EditPageGroupPanel.js");var j=C(_);var O=n("./space/components/PagesNavigation/NavigationPanel/CreatePageLinkPanel.js");var w=C(O);var S=n("./space/components/PagesNavigation/NavigationPanel/EditPageLinkPanel.js");var x=C(S);function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function I(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function M(e,t){if(e.hasAttribute(t))return true;return!!e.parentElement&&M(e.parentElement,t)}function D(e){return M(e,"data-navigation-panel-opener")}function k(e){return M(e,"data-navigation-panel-wrapper")}var A=(r={},r[v.default.TYPES.CREATE_RELEASE]=m.default,r[v.default.TYPES.EDIT_RELEASE]=E.default,r[v.default.TYPES.CREATE_PAGE_GROUP]=b.default,r[v.default.TYPES.EDIT_PAGE_GROUP]=j.default,r[v.default.TYPES.CREATE_PAGE_LINK]=w.default,r[v.default.TYPES.EDIT_PAGE_LINK]=x.default,r);var B=(o=(0,c.connect)(function(e){var t=e.navigationPanel;return t.toObject()}),o(a=(s=i=function(e){L(t,e);function t(){var n,r,o;R(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=N(this,e.call.apply(e,[this].concat(i))),r),r.onClickOutside=function(e){var t=r.props.dispatch;if(D(e.target))return;t((0,g.closePanel)())},n),N(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.dispatch,a=I(r,["dispatch"]);var i=a.type&&A[a.type];if(null==i)return null;return u.createElement(f.ClickOutside,{onClickOutside:this.onClickOutside},function(e){return u.createElement(f.View,{elementRef:e,styles:[n.navigationPanel],"data-navigation-panel-wrapper":true},u.createElement(i,a))})};return t}(u.Component),i.STYLES=p.StyleSheet.create({navigationPanel:{position:"absolute",top:0,left:"calc(100% + 1px)",height:"100%",width:330,backgroundColor:f.colors.WHITE}}),s))||a);t.default=B},"./space/components/PagesNavigation/NavigationPanel/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isNavigationPanelWrapper=t.NavigationPanelWrapper=void 0;var r=n("./space/components/PagesNavigation/NavigationPanel/NavigationPanelWrapper.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.NavigationPanelWrapper=o.default;t.isNavigationPanelWrapper=r.isNavigationPanelWrapper},"./space/components/PagesNavigation/NavigationWrapper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i,s;var l=n("./node_modules/react/index.js");var u=h(l);var c=n("./node_modules/aphrodite/no-important.js");var p=n("./node_modules/react-redux/es/index.js");var f=n("./styleguide/index.js");var d=n("./space/components/PagesNavigation/Footer/index.js");var v=n("./space/components/styles/index.js");var g=n("./space/components/PagesNavigation/NavigationPanel/index.js");function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(r=(0,p.connect)(function(e){var t=e.user;return{isLoggedIn:t.isLoggedIn}}),r(o=(i=a=function(e){E(t,e);function t(){m(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.revision,a=r.version,i=r.children,s=r.isLoggedIn;return u.createElement(f.StickySidebar,{wrapperStyles:[n.sidebarWrapper],styles:[n.sidebar],query:f.MEDIA.TABLET},u.createElement(f.View,{styles:[n.sidebarMain,f.Scrollable.STYLES.withScrollbar]},u.createElement(f.View,{styles:[n.sidebarInner],"data-scrollable":true},i),s&&u.createElement(f.View,{styles:[n.controlsBarSpace]}),u.createElement(d.Footer,{isLoggedIn:s})),u.createElement(g.NavigationPanelWrapper,{revision:o,version:a}))};return t}(u.Component),a.STYLES=c.StyleSheet.create({sidebarWrapper:{flex:"auto",display:"flex",alignItems:"stretch",width:"100%",height:"100%",flexDirection:"column"},sidebar:{width:"100%",flex:"auto",display:"flex",height:"100%",flexDirection:"column",alignItems:"stretch"},sidebarMain:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:f.colors.GREY_LIGHTEST},sidebarInner:{width:"100%",flex:"1 1 auto",overflowY:"auto",paddingBottom:f.spacing.S300},controlsBarSpace:(s={display:"none"},s["@media "+f.MEDIA.TABLET]={display:"block"},s.position="relative",s.flex="0 0 auto",s.height=2*f.spacing.S300+v.layout.CONTROLSBAR_HEIGHT,s[":before"]={content:'" "',position:"absolute",width:"100%",top:-f.spacing.S300,height:f.spacing.S300,background:"linear-gradient(to bottom, rgba(245,247,249,0) 0%, "+f.colors.GREY_LIGHTEST+" 100%)",filter:"progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='"+f.colors.GREY_LIGHTEST+"',GradientType=0 )"},s)}),i))||o);t.default=P},"./space/components/PagesNavigation/NewGroupButton.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var l=y(s);var u=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./styleguide/index.js");var f=n("./icons/index.js");var d=n("./space/actions/navigationPanel.js");var v=n("./space/components/Routing/index.js");var g=n("./space/components/PagesNavigation/NavButton/index.js");var h=m(g);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(r=(0,u.connect)(),r(o=(0,v.contentRoutingConnect)(o=(i=a=function(e){b(t,e);function t(){var n,r,o;E(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=P(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(){var e=r.props.dispatch;e((0,d.openPageGroupCreatePanel)())},n),P(r,o)}t.prototype.render=function e(){var n=t.STYLES;return l.createElement(h.default,{styles:[h.default.STYLES.action,n.newGroupButton],onClick:this.onClick,icon:l.createElement(h.default.Icon,null,l.createElement(f.IconNewGroup,null))},"New group")};return t}(l.Component),a.STYLES=c.StyleSheet.create({newGroupButton:{borderTop:"1px solid "+p.colors.GREY_LIGHTER}}),i))||o)||o);t.default=_},"./space/components/PagesNavigation/NewPageButton.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var l=P(s);var u=n("./node_modules/aphrodite/no-important.js");var c=n("./node_modules/react-redux/es/index.js");var p=n("./core/index.js");var f=n("./styleguide/index.js");var d=n("./icons/index.js");var v=n("./space/actions/edition.js");var g=n("./space/actions/navigationPanel.js");var h=n("./space/components/Routing/index.js");var m=n("./space/components/PagesNavigation/NavButton/index.js");var y=E(m);function E(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(r=(0,c.connect)(),r(o=(0,h.contentRoutingConnect)(o=(i=a=function(e){j(t,e);function t(){var n,r,o;b(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=_(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onMouseEnter=function(){r.setState({isHover:true})},r.onMouseLeave=function(){r.setState({isHover:false})},r.onClickPage=function(){var e=r.props,t=e.parent,n=e.index,o=e.version,a=e.navigate,i=e.dispatch;var s=p.Page.createUntitled();var l=i((0,v.insertPage)(o,t,n,s));a({toPage:l})},r.onClickExternalLink=function(){var e=r.props,t=e.parent,n=e.index,o=e.dispatch;o((0,g.openPageLinkCreatePanel)(t.uid,n))},n),_(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.parent,a=r.hidden;var i=this.state.isHover;return l.createElement(y.default,{styles:[y.default.STYLES.action,f.View.MARGIN.S300Bottom,n.newPageButton,a&&n.hidden],onClick:this.onClickPage,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,icon:l.createElement(f.Popover.Portal,{openByClickOn:l.createElement(y.default.Icon,null,l.createElement(d.IconPlus,{style:{visibility:i?"hidden":"visible"}}),i&&l.createElement(y.default.IconOverlay,null,l.createElement(d.IconEllipsisH,null))),closeOnOutsideClick:true,closeOnEsc:true},l.createElement(f.Popover,{position:"north",align:"middle"},l.createElement(f.Menu,null,l.createElement(f.Menu.Item,{icon:l.createElement(d.IconExternalLink,null),onClick:this.onClickExternalLink},"New external link"))))},o&&o.isGroup?"New page in group":"New page")};return t}(l.Component),a.STYLES=u.StyleSheet.create({newPageButton:{transition:"opacity 0.2s"},hidden:{opacity:0}}),i))||o)||o);t.default=O},"./space/components/PagesNavigation/PageDocument.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var l=E(s);var u=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./core/index.js");var f=n("./icons/index.js");var d=n("./space/actions/sidebar.js");var v=n("./space/actions/documents.js");var g=n("./space/components/Routing/index.js");var h=n("./space/components/PagesNavigation/NavButton/index.js");var m=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=(r=(0,u.connect)(function(e,t){var n=e.navigationPanel,r=e.edition;var o=t.version,a=t.page,i=t.conflict;return{isNavigationPanelOpen:n.isOpen,isShowingOnlyConflicts:r.isShowingOnlyConflicts,isResolved:i&&r.isPageResolved(o,a)}}),r(o=(i=a=function(e){_(t,e);function t(){var n,r,o;P(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=b(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(){var e=r.props.dispatch;e((0,d.close)())},r.onMouseDown=function(){var e=r.props,t=e.dispatch,n=e.page;n.documentURL&&t((0,v.fetchDocument)(n.documentURL))},r.onToggleExpand=function(e){e.preventDefault();e.stopPropagation();var t=r.props,n=t.page,o=t.onToggleExpand;o&&o(n)},n),b(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.page,a=r.version,i=r.diff,s=r.conflict,u=r.isResolved,c=r.isShowingOnlyConflicts,d=r.isSelected,v=r.readOnly,h=r.isExpanded,y=r.isNavigationPanelOpen,E=r.styles;var P=a.page.uid===o.uid;var b=a.page.getURLOf(o);var _=i&&i.type==p.DiffChange.TYPES.REMOVED;if(_)return l.createElement(m.default,{diff:p.DiffChange.TYPES.REMOVED,isClickable:false,styles:E},o.title);return l.createElement(m.default,{component:g.ContentLink,toPage:b,onClick:this.onClick,onMouseDown:this.onMouseDown,diff:i&&i.type,icon:s&&l.createElement(m.default.Icon,null,u?l.createElement(f.IconCheckCircle,null):l.createElement(f.IconConflict,null))||v&&!P&&o.pages.size>0&&l.createElement(m.default.Icon,{onClick:this.onToggleExpand},l.createElement(f.IconChevronRight,{styles:[h&&n.pageDocumentIconExpanded]})),isOpen:!y&&d,isDraggable:!v&&!P&&!c,styles:E,unstyled:true},o.title)};return t}(l.Component),a.STYLES=c.StyleSheet.create({pageDocumentIconExpanded:{transform:"rotateZ(90deg)"}}),a.defaultProps={onToggleExpand:function e(){},isExpanded:false},i))||o);t.default=j},"./space/components/PagesNavigation/PageFlatList.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=g(r);var a=n("./node_modules/react-sortable-hoc/dist/commonjs/index.js");n("./node_modules/immutable/dist/immutable.js");var i=n("./core/index.js");var s=n("./styleguide/index.js");var l=n("./space/components/PagesNavigation/PageItem.js");var u=v(l);var c=n("./space/components/PagesNavigation/NewPageButton.js");var p=v(c);var f=n("./space/components/PagesNavigation/NewGroupButton.js");var d=v(f);function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){y(t,e);function t(){h(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.readOnly,r=t.isShowingOnlyConflicts,a=t.currentPage,i=t.root,l=t.pages,c=t.version,f=t.expanded,v=t.onToggleExpand,g=t.onInsertPageBefore,h=t.onInsertPageAfter,m=t.onInsertPageInRoot,y=t.isSorting;return o.createElement(s.View,null,o.createElement(u.default,{page:i.page,version:c,diff:i.diff,conflict:i.conflict,isSelected:a&&a.uid==i.page.uid,readOnly:n,depth:i.depth,onInsertPageAfter:r||l.isEmpty()?null:m,styles:[n&&l.size>0&&l.first().isInGroup&&s.View.MARGIN.S300Bottom]}),!n&&!r&&(l.isEmpty()||l.first().isInGroup)&&o.createElement(p.default,{parent:c.page,version:c,hidden:y,index:0}),l.map(function(e,t){var d=l.get(t+1);var m=null==d||d.page.isGroup||e.isInGroup&&!d.isInGroup;var E=e.isInGroup?Math.max(0,e.depth-1):e.depth;var P=l.slice(0,t+1).reverse();var b=P.first().isInGroup?P.find(function(e){var t=e.page;return t.isGroup}):null;var _=void 0;var j=void 0;if(n);else if(b){_=b.page;j=b.page.pages.size}else{var O=P.find(function(e){return 0===e.depth});_=i.page;j=_.getIndexOf(O.page)+1}return o.createElement(o.Fragment,{key:e.key},o.createElement(u.default.Sortable,{index:t,page:e.page,version:c,diff:e.diff,conflict:e.conflict,isSelected:a&&a.uid==e.page.uid,readOnly:n,isExpanded:f.get(e.page.uid,false),onToggleExpand:v,depth:E,onInsertPageBefore:e.page.isGroup||r?null:g,onInsertPageAfter:m||e.page.isGroup||r?null:h,styles:[n&&m&&s.View.MARGIN.S300Bottom]}),!n&&!r&&m&&o.createElement(p.default,{parent:_,index:j,version:c,hidden:y}))}),!n&&!r&&o.createElement(d.default,null))};return t}(o.Component);t.default=(0,a.SortableContainer)(E,{withRef:true})},"./space/components/PagesNavigation/PageGroup.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var l=P(s);var u=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/aphrodite/no-important.js");var p=n("./core/index.js");var f=n("./styleguide/index.js");var d=n("./icons/index.js");var v=n("./space/actions/navigationPanel.js");var g=n("./space/models/StateNavigationPanel.js");var h=E(g);var m=n("./space/components/PagesNavigation/NavButton/index.js");var y=E(m);function E(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(r=(0,u.connect)(function(e,t){var n=e.navigationPanel;var r=t.page;return{isOpen:n.type===h.default.TYPES.EDIT_PAGE_GROUP&&n.pageID===r.uid}}),r(o=(i=a=function(e){j(t,e);function t(){var n,r,o;b(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=_(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onEdit=function(){var e=r.props,t=e.page,n=e.diff,o=e.readOnly,a=e.dispatch;var i=n&&n.type===p.DiffChange.TYPES.REMOVED;var s=!o&&!i;s&&a((0,v.togglePageGroupEditPanel)(t.uid))},r.onMouseEnter=function(){r.setState({isHover:true})},r.onMouseLeave=function(){r.setState({isHover:false})},n),_(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.page,a=r.readOnly,i=r.isOpen,s=r.diff,u=r.styles;var c=this.state.isHover;return l.createElement(y.default,{styles:[n.pageGroup,u],onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,isClickable:false,isOpen:i,diff:s&&s.type,icon:!a&&c&&l.createElement(y.default.Icon,{onClick:this.onEdit,"data-navigation-panel-opener":true},l.createElement(d.IconEllipsisH,null))},l.createElement(f.Text.InfoH200,null,o.title))};return t}(l.Component),a.STYLES=c.StyleSheet.create({pageGroup:{color:f.colors.GREY_BASE}}),i))||o);t.default=O},"./space/components/PagesNavigation/PageItem.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s;var l=n("./node_modules/react/index.js");var u=b(l);var c=n("./node_modules/react-sortable-hoc/dist/commonjs/index.js");var p=n("./node_modules/aphrodite/no-important.js");var f=n("./core/index.js");var d=n("./styleguide/index.js");var v=n("./space/components/PagesNavigation/PageLink.js");var g=P(v);var h=n("./space/components/PagesNavigation/PageGroup.js");var m=P(h);var y=n("./space/components/PagesNavigation/PageDocument.js");var E=P(y);function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(o={},o[f.Page.KIND_DOCUMENT]=E.default,o[f.Page.KIND_GROUP]=m.default,o[f.Page.KIND_LINK]=g.default,o);function S(e){return{color:0===e?d.colors.GREY_DARKER:d.colors.GREY_BASE,marginLeft:d.spacing.S200*e+"px",borderLeftColor:e>0?d.colors.GREY_LIGHTER:"transparent",boxShadow:Array.from({length:e},function(e,t){return t}).slice(1).map(function(e){return-e*d.spacing.S200+1+"px 0 0 0 "+d.colors.GREY_LIGHTEST+", "+-e*d.spacing.S200+"px 0 0 0 "+d.colors.GREY_LIGHTER}).join(", ")}}var x=(i=a=function(e){O(t,e);function t(){var n,r,o;_(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=j(this,e.call.apply(e,[this].concat(i))),r),r.onInsertPageBefore=function(){var e=r.props,t=e.page,n=e.onInsertPageBefore;n&&n(t)},r.onInsertPageAfter=function(){var e=r.props,t=e.page,n=e.onInsertPageAfter;n&&n(t)},n),j(r,o)}t.prototype.render=function e(){var n=this;var o=t.STYLES;var a=this.props,i=a.version,s=a.page,l=a.readOnly,c=a.depth,p=a.onInsertPageBefore,f=a.onInsertPageAfter;var v=w[s.kind];var g=i.page===s;return u.createElement(d.HoverZone,null,function(e){var t=e.hoverAttributes,a=e.top,i=e.bottom;return u.createElement(d.View,r({},t,{styles:[o.pageItem],style:S(c)}),!l&&p&&a&&u.createElement("div",{className:"draggingHidden"},u.createElement(d.InsertionLine,{position:"start",orientation:"horizontal",onClick:n.onInsertPageBefore,styles:[o.insertionLine],transparent:true})),u.createElement(d.View,{styles:[o.pageComponent]},u.createElement(v,n.props)),!l&&f&&i&&u.createElement("div",{className:"draggingHidden"},u.createElement(d.InsertionLine,{position:"end",orientation:"horizontal",onClick:n.onInsertPageAfter,styles:[o.insertionLine],style:{width:s.pages.size>0&&!g?"calc(100% - "+d.spacing.S200+"px)":null},transparent:true})))})};return t}(u.Component),a.STYLES=p.StyleSheet.create({pageItem:{position:"relative",borderLeft:"1px solid transparent"},pageComponent:{marginLeft:-1},insertionLine:{justifyContent:"flex-end",left:"auto",right:0,paddingRight:23}}),a.getDepthStyles=S,i);var C=(0,c.SortableElement)(s=function(e){O(t,e);function t(){_(this,t);return j(this,e.apply(this,arguments))}return t}(x))||s;x.Sortable=C;t.default=x},"./space/components/PagesNavigation/PageLink.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n("./node_modules/react/index.js");var s=y(i);var l=n("./node_modules/react-redux/es/index.js");var u=n("./node_modules/aphrodite/no-important.js");var c=n("./core/index.js");var p=n("./icons/index.js");var f=n("./space/actions/navigationPanel.js");var d=n("./space/models/StateNavigationPanel.js");var v=m(d);var g=n("./space/components/PagesNavigation/NavButton/index.js");var h=m(g);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}var j=function e(t){var n=t.styles,r=t.children,o=_(t,["styles","children"]);return s.createElement("a",a({},o,{className:(0,u.css)(n)}),r)};var O=(r=(0,l.connect)(function(e,t){var n=e.navigationPanel,r=e.edition;var o=t.page;return{isOpen:n.type===v.default.TYPES.EDIT_PAGE_LINK&&n.pageID===o.uid,isShowingOnlyConflicts:r.isShowingOnlyConflicts}}),r(o=function(e){b(t,e);function t(){var n,r,o;E(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=P(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onEdit=function(e){var t=r.props,n=t.page,o=t.readOnly,a=t.dispatch;var i=!o;if(i){e.preventDefault();a((0,f.togglePageLinkEditPanel)(n.uid))}},r.onMouseEnter=function(){r.setState({isHover:true})},r.onMouseLeave=function(){r.setState({isHover:false})},n),P(r,o)}t.prototype.render=function e(){var t=this.props,n=t.page,r=t.diff,o=t.readOnly,a=t.isShowingOnlyConflicts,i=t.isOpen,l=t.styles;var u=this.state.isHover;return s.createElement(h.default,{component:j,href:n.href,target:"_blank",rel:"noopener noreferrer",icon:s.createElement(h.default.Icon,{onClick:this.onEdit,"data-navigation-panel-opener":true},s.createElement(p.IconExternalLink,{style:{visibility:!o&&u?"hidden":"visible"}}),!o&&u&&s.createElement(h.default.IconOverlay,null,s.createElement(p.IconEllipsisH,null))),diff:r&&r.type,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,isOpen:i,isDraggable:!o&&!a,styles:l},n.title)};return t}(s.Component))||o);t.default=O},"./space/components/PagesNavigation/PagesNavigation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;var o=n("./node_modules/react/index.js");var a=p(o);var i=n("./node_modules/aphrodite/no-important.js");n("./core/index.js");var s=n("./styleguide/index.js");var l=n("./space/components/PagesNavigation/PagesTree.js");var u=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=i.StyleSheet.create({pageNavigation:(r={fontSize:s.font.SIZE_NORMAL,marginTop:s.spacing.S400,paddingLeft:s.spacing.S200},r["@media "+s.MEDIA.TABLET]={paddingLeft:s.spacing.S300},r)});var h=function(e){v(t,e);function t(){f(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.version,r=t.currentPage,o=t.pageRootDiff,s=t.readOnly;return a.createElement("div",{className:(0,i.css)(g.pageNavigation)},a.createElement(u.default,{version:n,currentPage:r,readOnly:s,pageRootDiff:o}))};return t}(a.Component);t.default=h},"./space/components/PagesNavigation/PagesTree.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,s,l;var u=n("./node_modules/react/index.js");var c=C(u);var p=n("./node_modules/react-dom/index.js");var f=n("./node_modules/lodash.throttle/index.js");var d=x(f);var v=n("./node_modules/react-redux/es/index.js");var g=n("./node_modules/immutable/dist/immutable.js");var h=n("./node_modules/dom-closest/index.js");var m=x(h);var y=n("./core/index.js");var E=n("./styleguide/index.js");var P=n("./space/actions/edition.js");var b=n("./space/components/Routing/index.js");var _=n("./space/components/PagesNavigation/PageItem.js");var j=x(_);var O=n("./space/components/PagesNavigation/PageFlatList.js");var w=x(O);var S=n("./space/components/PagesNavigation/utils.js");function x(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=(o=(0,v.connect)(function(e){var t=e.edition;return{conflicts:t.getConflictsState(),isShowingOnlyConflicts:t.isShowingOnlyConflicts}}),o(a=(0,b.contentRoutingConnect)(a=(s=i=function(e){R(t,e);t.getContainer=function e(t){return(0,m.default)((0,p.findDOMNode)(t),"[data-scrollable]")};function t(n){T(this,t);var o=I(this,e.call(this,n));l.call(o);var a=(0,S.computeOpenedPages)(n.version.page,n.currentPage);o.onSortMove=(0,d.default)(o.onSortMove,100);o.state=r({pages:o.computeFlatPages(o.props,{expanded:a}),expanded:a},t.INITIAL);return o}t.prototype.componentWillReceiveProps=function e(t){var n=this;if(t.version.page==this.props.version.page&&t.readOnly==this.props.readOnly&&t.currentPage==this.props.currentPage&&t.pageRootDiff==this.props.pageRootDiff&&t.isShowingOnlyConflicts==this.props.isShowingOnlyConflicts)return;this.setState(function(e){var r=e.expanded;var o=r.merge((0,S.computeOpenedPages)(t.version.page,t.currentPage));return{expanded:o,pages:n.computeFlatPages(t,{expanded:o})}})};t.prototype.componentWillUnmount=function e(){this.onSortMove.cancel()};t.prototype.getDepthStyles=function e(){var n=this.props.version;var o=this.state,a=o.pages,i=o.oldIndex,s=o.newIndex,l=o.newDepth;var u=i!==t.INITIAL.oldIndex;if(u){var c=(0,S.computeMove)({pages:a,oldIndex:i,newIndex:s,newDepth:l}),p=c.parent;var f=null!=p&&n.page.isChildInGroup(p);return r({},j.default.getDepthStyles(f?l-1:l),{zIndex:E.zIndexes.SIDEBAR+1})}return{}};t.prototype.render=function e(){var n=this;var r=t.INITIAL;var o=this.props,a=o.version,i=o.currentPage,s=o.readOnly,l=o.isShowingOnlyConflicts,u=o.pageRootDiff,p=o.conflicts;var f=this.state,d=f.expanded,v=f.pages,g=f.oldIndex;var h=g!==r.oldIndex;var m=a.page;var y={key:m.uid,depth:0,page:m,diff:u,conflict:p&&p.getConflict(a,m),isInGroup:false};return c.createElement("div",{ref:function e(t){n.container=t}},c.createElement(w.default,{helperStyle:this.getDepthStyles(),helperClass:"draggingElement",readOnly:s,isSorting:h,root:y,pages:v,isShowingOnlyConflicts:l,onToggleExpand:this.onToggleExpand,onInsertPageBefore:this.onInsertPageBefore,onInsertPageAfter:this.onInsertPageAfter,onInsertPageInRoot:this.onInsertPageInRoot,expanded:d,version:a,currentPage:i,onSortMove:this.onSortMove,onSortStart:this.onSortStart,onSortEnd:this.onSortEnd,onSortOver:this.onSortOver,getContainer:t.getContainer,lockToContainerEdges:true,lockOffset:[0,0],useDragHandle:true,lockAxis:"y"}))};return t}(c.Component),i.INITIAL={oldIndex:-1,newIndex:-1,minDepth:0,maxDepth:0,newDepth:0},l=function e(){var t=this;this.computeFlatPages=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.expanded,r=t.drag;var o=e.version,a=e.readOnly,i=e.pageRootDiff,s=e.conflicts,l=e.isShowingOnlyConflicts;var u=(0,S.computeFlatPages)({root:o.page,diff:i,getConflict:function e(t){return s&&s.getConflict(o,t)},isOpen:function e(t){if(t.uid===r)return false;if(i||!a||t.isGroup)return true;return n.get(t.uid,false)}});if(s&&l)return u.filter(function(e){var t=e.page;return s.pageContainsConflicts(o,t)});return u};this.computeDragOverState=function(e){var n=e.oldIndex,r=e.newIndex;var o=t.state.pages;var a=o.get(n);var i=(0,S.computeDepthRangeAt)({pages:o,oldIndex:n,newIndex:r}),s=i.min,l=i.max;return{oldIndex:n,newIndex:r,minDepth:s,maxDepth:l,newDepth:n==r?a.depth:s}};this.insertPage=function(e,n){var r=t.props,o=r.version,a=r.dispatch,i=r.navigate;var s=o.page.getParentOf(e);if(null==s)throw new Error("Cannot insert a page in a non-existing parent");var l=s.getIndexOf(e)+n;var u=y.Page.createUntitled();var c=a((0,P.insertPage)(o,s,l,u));i({toPage:c})};this.onInsertPageBefore=function(e){t.insertPage(e,0)};this.onInsertPageAfter=function(e){if(e.pages.size>0){t.insertPage(e.pages.first(),0);return}t.insertPage(e,1)};this.onInsertPageInRoot=function(e){var n=t.props,r=n.version,o=n.dispatch,a=n.navigate;var i=y.Page.createUntitled();var s=o((0,P.insertPage)(r,e,0,i));a({toPage:s})};this.onToggleExpand=function(e,n){t.setState(function(r){var o=r.expanded;var a=o.set(e.uid,"boolean"==typeof n?n:!o.get(e.uid));return{expanded:a,pages:t.computeFlatPages(t.props,{expanded:a})}})};this.onSortStart=function(e,n){n.preventDefault();t.setState(function(n){var o=n.expanded,a=n.pages;var i=a.get(e.index),s=i.page;return r({},t.computeDragOverState({oldIndex:e.index,newIndex:e.index}),{pages:t.computeFlatPages(t.props,{expanded:o,drag:s.uid})})})};this.onSortOver=function(e){t.setState(t.computeDragOverState({oldIndex:e.index,newIndex:e.newIndex}))};this.onSortMove=function(e){var n=30;var r=t.container.getBoundingClientRect();var o=e.pageX-r.left;t.setState(function(e){var t=e.minDepth,r=e.maxDepth;var a=Math.floor(o/n);var i=Math.max(t,Math.min(r,a));return{newDepth:i}})};this.onSortEnd=function(e){var n=t.props,o=n.version,a=n.dispatch;var i=t.state,s=i.pages,l=i.expanded,u=i.newDepth;var c=e.oldIndex,p=e.newIndex;var f=s.get(c);if(f.depth==u&&p==c)t.setState({pages:t.computeFlatPages(t.props,{expanded:l})});else{var d=(0,S.computeMove)({pages:s,oldIndex:c,newIndex:p,newDepth:u}),v=d.parent,g=d.insertAt;a((0,P.movePage)(o,f.page,v||o.page,g))}t.setState(r({},N.INITIAL))}},s))||a)||a);t.default=N},"./space/components/PagesNavigation/Releases/FirstNewReleaseButton.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=g(a);var s=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");var u=n("./icons/index.js");var c=n("./space/components/PagesNavigation/NavButton/index.js");var p=v(c);var f=n("./space/components/PagesNavigation/Releases/ReleaseOnboardingModal.js");var d=v(f);function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(o=r=function(e){y(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=m(this,e.call.apply(e,[this].concat(i))),r),r.state={isOpen:false},r.onOpen=function(){r.setState({isOpen:true})},r.onClose=function(){r.setState({isOpen:false})},n),m(r,o)}t.prototype.componentDidMount=function e(){var t=this.props.onClosePanel;t()};t.prototype.render=function e(){var n=t.STYLES;var r=this.props.onCreateRelease;var o=this.state.isOpen;return i.createElement(i.Fragment,null,o&&i.createElement(d.default,{onClose:this.onClose,onCreateRelease:r}),i.createElement(p.default,{icon:i.createElement(p.default.Icon,null,i.createElement(u.IconPlus,null)),styles:[p.default.STYLES.action,p.default.STYLES.large,n.firstNewReleaseButton],onClick:this.onOpen},"Create a new release"))};return t}(i.Component),r.STYLES=s.StyleSheet.create({firstNewReleaseButton:{borderBottom:"1px solid "+l.colors.GREY_LIGHTER}}),o);t.default=E},"./space/components/PagesNavigation/Releases/NewReleaseButton.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n("./node_modules/react/index.js");var o=u(r);var a=n("./icons/index.js");var i=n("./space/components/PagesNavigation/NavButton/index.js");var s=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){f(t,e);function t(){var n,r,o;c(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=p(this,e.call.apply(e,[this].concat(i))),r),r.onClick=function(e){e.stopPropagation();var t=r.props.onClick;t()},n),p(r,o)}t.prototype.render=function e(){var t=this.props.disabled;return o.createElement(s.default,{icon:o.createElement(s.default.Icon,null,o.createElement(a.IconPlus,null)),styles:[s.default.STYLES.action,t&&s.default.STYLES.disabled],onClick:this.onClick},"Create a new release")};return t}(o.Component);t.default=d},"./space/components/PagesNavigation/Releases/ReleaseList.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var s=n("./node_modules/react/index.js");var l=m(s);var u=n("./node_modules/react-redux/es/index.js");var c=n("./node_modules/react-sortable-hoc/dist/commonjs/index.js");var p=n("./node_modules/aphrodite/no-important.js");var f=n("./styleguide/index.js");var d=n("./space/actions/navigationPanel.js");var v=n("./space/components/PagesNavigation/Releases/ReleaseListItem.js");var g=h(v);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(r=(0,u.connect)(function(e){var t=e.navigationPanel;return{editingVersionID:t.isCreatingRelease||t.isEditingRelease?t.versionID:null}}),(0,c.SortableContainer)(o=r(o=(i=a=function(e){P(t,e);function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=E(this,e.call.apply(e,[this].concat(i))),r),r.onToggleEditRelease=function(e){var t=r.props,n=t.dispatch,o=t.editingVersionID;n(o===e?(0,d.closePanel)():(0,d.toggleReleaseEditPanel)(e))},n),E(r,o)}t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.props,a=o.readOnly,i=o.editingVersionID,s=o.currentVersion,u=o.versions,c=o.versionDiffs,p=o.primaryVersionID;var d=c?c.map(function(e){return{diff:e,version:e.getMostRecent()}}):u.map(function(e){return{diff:void 0,version:e}});return l.createElement(f.View,{styles:[r.releaseList]},d.toArray().map(function(e,t){var r=e.diff,o=e.version;return l.createElement(g.default,{key:o.uid,index:t,version:o,diff:r,isActive:o.uid===s.uid,isPrimary:o.uid===p,isEditing:o.uid===i,onEdit:n.onToggleEditRelease,readOnly:a})}))};return t}(l.Component),a.STYLES=p.StyleSheet.create({releaseList:{backgroundColor:f.colors.GREY_LIGHT}}),i))||o)||o);t.default=b},"./space/components/PagesNavigation/Releases/ReleaseListItem.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var i=n("./node_modules/react/index.js");var s=h(i);var l=n("./node_modules/react-sortable-hoc/dist/commonjs/index.js");var u=n("./node_modules/aphrodite/no-important.js");var c=n("./styleguide/index.js");var p=n("./icons/index.js");var f=n("./space/components/Routing/index.js");var d=n("./space/components/PagesNavigation/NavButton/index.js");var v=g(d);function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=(0,l.SortableElement)(r=(a=o=function(e){E(t,e);function t(){var n,r,o;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=y(this,e.call.apply(e,[this].concat(i))),r),r.state={isHover:false},r.onMouseEnter=function(){r.setState({isHover:true})},r.onMouseLeave=function(){r.setState({isHover:false})},r.onEdit=function(e){var t=r.props,n=t.readOnly,o=t.onEdit,a=t.version;if(n)return;e.preventDefault();e.stopPropagation();o(a.uid)},n),y(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.readOnly,a=r.version,i=r.diff,l=r.isActive,u=r.isPrimary,d=r.isEditing;var g=this.state.isHover;return s.createElement(v.default,{icon:s.createElement(v.default.Icon,{onClick:this.onEdit},s.createElement(p.IconEllipsisH,{style:{opacity:!o&&g?1:0}}),u&&s.createElement(v.default.IconOverlay,null,s.createElement(c.Text.InfoH100,{style:{opacity:!o&&g?0:1}},"Main"))),component:f.ContentLink,isDraggable:!o,isActive:l,isOpen:d,toVersion:u?null:a.uid,toPrimaryVersion:u,diff:i&&i.type,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,styles:[n.releaseListItem],toRootPage:true,unstyled:true},a.title)};return t}(s.Component),o.STYLES=u.StyleSheet.create({releaseListItem:{backgroundColor:c.colors.GREY_LIGHTEST}}),a))||r;t.default=P},"./space/components/PagesNavigation/Releases/ReleaseOnboardingModal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=f(a);var s=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");var u=n(35);var c=p(u);function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(o=r=function(e){g(t,e);function t(){d(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.onCreateRelease,a=r.onClose;return i.createElement(l.ColorPalette.Brand,null,i.createElement(l.Popup,{onClose:a},i.createElement(l.Modal,null,i.createElement(l.Modal.Header,null,i.createElement(l.Modal.Title,null,i.createElement(l.View,{styles:[n.title]},i.createElement(l.View,{styles:[n.titleContent]},"Create releases"),i.createElement(l.Image,{styles:[n.titleIllustration],src:c.default,alt:"",width:"84",height:"84"})))),i.createElement(l.Modal.Body,{styles:[n.content]},i.createElement(l.Text.TextH400,null,"Releases serve to give your readers access to different versions of your documentation. It is typically used to maintain the documentation for different versions of your product in parallel (API, library, SDK etc.).")),i.createElement(l.Modal.Footer,null,i.createElement(l.View,null,i.createElement(l.Button,{kind:"cancel",onClick:a},"Cancel")),i.createElement(l.View,null,i.createElement(l.Button,{kind:"primary",onClick:o},"Create a new release"))))))};return t}(i.Component),r.STYLES=s.StyleSheet.create({title:{display:"flex",alignItems:"center"},titleContent:{flex:1},titleIllustration:{margin:"-"+l.spacing.S300+"px 0"},content:{color:l.colors.GREY_BASE}}),o);t.default=h},"./space/components/PagesNavigation/Releases/ReleasePicker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i,s;var l=n("./node_modules/react/index.js");var u=S(l);var c=n("./node_modules/react-redux/es/index.js");var p=n("./node_modules/aphrodite/no-important.js");var f=n("./core/index.js");var d=n("./styleguide/index.js");var v=n("./space/actions/edition.js");var g=n("./space/actions/navigationPanel.js");var h=n("./space/components/PagesNavigation/NavigationPanel/index.js");var m=n("./space/components/PagesNavigation/Releases/ReleasePickerToggle.js");var y=w(m);var E=n("./space/components/PagesNavigation/Releases/ReleaseList.js");var P=w(E);var b=n("./space/components/PagesNavigation/Releases/NewReleaseButton.js");var _=w(b);var j=n("./space/components/PagesNavigation/Releases/FirstNewReleaseButton.js");var O=w(j);function w(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=(r=(0,c.connect)(function(e){var t=e.navigationPanel;return{isCreatingRelease:t.isCreatingRelease}}),r(o=(i=a=function(e){T(t,e);function t(){var n,r,o;x(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(n=(r=C(this,e.call.apply(e,[this].concat(i))),r),r.state={isOpen:false},r.onToggleOpen=function(){r.setState(function(e){var t=e.isOpen;return{isOpen:!t}},function(){var e=r.props.dispatch;var t=r.state.isOpen;t||e((0,g.closePanel)())})},r.onCreateRelease=function(){var e=r.props,t=e.revision.versions,n=e.currentVersion,o=e.dispatch;var a="New Release";var i=n.merge({title:a}).updateRef(t,f.Page.normalizePath(a));r.setState({isOpen:true},function(){o((0,v.createVersion)(i));o((0,g.openReleaseCreatePanel)(i.uid))})},r.onSortEnd=function(e){var t=r.props.dispatch;t((0,v.moveVersion)(e.oldIndex,e.newIndex))},r.onClickOutside=function(e){if((0,h.isNavigationPanelWrapper)(e.target))return;r.setState({isOpen:false})},r.onClosePanel=function(){var e=r.props.dispatch;e((0,g.closePanel)())},n),C(r,o)}t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.state.isOpen;var a=this.props,i=a.isCreatingRelease,s=a.readOnly,l=a.currentVersion,c=a.versionDiffs,f=a.revision,v=f.versions,g=f.primaryVersionID;if(1===v.size)return s?null:u.createElement(d.View,{styles:[r.releasePicker]},u.createElement(O.default,{onCreateRelease:this.onCreateRelease,onClosePanel:this.onClosePanel}));return u.createElement(d.ClickOutside,{onClickOutside:this.onClickOutside},function(e){return u.createElement(d.View,{elementRef:e,styles:[r.releasePicker,o&&r.releasePickerOpen],onClick:n.onToggleOpen,"data-navigation-panel-opener":true},u.createElement(y.default,{isOpen:o,currentVersion:l,hasDiffs:Boolean(c)}),o&&u.createElement(u.Fragment,null,u.createElement(P.default,{currentVersion:l,versions:v,versionDiffs:c,primaryVersionID:g,readOnly:s,helperClass:(0,p.css)(r.releasePickerSortableHelper),onSortEnd:n.onSortEnd,lockToContainerEdges:true,lockOffset:[0,0],useDragHandle:true,lockAxis:"y"}),!s&&u.createElement(_.default,{onClick:n.onCreateRelease,disabled:i})))})};return t}(u.Component),a.STYLES=p.StyleSheet.create({releasePicker:(s={marginLeft:d.spacing.S200},s["@media "+d.MEDIA.TABLET]={marginLeft:d.spacing.S300},s),releasePickerOpen:{borderBottom:"1px solid "+d.colors.GREY_LIGHTER,paddingBottom:d.spacing.S300},releasePickerSortableHelper:{zIndex:d.zIndexes.SIDEBAR}}),i))||o);t.default=I},"./space/components/PagesNavigation/Releases/ReleasePickerToggle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n("./node_modules/react/index.js");var i=d(a);var s=n("./node_modules/aphrodite/no-important.js");var l=n("./styleguide/index.js");var u=n("./icons/index.js");var c=n("./space/components/PagesNavigation/NavButton/index.js");var p=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){h(t,e);function t(){v(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.isOpen,a=r.currentVersion,s=r.hasDiffs;return i.createElement(p.default,{icon:i.createElement(p.default.Icon,null,o?i.createElement(u.IconChevronDown,null):i.createElement(u.IconChevronRight,null)),styles:[n.releasePickerToggle]},i.createElement(u.IconChangelog,{styles:[n.releasePickerToggleIcon,s&&n.releasePickerToggleIconDiffs]}),a.title)};return t}(i.Component),r.STYLES=s.StyleSheet.create({releasePickerToggle:{paddingTop:l.spacing.S200,paddingBottom:l.spacing.S200,borderBottom:"1px solid "+l.colors.GREY_LIGHTER,position:"relative",zIndex:1,marginBottom:-1},releasePickerToggleIcon:{marginRight:l.spacing.S100},releasePickerToggleIconDiffs:{color:l.colors.DIFF_MODIFIED},releasePickerToggleLabel:{flex:1},releasePickerToggleChevron:{color:l.colors.GREY_BASE},releasePickerToggleChevronOpen:{transform:"rotateZ(90deg)"}}),o);t.default=m},"./space/components/PagesNavigation/Releases/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ReleasePicker=void 0;var r=n("./space/components/PagesNavigation/Releases/ReleasePicker.js");var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.ReleasePicker=o.default},"./space/components/PagesNavigation/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NavigationWrapper=t.PagesNavigation=void 0;var r=n("./space/components/PagesNavigation/NavigationWrapper.js");var o=s(r);var a=n("./space/components/PagesNavigation/PagesNavigation.js");var i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}t.PagesNavigation=i.default;t.NavigationWrapper=o.default},"./space/models/StateNavigationPanel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var o,a;var i=n("./node_modules/immutable/dist/immutable.js");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c={CREATE_RELEASE:"CREATE_RELEASE",EDIT_RELEASE:"EDIT_RELEASE",CREATE_PAGE_GROUP:"CREATE_PAGE_GROUP",EDIT_PAGE_GROUP:"EDIT_PAGE_GROUP",CREATE_PAGE_LINK:"CREATE_PAGE_LINK",EDIT_PAGE_LINK:"EDIT_PAGE_LINK"};var p=(a=o=function(e){u(t,e);function t(){s(this,t);return l(this,e.apply(this,arguments))}t.prototype.close=function e(){return new t};t.prototype.openReleaseCreate=function e(n){return new t({type:c.CREATE_RELEASE,versionID:n})};t.prototype.toggleReleaseEdit=function e(n){if(this.type===c.EDIT_RELEASE&&this.versionID===n)return new t;return new t({type:c.EDIT_RELEASE,versionID:n})};t.prototype.openPageGroupCreate=function e(){return new t({type:c.CREATE_PAGE_GROUP})};t.prototype.togglePageGroupEdit=function e(n){if(this.type===c.EDIT_PAGE_GROUP&&this.pageID===n)return new t;return new t({type:c.EDIT_PAGE_GROUP,pageID:n})};t.prototype.openPageLinkCreate=function e(n,r){return new t({type:c.CREATE_PAGE_LINK,parentID:n,index:r})};t.prototype.togglePageLinkEdit=function e(n){if(this.type===c.EDIT_PAGE_LINK&&this.pageID===n)return new t;return new t({type:c.EDIT_PAGE_LINK,pageID:n})};r(t,[{key:"isOpen",get:function e(){return null!=this.type}},{key:"isEditingRelease",get:function e(){return this.type===c.EDIT_RELEASE}},{key:"isCreatingRelease",get:function e(){return this.type===c.CREATE_RELEASE}}]);return t}((0,i.Record)({type:null,versionID:null,pageID:null,parentID:null,index:null})),o.TYPES=c,a);t.default=p},30:function(e,t,n){"use strict";var r=n("./node_modules/react-lazy-load/node_modules/fbjs/lib/emptyFunction.js");var o=n("./node_modules/react-lazy-load/node_modules/fbjs/lib/invariant.js");var a=n("./node_modules/react-lazy-load/node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,t,n,r,i,s){if(s===a)return;o(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};n.checkPropTypes=r;n.PropTypes=n;return n}},34:function(e,t,n){e.exports=n.p+"images/191fea8100e5326798287a117d6e0ae1.svg"},35:function(e,t,n){e.exports=n.p+"images/688d6dc4f83afab126d84d5a532c0322.svg"}});
//# space-part-28.bfff9459.js.map